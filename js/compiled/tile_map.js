if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PIXI=t()}}(function(){var t;return function e(t,r,i){function n(s,a){if(!r[s]){if(!t[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return n(r?r:e)},u,u.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,r){(function(r){t("./polyfill");var i=e.exports=t("./core");i.extras=t("./extras"),i.filters=t("./filters"),i.interaction=t("./interaction"),i.loaders=t("./loaders"),i.mesh=t("./mesh"),i.loader=new i.loaders.Loader,Object.assign(i,t("./deprecation")),r.PIXI=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":29,"./deprecation":78,"./extras":85,"./filters":102,"./interaction":117,"./loaders":120,"./mesh":126,"./polyfill":130}],2:[function(e,r,i){(function(e){!function(){function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(n,arguments)}}var n,o,s={};n=this,null!=n&&(o=n.async),s.noConflict=function(){return n.async=o,s};var a=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===a.call(t)},l=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r+=1)e(t[r],r,t)},u=function(t,e){if(t.map)return t.map(e);var r=[];return l(t,function(t,i,n){r.push(e(t,i,n))}),r},c=function(t,e,r){return t.reduce?t.reduce(e,r):(l(t,function(t,i,n){r=e(r,t,i,n)}),r)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,s.setImmediate="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,r){function n(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;l(t,function(t){e(t,i(n))})},s.forEach=s.each,s.eachSeries=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0,n=function(){e(t[i],function(e){e?(r(e),r=function(){}):(i+=1,i>=t.length?r():n())})};n()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,r,i){var n=d(e);n.apply(null,[t,r,i])},s.forEachLimit=s.eachLimit;var d=function(t){return function(e,r,i){if(i=i||function(){},!e.length||0>=t)return i();var n=0,o=0,s=0;!function a(){if(n>=e.length)return i();for(;t>s&&o<e.length;)o+=1,s+=1,r(e[o-1],function(t){t?(i(t),i=function(){}):(n+=1,s-=1,n>=e.length?i():a())})}()}},f=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},v=function(t,e){return function(){var r=Array.prototype.slice.call(arguments);return e.apply(null,[d(t)].concat(r))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},m=function(t,e,r,i){if(e=u(e,function(t,e){return{index:e,value:t}}),i){var n=[];t(e,function(t,e){r(t.value,function(r,i){n[t.index]=i,e(r)})},function(t){i(t,n)})}else t(e,function(t,e){r(t.value,function(t){e(t)})})};s.map=f(m),s.mapSeries=g(m),s.mapLimit=function(t,e,r,i){return y(e)(t,r,i)};var y=function(t){return v(t,m)};s.reduce=function(t,e,r,i){s.eachSeries(t,function(t,i){r(e,t,function(t,r){e=r,i(t)})},function(t){i(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,r,i){var n=u(t,function(t){return t}).reverse();s.reduce(n,e,r,i)},s.foldr=s.reduceRight;var x=function(t,e,r,i){var n=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r&&n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=f(x),s.filterSeries=g(x),s.select=s.filter,s.selectSeries=s.filterSeries;var b=function(t,e,r,i){var n=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r||n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=f(b),s.rejectSeries=g(b);var _=function(t,e,r,i){t(e,function(t,e){r(t,function(r){r?(i(t),i=function(){}):e()})},function(t){i()})};s.detect=f(_),s.detectSeries=g(_),s.some=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t&&(r(!0),r=function(){}),i()})},function(t){r(!1)})},s.any=s.some,s.every=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t||(r(!1),r=function(){}),i()})},function(t){r(!0)})},s.all=s.every,s.sortBy=function(t,e,r){s.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){if(t)return r(t);var i=function(t,e){var r=t.criteria,i=e.criteria;return i>r?-1:r>i?1:0};r(null,u(e.sort(i),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var r=p(t),i=r.length;if(!i)return e();var n={},o=[],a=function(t){o.unshift(t)},u=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},d=function(){i--,l(o.slice(0),function(t){t()})};a(function(){if(!i){var t=e;e=function(){},t(null,n)}}),l(r,function(r){var i=h(t[r])?t[r]:[t[r]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};l(p(n),function(t){o[t]=n[t]}),o[r]=i,e(t,o),e=function(){}}else n[r]=i,s.setImmediate(d)},f=i.slice(0,Math.abs(i.length-1))||[],v=function(){return c(f,function(t,e){return t&&n.hasOwnProperty(e)},!0)&&!n.hasOwnProperty(r)};if(v())i[i.length-1](o,n);else{var g=function(){v()&&(u(g),i[i.length-1](o,n))};a(g)}})},s.retry=function(t,e,r){var i=5,n=[];"function"==typeof t&&(r=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var a=function(t,e){return function(r){t(function(t,i){r(!t||e,{err:t,result:i})},o)}};t;)n.push(a(e,!(t-=1)));s.series(n,function(t,e){e=e[e.length-1],(i||r)(e.err,e.result)})};return r?o():o},s.waterfall=function(t,e){if(e=e||function(){},!h(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();var i=function(t){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var n=Array.prototype.slice.call(arguments,1),o=t.next();n.push(o?i(o):e),s.setImmediate(function(){t.apply(null,n)})}}};i(s.iterator(t))()};var T=function(t,e,r){if(r=r||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},r);else{var i={};t.each(p(e),function(t,r){e[t](function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),i[t]=n,r(e)})},function(t){r(t,i)})}};s.parallel=function(t,e){T({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,r){T({map:y(e),each:d(e)},t,r)},s.series=function(t,e){if(e=e||function(){},h(t))s.mapSeries(t,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},e);else{var r={};s.eachSeries(p(t),function(e,i){t[e](function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),r[e]=n,i(t)})},function(t){e(t,r)})}},s.iterator=function(t){var e=function(r){var i=function(){return t.length&&t[r].apply(null,arguments),i.next()};return i.next=function(){return r<t.length-1?e(r+1):null},i};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var E=function(t,e,r,i){var n=[];t(e,function(t,e){r(t,function(t,r){n=n.concat(r||[]),e(t)})},function(t){i(t,n)})};s.concat=f(E),s.concatSeries=g(E),s.whilst=function(t,e,r){t()?e(function(i){return i?r(i):void s.whilst(t,e,r)}):r()},s.doWhilst=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?s.doWhilst(t,e,r):r()})},s.until=function(t,e,r){t()?r():e(function(i){return i?r(i):void s.until(t,e,r)})},s.doUntil=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?r():s.doUntil(t,e,r)})},s.queue=function(t,e){function r(t,e,r,i){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var n={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(n):t.tasks.push(n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var n=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(!o.paused&&n<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),n+=1;var r=function(){n-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+n===0&&o.drain(),o.process()},s=i(r);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return n},idle:function(){return o.tasks.length+n===0},pause:function(){o.paused!==!0&&(o.paused=!0,o.process())},resume:function(){o.paused!==!1&&(o.paused=!1,o.process())}};return o},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function i(t,e,r){for(var i=-1,n=t.length-1;n>i;){var o=i+(n-i+1>>>1);r(e,t[o])>=0?i=o:n=o-1}return i}function n(t,e,n,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var a={data:e,priority:n,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,a,r)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,r){n(o,t,e,r)},delete o.unshift,o},s.cargo=function(t,e){var r=!1,i=[],n={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){h(t)||(t=[t]),l(t,function(t){i.push({data:t,callback:"function"==typeof r?r:null}),n.drained=!1,n.saturated&&i.length===e&&n.saturated()}),s.setImmediate(n.process)},process:function o(){if(!r){if(0===i.length)return n.drain&&!n.drained&&n.drain(),void(n.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=u(s,function(t){return t.data});n.empty&&n.empty(),r=!0,t(a,function(){r=!1;var t=arguments;l(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return r}};return n};var S=function(t){return function(e){var r=Array.prototype.slice.call(arguments,1);e.apply(null,r.concat([function(e){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(r,function(e){console[t](e)}))}]))}};s.log=S("log"),s.dir=S("dir"),s.memoize=function(t,e){var r={},i={};e=e||function(t){return t};var n=function(){var n=Array.prototype.slice.call(arguments),o=n.pop(),a=e.apply(null,n);a in r?s.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,n.concat([function(){r[a]=arguments;var t=i[a];delete i[a];for(var e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)}])))};return n.memo=r,n.unmemoized=t,n},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.map(i,e,r)},s.timesSeries=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.mapSeries(i,e,r)},s.seq=function(){var t=arguments;return function(){var e=this,r=Array.prototype.slice.call(arguments),i=r.pop();s.reduce(t,r,function(t,r,i){r.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,r){i.apply(e,[t].concat(r))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(t,e){var r=function(){var r=this,i=Array.prototype.slice.call(arguments),n=i.pop();return t(e,function(t,e){t.apply(r,i.concat([e]))},n)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return r.apply(this,i)}return r};s.applyEach=f(A),s.applyEachSeries=g(A),s.forever=function(t,e){function r(i){if(i){if(e)return e(i);throw i}t(r)}r()},"undefined"!=typeof r&&r.exports?r.exports=s:"undefined"!=typeof t&&t.amd?t([],function(){return s}):n.async=s}()}).call(this,e("_process"))},{_process:4}],3:[function(t,e,r){(function(t){function e(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};r.resolve=function(){for(var r="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,n="/"===s.charAt(0))}return r=e(i(r.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(t){var n=r.isAbsolute(t),o="/"===s(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var n=i(t.split("/")),o=i(e.split("/")),s=Math.min(n.length,o.length),a=s,h=0;s>h;h++)if(n[h]!==o[h]){a=h;break}for(var l=[],h=a;h<n.length;h++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],i=e[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return 0>e&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:4}],4:[function(t,e,r){function i(){if(!a){a=!0;for(var t,e=s.length;e;){t=s,s=[];for(var r=-1;++r<e;)t[r]();e=s.length}a=!1}}function n(){}var o=e.exports={},s=[],a=!1;o.nextTick=function(t){s.push(t),a||setTimeout(i,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=n,o.addListener=n,o.once=n,o.off=n,o.removeListener=n,o.removeAllListeners=n,o.emit=n,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],5:[function(e,r,i){(function(e){!function(n){function o(t){throw RangeError(B[t])}function s(t,e){for(var r=t.length;r--;)t[r]=e(t[r]);return t}function a(t,e){return s(t.split(O),e).join(".")}function h(t){for(var e,r,i=[],n=0,o=t.length;o>n;)e=t.charCodeAt(n++),e>=55296&&56319>=e&&o>n?(r=t.charCodeAt(n++),56320==(64512&r)?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--)):i.push(e);return i}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function u(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:E}function c(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,r){var i=0;for(t=r?I(t/C):t>>1,t+=I(t/e);t>L*A>>1;i+=E)t=I(t/L);return I(i+(L+1)*t/(t+w))}function d(t){var e,r,i,n,s,a,h,c,d,f,v=[],g=t.length,m=0,y=R,x=M;for(r=t.lastIndexOf(D),0>r&&(r=0),i=0;r>i;++i)t.charCodeAt(i)>=128&&o("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;g>n;){for(s=m,a=1,h=E;n>=g&&o("invalid-input"),c=u(t.charCodeAt(n++)),(c>=E||c>I((T-m)/a))&&o("overflow"),m+=c*a,d=x>=h?S:h>=x+A?A:h-x,!(d>c);h+=E)f=E-d,a>I(T/f)&&o("overflow"),a*=f;e=v.length+1,x=p(m-s,e,0==s),I(m/e)>T-y&&o("overflow"),y+=I(m/e),m%=e,v.splice(m++,0,y)}return l(v)}function f(t){var e,r,i,n,s,a,l,u,d,f,v,g,m,y,x,b=[];for(t=h(t),g=t.length,e=R,r=0,s=M,a=0;g>a;++a)v=t[a],128>v&&b.push(N(v));for(i=n=b.length,n&&b.push(D);g>i;){for(l=T,a=0;g>a;++a)v=t[a],v>=e&&l>v&&(l=v);for(m=i+1,l-e>I((T-r)/m)&&o("overflow"),r+=(l-e)*m,e=l,a=0;g>a;++a)if(v=t[a],e>v&&++r>T&&o("overflow"),v==e){for(u=r,d=E;f=s>=d?S:d>=s+A?A:d-s,!(f>u);d+=E)x=u-f,y=E-f,b.push(N(c(f+x%y,0))),u=I(x/y);b.push(N(c(u,0))),s=p(r,m,i==n),r=0,++i}++r,++e}return b.join("")}function v(t){return a(t,function(t){return F.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return P.test(t)?"xn--"+f(t):t})}var m="object"==typeof i&&i,y="object"==typeof r&&r&&r.exports==m&&r,x="object"==typeof e&&e;(x.global===x||x.window===x)&&(n=x);var b,_,T=2147483647,E=36,S=1,A=26,w=38,C=700,M=72,R=128,D="-",F=/^xn--/,P=/[^ -~]/,O=/\x2E|\u3002|\uFF0E|\uFF61/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=E-S,I=Math.floor,N=String.fromCharCode;if(b={version:"1.2.4",ucs2:{decode:h,encode:l},decode:d,encode:f,toASCII:g,toUnicode:v},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(m&&!m.nodeType)if(y)y.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(m[_]=b[_]);else n.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var l=t.length;h>0&&l>h&&(l=h);for(var u=0;l>u;++u){var c,p,d,f,v=t[u].replace(a,"%20"),g=v.indexOf(r);g>=0?(c=v.substr(0,g),p=v.substr(g+1)):(c=v,p=""),d=decodeURIComponent(c),f=decodeURIComponent(p),i(s,d)?n(s[d])?s[d].push(f):s[d]=[s[d],f]:s[d]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],7:[function(t,e,r){"use strict";function i(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(n(s))+r;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],8:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":6,"./encode":7}],9:[function(t,e,r){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(t,e,r){if(t&&l(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}function o(t){return h(t)&&(t=n(t)),t instanceof i?t.format():i.prototype.format.call(t)}function s(t,e){return n(t,!1,!0).resolve(e)}function a(t,e){return t?n(t,!1,!0).resolveObject(e):e}function h(t){return"string"==typeof t}function l(t){return"object"==typeof t&&null!==t}function u(t){return null===t}function c(t){return null==t}var p=t("punycode");r.parse=n,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=i;var d=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(v),m=["'"].concat(g),y=["%","/","?",";","#"].concat(m),x=["/","?","#"],b=255,_=/^[a-z0-9A-Z_-]{0,63}$/,T=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=t("querystring");i.prototype.parse=function(t,e,r){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t;i=i.trim();var n=d.exec(i);if(n){n=n[0];var o=n.toLowerCase();this.protocol=o,i=i.substr(n.length)}if(r||n||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||n&&S[n]||(i=i.substr(2),this.slashes=!0)}if(!S[n]&&(s||n&&!A[n])){for(var a=-1,l=0;l<x.length;l++){var u=i.indexOf(x[l]);-1!==u&&(-1===a||a>u)&&(a=u)}var c,f;f=-1===a?i.lastIndexOf("@"):i.lastIndexOf("@",a),-1!==f&&(c=i.slice(0,f),i=i.slice(f+1),this.auth=decodeURIComponent(c)),a=-1;for(var l=0;l<y.length;l++){var u=i.indexOf(y[l]);-1!==u&&(-1===a||a>u)&&(a=u)}-1===a&&(a=i.length),this.host=i.slice(0,a),i=i.slice(a),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),l=0,C=g.length;C>l;l++){var M=g[l];if(M&&!M.match(_)){for(var R="",D=0,F=M.length;F>D;D++)R+=M.charCodeAt(D)>127?"x":M[D];if(!R.match(_)){var P=g.slice(0,l),O=g.slice(l+1),B=M.match(T);B&&(P.push(B[1]),O.unshift(B[2])),O.length&&(i="/"+O.join(".")+i),this.hostname=P.join(".");break}}}if(this.hostname=this.hostname.length>b?"":this.hostname.toLowerCase(),!v){for(var L=this.hostname.split("."),I=[],l=0;l<L.length;++l){var N=L[l];I.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(N):N)}this.hostname=I.join(".")}var U=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+U,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!E[o])for(var l=0,C=m.length;C>l;l++){var j=m[l],X=encodeURIComponent(j);X===j&&(X=escape(j)),i=i.split(j).join(X)}var G=i.indexOf("#");-1!==G&&(this.hash=i.substr(G),i=i.slice(0,G));var Y=i.indexOf("?");if(-1!==Y?(this.search=i.substr(Y),this.query=i.substr(Y+1),e&&(this.query=w.parse(this.query)),i=i.slice(0,Y)):e&&(this.search="",this.query={}),i&&(this.pathname=i),A[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",N=this.search||"";this.path=U+N}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(o=w.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||A[e])&&n!==!1?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+n+r+s+i},i.prototype.resolve=function(t){return this.resolveObject(n(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(h(t)){var e=new i;e.parse(t,!1,!0),t=e}var r=new i;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),A[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!A[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||S[t.protocol])r.pathname=t.pathname;else{for(var n=(t.pathname||"").split("/");n.length&&!(t.host=n.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),r.pathname=n.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var o=r.pathname||"",s=r.search||"";r.path=o+s}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var a=r.pathname&&"/"===r.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=l||a||r.host&&t.pathname,d=p,f=r.pathname&&r.pathname.split("/")||[],n=t.pathname&&t.pathname.split("/")||[],v=r.protocol&&!A[r.protocol];if(v&&(r.hostname="",r.port=null,r.host&&(""===f[0]?f[0]=r.host:f.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===n[0]?n[0]=t.host:n.unshift(t.host)),t.host=null),p=p&&(""===n[0]||""===f[0])),l)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,f=n;else if(n.length)f||(f=[]),f.pop(),f=f.concat(n),r.search=t.search,r.query=t.query;else if(!c(t.search)){if(v){r.hostname=r.host=f.shift();var g=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return r.search=t.search,r.query=t.query,u(r.pathname)&&u(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!f.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var m=f.slice(-1)[0],y=(r.host||t.host)&&("."===m||".."===m)||""===m,x=0,b=f.length;b>=0;b--)m=f[b],"."==m?f.splice(b,1):".."===m?(f.splice(b,1),x++):x&&(f.splice(b,1),x--);if(!p&&!d)for(;x--;x)f.unshift("..");!p||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),y&&"/"!==f.join("/").substr(-1)&&f.push("");var _=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(v){r.hostname=r.host=_?"":f.length?f.shift():"";var g=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return p=p||r.host&&f.length,p&&!_&&f.unshift(""),f.length?r.pathname=f.join("/"):(r.pathname=null,r.path=null),u(r.pathname)&&u(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:5,querystring:8}],10:[function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i=e&&e.length,a=i?e[0]*r:t.length,h=o(t,n(t,0,a,r,!0)),l=[];if(!h)return l;var c,p,d,f,v,g,m;if(i&&(h=u(t,e,h,r)),t.length>80*r){c=d=t[0],p=f=t[1];for(var y=r;a>y;y+=r)v=t[y],g=t[y+1],c>v&&(c=v),p>g&&(p=g),v>d&&(d=v),g>f&&(f=g);m=Math.max(d-c,f-p)}return s(t,h,l,r,c,p,m),l}function n(t,e,r,i,n){var o,s,a,h=0;for(o=e,s=r-i;r>o;o+=i)h+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;if(n===h>0)for(o=e;r>o;o+=i)a=A(o,a);else for(o=r-i;o>=e;o-=i)a=A(o,a);return a}function o(t,e,r){r||(r=e);var i,n=e;do if(i=!1,x(t,n.i,n.next.i)||0===y(t,n.prev.i,n.i,n.next.i)){if(n.prev.next=n.next,n.next.prev=n.prev,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ),n=r=n.prev,n===n.next)return null;i=!0}else n=n.next;while(i||n!==r);return r}function s(t,e,r,i,n,u,c,p){if(e){p||void 0===n||d(t,e,n,u,c);for(var f,v,g=e;e.prev!==e.next;)if(f=e.prev,v=e.next,a(t,e,n,u,c))r.push(f.i/i),r.push(e.i/i),r.push(v.i/i),v.prev=f,f.next=v,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ),e=v.next,g=v.next;else if(e=v,e===g){p?1===p?(e=h(t,e,r,i),s(t,e,r,i,n,u,c,2)):2===p&&l(t,e,r,i,n,u,c):s(t,o(t,e),r,i,n,u,c,1);break}}}function a(t,e,r,i,n){var o=e.prev.i,s=e.i,a=e.next.i,h=t[o],l=t[o+1],u=t[s],c=t[s+1],p=t[a],d=t[a+1],f=h*c-l*u,g=h*d-l*p,m=p*c-d*u,y=f-g-m;if(0>=y)return!1;var x,b,_,T,E,S,A,w=d-l,C=h-p,M=l-c,R=u-h;if(void 0!==r){var D=u>h?p>h?h:p:p>u?u:p,F=c>l?d>l?l:d:d>c?c:d,P=h>u?h>p?h:p:u>p?u:p,O=l>c?l>d?l:d:c>d?c:d,B=v(D,F,r,i,n),L=v(P,O,r,i,n);for(A=e.nextZ;A&&A.z<=L;)if(x=A.i,A=A.nextZ,x!==o&&x!==a&&(b=t[x],_=t[x+1],T=w*b+C*_-g,T>=0&&(E=M*b+R*_+f,E>=0&&(S=y-T-E,S>=0&&(T&&E||T&&S||E&&S)))))return!1;for(A=e.prevZ;A&&A.z>=B;)if(x=A.i,A=A.prevZ,x!==o&&x!==a&&(b=t[x],_=t[x+1],T=w*b+C*_-g,T>=0&&(E=M*b+R*_+f,E>=0&&(S=y-T-E,S>=0&&(T&&E||T&&S||E&&S)))))return!1}else for(A=e.next.next;A!==e.prev;)if(x=A.i,A=A.next,b=t[x],_=t[x+1],T=w*b+C*_-g,T>=0&&(E=M*b+R*_+f,E>=0&&(S=y-T-E,S>=0&&(T&&E||T&&S||E&&S))))return!1;return!0}function h(t,e,r,i){var n=e;do{var o=n.prev,s=n.next.next;if(o.i!==s.i&&b(t,o.i,n.i,n.next.i,s.i)&&T(t,o,s)&&T(t,s,o)){r.push(o.i/i),r.push(n.i/i),r.push(s.i/i),o.next=s,s.prev=o;var a=n.prevZ,h=n.nextZ&&n.nextZ.nextZ;a&&(a.nextZ=h),h&&(h.prevZ=a),n=e=s}n=n.next}while(n!==e);return n}function l(t,e,r,i,n,a,h){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&m(t,l,u)){var c=S(l,u);return l=o(t,l,l.next),c=o(t,c,c.next),s(t,l,r,i,n,a,h),void s(t,c,r,i,n,a,h)}u=u.next}l=l.next}while(l!==e)}function u(t,e,r,i){var s,a,h,l,u,p=[];for(s=0,a=e.length;a>s;s++)h=e[s]*i,l=a-1>s?e[s+1]*i:t.length,u=o(t,n(t,h,l,i,!1)),u&&p.push(g(t,u));for(p.sort(function(e,r){return t[e.i]-t[r.i]}),s=0;s<p.length;s++)c(t,p[s],r),r=o(t,r,r.next);return r}function c(t,e,r){if(r=p(t,e,r)){var i=S(r,e);o(t,i,i.next)}}function p(t,e,r){var i,n,o,s=r,a=e.i,h=t[a],l=t[a+1],u=-(1/0);do{if(n=s.i,o=s.next.i,l<=t[n+1]&&l>=t[o+1]){var c=t[n]+(l-t[n+1])*(t[o]-t[n])/(t[o+1]-t[n+1]);h>=c&&c>u&&(u=c,i=t[n]<t[o]?s:s.next)}s=s.next}while(s!==r);if(!i)return null;var p,d,f,v,g,m,y=t[i.i],x=t[i.i+1],b=h*x-l*y,_=h*l-l*u,E=l-l,S=h-u,A=l-x,w=y-h,C=b-_-(u*x-l*y),M=0>=C?-1:1,R=i,D=1/0;for(s=i.next;s!==R;)p=t[s.i],d=t[s.i+1],f=h-p,f>=0&&p>=y&&(v=(E*p+S*d-_)*M,v>=0&&(g=(A*p+w*d+b)*M,g>=0&&C*M-v-g>=0&&(m=Math.abs(l-d)/f,D>m&&T(t,s,e)&&(i=s,D=m)))),s=s.next;return i}function d(t,e,r,i,n){var o=e;do null===o.z&&(o.z=v(t[o.i],t[o.i+1],r,i,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,f(o)}function f(t){var e,r,i,n,o,s,a,h,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;l>e&&(a++,i=i.nextZ,i);e++);for(h=l;a>0||h>0&&i;)0===a?(n=i,i=i.nextZ,h--):0!==h&&i?r.z<=i.z?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--):(n=r,r=r.nextZ,a--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,l*=2}while(s>1);return t}function v(t,e,r,i,n){return t=1e3*(t-r)/n,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=1e3*(e-i)/n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t,e){var r=e,i=e;do t[r.i]<t[i.i]&&(i=r),r=r.next;while(r!==e);return i}function m(t,e,r){return!_(t,e,e.i,r.i)&&T(t,e,r)&&T(t,r,e)&&E(t,e,e.i,r.i)}function y(t,e,r,i){var n=(t[r+1]-t[e+1])*(t[i]-t[r])-(t[r]-t[e])*(t[i+1]-t[r+1]);return n>0?1:0>n?-1:0}function x(t,e,r){return t[e]===t[r]&&t[e+1]===t[r+1]}function b(t,e,r,i,n){return y(t,e,r,i)!==y(t,e,r,n)&&y(t,i,n,e)!==y(t,i,n,r)}function _(t,e,r,i){var n=e;do{var o=n.i,s=n.next.i;if(o!==r&&s!==r&&o!==i&&s!==i&&b(t,o,s,r,i))return!0;n=n.next}while(n!==e);return!1}function T(t,e,r){return-1===y(t,e.prev.i,e.i,e.next.i)?-1!==y(t,e.i,r.i,e.next.i)&&-1!==y(t,e.i,e.prev.i,r.i):-1===y(t,e.i,r.i,e.prev.i)||-1===y(t,e.i,e.next.i,r.i)}function E(t,e,r,i){var n=e,o=!1,s=(t[r]+t[i])/2,a=(t[r+1]+t[i+1])/2;do{var h=n.i,l=n.next.i;t[h+1]>a!=t[l+1]>a&&s<(t[l]-t[h])*(a-t[h+1])/(t[l+1]-t[h+1])+t[h]&&(o=!o),n=n.next}while(n!==e);return o}function S(t,e){var r=new w(t.i),i=new w(e.i),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function A(t,e){var r=new w(t);return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function w(t){
this.i=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null}e.exports=i},{}],11:[function(t,e,r){"use strict";function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function n(){}var o="function"!=typeof Object.create?"~":!1;n.prototype._events=void 0,n.prototype.listeners=function(t,e){var r=o?o+t:t,i=this._events&&this._events[r];if(e)return!!i;if(!i)return[];if(this._events[r].fn)return[this._events[r].fn];for(var n=0,s=this._events[r].length,a=new Array(s);s>n;n++)a[n]=this._events[r][n].fn;return a},n.prototype.emit=function(t,e,r,i,n,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var h,l,u=this._events[a],c=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,n),!0;case 6:return u.fn.call(u.context,e,r,i,n,s),!0}for(l=1,h=new Array(c-1);c>l;l++)h[l-1]=arguments[l];u.fn.apply(u.context,h)}else{var p,d=u.length;for(l=0;d>l;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,r);break;default:if(!h)for(p=1,h=new Array(c-1);c>p;p++)h[p-1]=arguments[p];u[l].fn.apply(u[l].context,h)}}return!0},n.prototype.on=function(t,e,r){var n=new i(e,r||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],n]:this._events[s].push(n):this._events[s]=n,this},n.prototype.once=function(t,e,r){var n=new i(e,r||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],n]:this._events[s].push(n):this._events[s]=n,this},n.prototype.removeListener=function(t,e,r,i){var n=o?o+t:t;if(!this._events||!this._events[n])return this;var s=this._events[n],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||r&&s.context!==r)&&a.push(s);else for(var h=0,l=s.length;l>h;h++)(s[h].fn!==e||i&&!s[h].once||r&&s[h].context!==r)&&a.push(s[h]);return a.length?this._events[n]=1===a.length?a[0]:a:delete this._events[n],this},n.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=o,e.exports=n},{}],12:[function(t,e,r){"use strict";function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=Object.assign||function(t,e){for(var r,n,o=i(t),s=1;s<arguments.length;s++){r=arguments[s],n=Object.keys(Object(r));for(var a=0;a<n.length;a++)o[n[a]]=r[n[a]]}return o}},{}],13:[function(e,r,i){(function(e){!function(){function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(n,arguments)}}var n,o,s={};n=this,null!=n&&(o=n.async),s.noConflict=function(){return n.async=o,s};var a=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===a.call(t)},l=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r+=1)e(t[r],r,t)},u=function(t,e){if(t.map)return t.map(e);var r=[];return l(t,function(t,i,n){r.push(e(t,i,n))}),r},c=function(t,e,r){return t.reduce?t.reduce(e,r):(l(t,function(t,i,n){r=e(r,t,i,n)}),r)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,s.setImmediate="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,r){function n(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;l(t,function(t){e(t,i(n))})},s.forEach=s.each,s.eachSeries=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0,n=function(){e(t[i],function(e){e?(r(e),r=function(){}):(i+=1,i>=t.length?r():n())})};n()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,r,i){var n=d(e);n.apply(null,[t,r,i])},s.forEachLimit=s.eachLimit;var d=function(t){return function(e,r,i){if(i=i||function(){},!e.length||0>=t)return i();var n=0,o=0,s=0;!function a(){if(n>=e.length)return i();for(;t>s&&o<e.length;)o+=1,s+=1,r(e[o-1],function(t){t?(i(t),i=function(){}):(n+=1,s-=1,n>=e.length?i():a())})}()}},f=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},v=function(t,e){return function(){var r=Array.prototype.slice.call(arguments);return e.apply(null,[d(t)].concat(r))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},m=function(t,e,r,i){if(e=u(e,function(t,e){return{index:e,value:t}}),i){var n=[];t(e,function(t,e){r(t.value,function(r,i){n[t.index]=i,e(r)})},function(t){i(t,n)})}else t(e,function(t,e){r(t.value,function(t){e(t)})})};s.map=f(m),s.mapSeries=g(m),s.mapLimit=function(t,e,r,i){return y(e)(t,r,i)};var y=function(t){return v(t,m)};s.reduce=function(t,e,r,i){s.eachSeries(t,function(t,i){r(e,t,function(t,r){e=r,i(t)})},function(t){i(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,r,i){var n=u(t,function(t){return t}).reverse();s.reduce(n,e,r,i)},s.foldr=s.reduceRight;var x=function(t,e,r,i){var n=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r&&n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=f(x),s.filterSeries=g(x),s.select=s.filter,s.selectSeries=s.filterSeries;var b=function(t,e,r,i){var n=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r||n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=f(b),s.rejectSeries=g(b);var _=function(t,e,r,i){t(e,function(t,e){r(t,function(r){r?(i(t),i=function(){}):e()})},function(t){i()})};s.detect=f(_),s.detectSeries=g(_),s.some=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t&&(r(!0),r=function(){}),i()})},function(t){r(!1)})},s.any=s.some,s.every=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t||(r(!1),r=function(){}),i()})},function(t){r(!0)})},s.all=s.every,s.sortBy=function(t,e,r){s.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){if(t)return r(t);var i=function(t,e){var r=t.criteria,i=e.criteria;return i>r?-1:r>i?1:0};r(null,u(e.sort(i),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var r=p(t),i=r.length;if(!i)return e();var n={},o=[],a=function(t){o.unshift(t)},u=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},d=function(){i--,l(o.slice(0),function(t){t()})};a(function(){if(!i){var t=e;e=function(){},t(null,n)}}),l(r,function(r){var i=h(t[r])?t[r]:[t[r]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};l(p(n),function(t){o[t]=n[t]}),o[r]=i,e(t,o),e=function(){}}else n[r]=i,s.setImmediate(d)},f=i.slice(0,Math.abs(i.length-1))||[],v=function(){return c(f,function(t,e){return t&&n.hasOwnProperty(e)},!0)&&!n.hasOwnProperty(r)};if(v())i[i.length-1](o,n);else{var g=function(){v()&&(u(g),i[i.length-1](o,n))};a(g)}})},s.retry=function(t,e,r){var i=5,n=[];"function"==typeof t&&(r=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var a=function(t,e){return function(r){t(function(t,i){r(!t||e,{err:t,result:i})},o)}};t;)n.push(a(e,!(t-=1)));s.series(n,function(t,e){e=e[e.length-1],(i||r)(e.err,e.result)})};return r?o():o},s.waterfall=function(t,e){if(e=e||function(){},!h(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();var i=function(t){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var n=Array.prototype.slice.call(arguments,1),o=t.next();n.push(o?i(o):e),s.setImmediate(function(){t.apply(null,n)})}}};i(s.iterator(t))()};var T=function(t,e,r){if(r=r||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},r);else{var i={};t.each(p(e),function(t,r){e[t](function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),i[t]=n,r(e)})},function(t){r(t,i)})}};s.parallel=function(t,e){T({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,r){T({map:y(e),each:d(e)},t,r)},s.series=function(t,e){if(e=e||function(){},h(t))s.mapSeries(t,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},e);else{var r={};s.eachSeries(p(t),function(e,i){t[e](function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),r[e]=n,i(t)})},function(t){e(t,r)})}},s.iterator=function(t){var e=function(r){var i=function(){return t.length&&t[r].apply(null,arguments),i.next()};return i.next=function(){return r<t.length-1?e(r+1):null},i};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var E=function(t,e,r,i){var n=[];t(e,function(t,e){r(t,function(t,r){n=n.concat(r||[]),e(t)})},function(t){i(t,n)})};s.concat=f(E),s.concatSeries=g(E),s.whilst=function(t,e,r){t()?e(function(i){return i?r(i):void s.whilst(t,e,r)}):r()},s.doWhilst=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?s.doWhilst(t,e,r):r()})},s.until=function(t,e,r){t()?r():e(function(i){return i?r(i):void s.until(t,e,r)})},s.doUntil=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?r():s.doUntil(t,e,r)})},s.queue=function(t,e){function r(t,e,r,i){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var n={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(n):t.tasks.push(n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var n=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(!o.paused&&n<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),n+=1;var r=function(){n-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+n===0&&o.drain(),o.process()},s=i(r);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return n},idle:function(){return o.tasks.length+n===0},pause:function(){o.paused!==!0&&(o.paused=!0,o.process())},resume:function(){o.paused!==!1&&(o.paused=!1,o.process())}};return o},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function i(t,e,r){for(var i=-1,n=t.length-1;n>i;){var o=i+(n-i+1>>>1);r(e,t[o])>=0?i=o:n=o-1}return i}function n(t,e,n,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var a={data:e,priority:n,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,a,r)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,r){n(o,t,e,r)},delete o.unshift,o},s.cargo=function(t,e){var r=!1,i=[],n={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){h(t)||(t=[t]),l(t,function(t){i.push({data:t,callback:"function"==typeof r?r:null}),n.drained=!1,n.saturated&&i.length===e&&n.saturated()}),s.setImmediate(n.process)},process:function o(){if(!r){if(0===i.length)return n.drain&&!n.drained&&n.drain(),void(n.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=u(s,function(t){return t.data});n.empty&&n.empty(),r=!0,t(a,function(){r=!1;var t=arguments;l(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return r}};return n};var S=function(t){return function(e){var r=Array.prototype.slice.call(arguments,1);e.apply(null,r.concat([function(e){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(r,function(e){console[t](e)}))}]))}};s.log=S("log"),s.dir=S("dir"),s.memoize=function(t,e){var r={},i={};e=e||function(t){return t};var n=function(){var n=Array.prototype.slice.call(arguments),o=n.pop(),a=e.apply(null,n);a in r?s.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,n.concat([function(){r[a]=arguments;var t=i[a];delete i[a];for(var e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)}])))};return n.memo=r,n.unmemoized=t,n},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.map(i,e,r)},s.timesSeries=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.mapSeries(i,e,r)},s.seq=function(){var t=arguments;return function(){var e=this,r=Array.prototype.slice.call(arguments),i=r.pop();s.reduce(t,r,function(t,r,i){r.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,r){i.apply(e,[t].concat(r))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(t,e){var r=function(){var r=this,i=Array.prototype.slice.call(arguments),n=i.pop();return t(e,function(t,e){t.apply(r,i.concat([e]))},n)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return r.apply(this,i)}return r};s.applyEach=f(A),s.applyEachSeries=g(A),s.forever=function(t,e){function r(i){if(i){if(e)return e(i);throw i}t(r)}r()},"undefined"!=typeof r&&r.exports?r.exports=s:"undefined"!=typeof t&&t.amd?t([],function(){return s}):n.async=s}()}).call(this,e("_process"))},{_process:4}],14:[function(t,e,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],15:[function(t,e,r){function i(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=n.queue(this._boundLoadResource,e),this.resources={}}var n=t("async"),o=t("url"),s=t("./Resource"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.add=i.prototype.enqueue=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,r),"function"==typeof i&&this.resources[t].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},i.prototype._handleBaseUrl=function(t){var e=o.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.lastIndexOf("/")!==t.length-1?this.baseUrl+"/"+t:this.baseUrl+t},i.prototype.before=i.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},i.prototype.after=i.prototype.use=function(t){return this._afterMiddleware.push(t),this},i.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},i.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},i.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(r._boundOnLoad)})},i.prototype._onComplete=function(){this.emit("complete",this,this.resources)},i.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&this._onComplete()}),t._dequeue()},i.prototype._runMiddleware=function(t,e,r){var i=this;n.eachSeries(e,function(e,r){e.call(i,t,r)},r.bind(this,t))},i.LOAD_TYPE=s.LOAD_TYPE,i.XHR_READY_STATE=s.XHR_READY_STATE,i.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},{"./Resource":16,async:13,eventemitter3:14,url:9}],16:[function(t,e,r){function i(t,e,r){if(s.call(this),r=r||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=r.crossOrigin===!0?"anonymous":null,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function n(t){return t.toString().replace("object ","")}function o(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}var s=t("eventemitter3"),a=t("url"),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},i.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this._loadImage();break;case i.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case i.LOAD_TYPE.VIDEO:this._loadElement("video");break;case i.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},i.prototype._loadElement=function(t){if(this.data=document.createElement(t),Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},i.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.responseType=this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?i.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},i.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=r,i},i.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},i.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},i.prototype._xhrOnError=function(){this.error=new Error(n(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},i.prototype._xhrOnAbort=function(){this.error=new Error(n(this.xhr)+" Request was aborted by the user."),this.complete()},i.prototype._xdrOnTimeout=function(){this.error=new Error(n(this.xhr)+" Request timed out."),this.complete()},i.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(r){this.error=new Error("Error trying to parse loaded json:",r)}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(t.responseText,"text/xml")}else{var o=document.createElement("div");o.innerHTML=t.responseText,this.data=o}this.isXml=!0}catch(r){this.error=new Error("Error trying to parse loaded xml:",r)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},i.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,l||(l=document.createElement("a")),l.href=t,t=a.parse(l.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"},i.prototype._determineXhrType=function(){return i._xhrTypeMap[this._getExtension()]||i.XHR_RESPONSE_TYPE.TEXT},i.prototype._determineLoadType=function(){return i._loadTypeMap[this._getExtension()]||i.LOAD_TYPE.XHR},i.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?");-1!==i&&(e=e.substring(0,i)),t=e.substring(e.lastIndexOf(".")+1)}return t},i.prototype._getMimeFromXhrType=function(t){switch(t){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},i.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},i._loadTypeMap={gif:i.LOAD_TYPE.IMAGE,png:i.LOAD_TYPE.IMAGE,bmp:i.LOAD_TYPE.IMAGE,jpg:i.LOAD_TYPE.IMAGE,jpeg:i.LOAD_TYPE.IMAGE,tif:i.LOAD_TYPE.IMAGE,tiff:i.LOAD_TYPE.IMAGE,webp:i.LOAD_TYPE.IMAGE,tga:i.LOAD_TYPE.IMAGE},i._xhrTypeMap={xhtml:i.XHR_RESPONSE_TYPE.DOCUMENT,html:i.XHR_RESPONSE_TYPE.DOCUMENT,htm:i.XHR_RESPONSE_TYPE.DOCUMENT,xml:i.XHR_RESPONSE_TYPE.DOCUMENT,tmx:i.XHR_RESPONSE_TYPE.DOCUMENT,tsx:i.XHR_RESPONSE_TYPE.DOCUMENT,svg:i.XHR_RESPONSE_TYPE.DOCUMENT,gif:i.XHR_RESPONSE_TYPE.BLOB,png:i.XHR_RESPONSE_TYPE.BLOB,bmp:i.XHR_RESPONSE_TYPE.BLOB,jpg:i.XHR_RESPONSE_TYPE.BLOB,jpeg:i.XHR_RESPONSE_TYPE.BLOB,tif:i.XHR_RESPONSE_TYPE.BLOB,tiff:i.XHR_RESPONSE_TYPE.BLOB,webp:i.XHR_RESPONSE_TYPE.BLOB,tga:i.XHR_RESPONSE_TYPE.BLOB,json:i.XHR_RESPONSE_TYPE.JSON,text:i.XHR_RESPONSE_TYPE.TEXT,txt:i.XHR_RESPONSE_TYPE.TEXT},i.setExtensionLoadType=function(t,e){o(i._loadTypeMap,t,e)},i.setExtensionXhrType=function(t,e){o(i._xhrTypeMap,t,e)}},{eventemitter3:14,url:9}],17:[function(t,e,r){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,r="",i=new Array(4),n=0,o=0,s=0;n<t.length;){for(e=new Array(3),o=0;o<e.length;o++)e[o]=n<t.length?255&t.charCodeAt(n++):0;switch(i[0]=e[0]>>2,i[1]=(3&e[0])<<4|e[1]>>4,i[2]=(15&e[1])<<2|e[2]>>6,i[3]=63&e[2],s=n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;o++)r+=this._keyStr.charAt(i[o])}return r}}},{}],18:[function(t,e,r){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":15,"./Resource":16,"./middlewares/caching/memory":19,"./middlewares/parsing/blob":20}],19:[function(t,e,r){var i={};e.exports=function(){return function(t,e){i[t.url]?(t.data=i[t.url],t.complete()):(t.once("complete",function(){i[this.url]=this.data}),e())}}},{}],20:[function(t,e,r){var i=t("../../Resource"),n=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=r,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(r),t.data.onload=null,e()}}}else{var o=t.xhr.getResponseHeader("content-type");o&&0===o.indexOf("image")&&(t.data=new Image,t.data.src="data:"+o+";base64,"+n.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":16,"../../b64":17}],21:[function(t,e,r){e.exports={name:"pixi.js",version:"3.0.7",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:"Mat Groves",contributors:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:"https://github.com/GoodBoyDigital/pixi.js/issues",license:"MIT",repository:{type:"git",url:"https://github.com/GoodBoyDigital/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/"],dependencies:{async:"^0.9.0",brfs:"^1.4.0",earcut:"^2.0.1",eventemitter3:"^1.1.0","object-assign":"^2.0.0","resource-loader":"^1.6.1"},devDependencies:{browserify:"^10.2.3",chai:"^3.0.0",del:"^1.2.0",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.11.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.5","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.0","jshint-summary":"^0.4.0",minimist:"^1.1.1",mocha:"^2.2.5","require-dir":"^0.3.0","run-sequence":"^1.1.0",testem:"^0.8.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.2.1"},browserify:{transform:["brfs"]}}},{}],22:[function(t,e,r){var i={VERSION:t("../../package.json").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=i},{"../../package.json":21}],23:[function(t,e,r){function i(){o.call(this),this.children=[]}var n=t("../math"),o=t("./DisplayObject"),s=t("../textures/RenderTexture"),a=new n.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}}),i.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},i.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);if(0>r||0>i)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[r]=e,this.children[i]=t}},i.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},i.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);this.children.splice(r,1),this.children.splice(e,0,t)},i.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},i.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(-1!==e)return this.removeChildAt(e)},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),e.emit("removed",this),e},i.prototype.removeChildren=function(t,e){var r=t||0,i="number"==typeof e?e:this.children.length,n=i-r;if(n>0&&i>=n){for(var o=this.children.splice(r,n),s=0;s<o.length;++s)o[s].parent=null;return o}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new s(t,0|i.width,0|i.height,r,e);return a.tx=-i.x,a.ty=-i.y,n.render(this,a),n},i.prototype.updateTransform=function(){
if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},i.prototype.containerUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return n.Rectangle.EMPTY;for(var t,e,r,i=1/0,o=1/0,s=-(1/0),a=-(1/0),h=!1,l=0,u=this.children.length;u>l;++l){var c=this.children[l];c.visible&&(h=!0,t=this.children[l].getBounds(),i=i<t.x?i:t.x,o=o<t.y?o:t.y,e=t.width+t.x,r=t.height+t.y,s=s>e?s:e,a=a>r?a:r)}if(!h)return n.Rectangle.EMPTY;var p=this._bounds;p.x=i,p.y=o,p.width=s-i,p.height=a-o,this._currentBounds=p}return this._currentBounds},i.prototype.containerGetBounds=i.prototype.getBounds,i.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=n.Matrix.IDENTITY;for(var e=0,r=this.children.length;r>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(n.Matrix.IDENTITY)},i.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,r;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,r=this.children.length;r>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,r=this.children.length;r>e;++e)this.children[e].renderWebGL(t)}},i.prototype._renderWebGL=function(t){},i.prototype._renderCanvas=function(t){},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,r=this.children.length;r>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.prototype.destroy=function(t){if(o.prototype.destroy.call(this),t)for(var e=0,r=this.children.length;r>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":32,"../textures/RenderTexture":70,"./DisplayObject":24}],24:[function(t,e,r){function i(){s.call(this),this.position=new n.Point,this.scale=new n.Point(1,1),this.pivot=new n.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new n.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new n.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cachedObject=null}var n=t("../math"),o=t("../textures/RenderTexture"),s=t("eventemitter3"),a=t("../const"),h=new n.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),i.prototype.updateTransform=function(){var t,e,r,i,n,o,s=this.parent.worldTransform,h=this.worldTransform;this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,i=this._cr*this.scale.y,n=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*t+this.pivot.y*r,o-=this.pivot.x*e+this.pivot.y*i),h.a=t*s.a+e*s.c,h.b=t*s.b+e*s.d,h.c=r*s.a+i*s.c,h.d=r*s.b+i*s.d,h.tx=n*s.a+o*s.c+s.tx,h.ty=n*s.b+o*s.d+s.ty):(t=this.scale.x,i=this.scale.y,n=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*i,h.a=t*s.a,h.b=t*s.b,h.c=i*s.c,h.d=i*s.d,h.tx=n*s.a+o*s.c+s.tx,h.ty=n*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},i.prototype.displayObjectUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(t){return n.Rectangle.EMPTY},i.prototype.getLocalBounds=function(){return this.getBounds(n.Matrix.IDENTITY)},i.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},i.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},i.prototype.renderWebGL=function(t){},i.prototype.renderCanvas=function(t){},i.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new o(t,0|i.width,0|i.height,e,r);return h.tx=-i.x,h.ty=-i.y,n.render(this,h),n},i.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":22,"../math":32,"../textures/RenderTexture":70,eventemitter3:11}],25:[function(t,e,r){function i(){n.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=u.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new l.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var n=t("../display/Container"),o=t("../textures/Texture"),s=t("../renderers/canvas/utils/CanvasBuffer"),a=t("../renderers/canvas/utils/CanvasGraphics"),h=t("./GraphicsData"),l=t("../math"),u=t("../const"),c=new l.Point;i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{}),i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=this.dirty,t.glDirty=this.glDirty,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype.lineStyle=function(t,e,r){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===r?1:r,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new l.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},i.prototype.moveTo=function(t,e){return this.drawShape(new l.Polygon([t,e])),this},i.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},i.prototype.quadraticCurveTo=function(t,e,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var h=a[a.length-2],l=a[a.length-1],u=0,c=1;s>=c;++c)u=c/s,n=h+(t-h)*u,o=l+(e-l)*u,a.push(n+(t+(r-t)*u-n)*u,o+(e+(i-e)*u-o)*u);return this.dirty=this.boundsDirty=!0,this},i.prototype.bezierCurveTo=function(t,e,r,i,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,h,l,u,c=20,p=this.currentPath.shape.points,d=p[p.length-2],f=p[p.length-1],v=0,g=1;c>=g;++g)v=g/c,s=1-v,a=s*s,h=a*s,l=v*v,u=l*v,p.push(h*d+3*a*v*t+3*s*l*r+u*n,h*f+3*a*v*e+3*s*l*i+u*o);return this.dirty=this.boundsDirty=!0,this},i.prototype.arcTo=function(t,e,r,i,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],h=a-e,l=s-t,u=i-e,c=r-t,p=Math.abs(h*c-l*u);if(1e-8>p||0===n)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var d=h*h+l*l,f=u*u+c*c,v=h*u+l*c,g=n*Math.sqrt(d)/p,m=n*Math.sqrt(f)/p,y=g*v/d,x=m*v/f,b=g*c+m*l,_=g*u+m*h,T=l*(m+y),E=h*(m+y),S=c*(g+x),A=u*(g+x),w=Math.atan2(E-_,T-b),C=Math.atan2(A-_,S-b);this.arc(b+t,_+e,n,w,C,l*u>c*h)}return this.dirty=this.boundsDirty=!0,this},i.prototype.arc=function(t,e,r,i,n,o){if(o=o||!1,i===n)return this;!o&&i>=n?n+=2*Math.PI:o&&n>=i&&(i+=2*Math.PI);var s=o?-1*(i-n):n-i,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var h=t+Math.cos(i)*r,l=e+Math.sin(i)*r;this.currentPath?o&&this.filling?this.currentPath.shape.points.push(t,e):this.currentPath.shape.points.push(h,l):o&&this.filling?this.moveTo(t,e):this.moveTo(h,l);for(var u=this.currentPath.shape.points,c=s/(2*a),p=2*c,d=Math.cos(c),f=Math.sin(c),v=a-1,g=v%1/v,m=0;v>=m;m++){var y=m+g*m,x=c+i+p*y,b=Math.cos(x),_=-Math.sin(x);u.push((d*b+f*_)*r+t,(d*-_+f*b)*r+e)}return this.dirty=this.boundsDirty=!0,this},i.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,e,r,i){return this.drawShape(new l.Rectangle(t,e,r,i)),this},i.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new l.RoundedRectangle(t,e,r,i,n)),this},i.prototype.drawCircle=function(t,e,r){return this.drawShape(new l.Circle(t,e,r)),this},i.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new l.Ellipse(t,e,r,i)),this},i.prototype.drawPolygon=function(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}return this.drawShape(new l.Polygon(e)),this},i.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.prototype.generateTexture=function(t,e,r){e=e||1;var i=this.getLocalBounds(),n=new s(i.width*e,i.height*e),h=o.fromCanvas(n.canvas,r);return h.baseTexture.resolution=e,n.context.scale(e,e),n.context.translate(-i.x,-i.y),a.renderGraphics(this,n.context),h},i.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},i.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint);var e=t.context,r=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=t.blendModes[t.currentBlendMode]);var i=t.resolution;e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),a.renderGraphics(this,e)}},i.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return l.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,r=e.x,i=e.width+e.x,n=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,h=s.b,u=s.c,c=s.d,p=s.tx,d=s.ty,f=a*i+u*o+p,v=c*o+h*i+d,g=a*r+u*o+p,m=c*o+h*r+d,y=a*r+u*n+p,x=c*n+h*r+d,b=a*i+u*n+p,_=c*n+h*i+d,T=f,E=v,S=f,A=v;S=S>g?g:S,S=S>y?y:S,S=S>b?b:S,A=A>m?m:A,A=A>x?x:A,A=A>_?_:A,T=g>T?g:T,T=y>T?y:T,T=b>T?b:T,E=m>E?m:E,E=x>E?x:E,E=_>E?_:E,this._bounds.x=S,this._bounds.width=T-S,this._bounds.y=A,this._bounds.height=E-A,this._currentBounds=this._bounds}return this._currentBounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);for(var e=this.graphicsData,r=0;r<e.length;r++){var i=e[r];if(i.fill&&i.shape&&i.shape.contains(c.x,c.y))return!0}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),r=1/0,i=-(1/0);if(this.graphicsData.length)for(var n,o,s,a,h,l,c=0;c<this.graphicsData.length;c++){var p=this.graphicsData[c],d=p.type,f=p.lineWidth;if(n=p.shape,d===u.SHAPES.RECT||d===u.SHAPES.RREC)s=n.x-f/2,a=n.y-f/2,h=n.width+f,l=n.height+f,t=t>s?s:t,e=s+h>e?s+h:e,r=r>a?a:r,i=a+l>i?a+l:i;else if(d===u.SHAPES.CIRC)s=n.x,a=n.y,h=n.radius+f/2,l=n.radius+f/2,t=t>s-h?s-h:t,e=s+h>e?s+h:e,r=r>a-l?a-l:r,i=a+l>i?a+l:i;else if(d===u.SHAPES.ELIP)s=n.x,a=n.y,h=n.width+f/2,l=n.height+f/2,t=t>s-h?s-h:t,e=s+h>e?s+h:e,r=r>a-l?a-l:r,i=a+l>i?a+l:i;else{o=n.points;for(var v=0;v<o.length;v+=2)s=o[v],a=o[v+1],t=t>s-f?s-f:t,e=s+f>e?s+f:e,r=r>a-f?a-f:r,i=a+f>i?a+f:i}}else t=0,e=0,r=0,i=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=r-g,this._localBounds.height=i-r+2*g},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new h(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===u.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},i.prototype.destroy=function(){n.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var r=0;r<this._webgl[e].data.length;++r)this._webgl[e].data[r].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/canvas/utils/CanvasGraphics":45,"../textures/Texture":71,"./GraphicsData":26}],26:[function(t,e,r){function i(t,e,r,i,n,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=i,this.fillAlpha=n,this._fillTint=i,this.fill=o,this.shape=s,this.type=s.type}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},i.prototype.destroy=function(){this.shape=null}},{}],27:[function(t,e,r){function i(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var n=t("../../utils"),o=t("../../math"),s=t("../../const"),a=t("../../renderers/webgl/utils/ObjectRenderer"),h=t("../../renderers/webgl/WebGLRenderer"),l=t("./WebGLGraphicsData"),u=t("earcut");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,h.registerPlugin("graphics",i),i.prototype.onContextChange=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},i.prototype.render=function(t){var e,r=this.renderer,i=r.gl,o=r.shaderManager.plugins.primitiveShader;t.dirty&&this.updateGraphics(t,i);var s=t._webGL[i.id];r.blendModeManager.setBlendMode(t.blendMode);for(var a=0;a<s.data.length;a++)1===s.data[a].mode?(e=s.data[a],r.stencilManager.pushStencil(t,e,r),i.uniform1f(r.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilManager.popStencil(t,e,r)):(e=s.data[a],o=r.shaderManager.primitiveShader,r.shaderManager.setShader(o),i.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,r.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(o.uniforms.tint._location,n.hex2rgb(t.tint)),i.uniform1f(o.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(o.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(o.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0))},i.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[e.id];r||(r=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var i;if(t.clearDirty){for(t.clearDirty=!1,i=0;i<r.data.length;i++){var n=r.data[i];n.reset(),this.graphicsDataPool.push(n)}r.data=[],r.lastIndex=0}var o;for(i=r.lastIndex;i<t.graphicsData.length;i++){var a=t.graphicsData[i];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){o=this.switchMode(r,0);var h=this.buildPoly(a,o);h||(o=this.switchMode(r,1),this.buildComplexPoly(a,o))}else o=this.switchMode(r,1),this.buildComplexPoly(a,o);a.lineWidth>0&&(o=this.switchMode(r,0),this.buildLine(a,o))}else o=this.switchMode(r,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,o):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,o):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,o);r.lastIndex++}for(i=0;i<r.data.length;i++)o=r.data[i],o.dirty&&o.upload()},i.prototype.switchMode=function(t,e){var r;return t.data.length?(r=t.data[t.data.length-1],(r.points.length>32e4||r.mode!==e||1===e)&&(r=this.graphicsDataPool.pop()||new l(t.gl),r.mode=e,t.data.push(r))):(r=this.graphicsDataPool.pop()||new l(t.gl),r.mode=e,t.data.push(r)),r.dirty=!0,r},i.prototype.buildRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var h=n.hex2rgb(t.fillColor),l=t.fillAlpha,u=h[0]*l,c=h[1]*l,p=h[2]*l,d=e.points,f=e.indices,v=d.length/6;d.push(i,o),d.push(u,c,p,l),d.push(i+s,o),d.push(u,c,p,l),d.push(i,o+a),d.push(u,c,p,l),d.push(i+s,o+a),d.push(u,c,p,l),f.push(v,v,v+1,v+2,v+3,v+3)}if(t.lineWidth){var g=t.points;t.points=[i,o,i+s,o,i+s,o+a,i,o+a,i,o],this.buildLine(t,e),t.points=g}},i.prototype.buildRoundedRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height,h=r.radius,l=[];if(l.push(i,o+h),this.quadraticBezierCurve(i,o+a-h,i,o+a,i+h,o+a,l),this.quadraticBezierCurve(i+s-h,o+a,i+s,o+a,i+s,o+a-h,l),this.quadraticBezierCurve(i+s,o+h,i+s,o,i+s-h,o,l),this.quadraticBezierCurve(i+h,o,i,o,i,o+h+1e-10,l),t.fill){var c=n.hex2rgb(t.fillColor),p=t.fillAlpha,d=c[0]*p,f=c[1]*p,v=c[2]*p,g=e.points,m=e.indices,y=g.length/6,x=u(l,null,2),b=0;for(b=0;b<x.length;b+=3)m.push(x[b]+y),m.push(x[b]+y),m.push(x[b+1]+y),m.push(x[b+2]+y),m.push(x[b+2]+y);for(b=0;b<l.length;b++)g.push(l[b],l[++b],d,f,v,p)}if(t.lineWidth){var _=t.points;t.points=l,this.buildLine(t,e),t.points=_}},i.prototype.quadraticBezierCurve=function(t,e,r,i,n,o,s){function a(t,e,r){var i=e-t;return t+i*r}for(var h,l,u,c,p,d,f=20,v=s||[],g=0,m=0;f>=m;m++)g=m/f,h=a(t,r,g),l=a(e,i,g),u=a(r,n,g),c=a(i,o,g),p=a(h,u,g),d=a(l,c,g),v.push(p,d);return v},i.prototype.buildCircle=function(t,e){var r,i,o=t.shape,a=o.x,h=o.y;t.type===s.SHAPES.CIRC?(r=o.radius,i=o.radius):(r=o.width,i=o.height);var l=40,u=2*Math.PI/l,c=0;if(t.fill){var p=n.hex2rgb(t.fillColor),d=t.fillAlpha,f=p[0]*d,v=p[1]*d,g=p[2]*d,m=e.points,y=e.indices,x=m.length/6;for(y.push(x),c=0;l+1>c;c++)m.push(a,h,f,v,g,d),m.push(a+Math.sin(u*c)*r,h+Math.cos(u*c)*i,f,v,g,d),y.push(x++,x++);y.push(x-1)}if(t.lineWidth){var b=t.points;for(t.points=[],c=0;l+1>c;c++)t.points.push(a+Math.sin(u*c)*r,h+Math.cos(u*c)*i);this.buildLine(t,e),t.points=b}},i.prototype.buildLine=function(t,e){var r=0,i=t.points;if(0!==i.length){if(t.lineWidth%2)for(r=0;r<i.length;r++)i[r]+=.5;var s=new o.Point(i[0],i[1]),a=new o.Point(i[i.length-2],i[i.length-1]);if(s.x===a.x&&s.y===a.y){i=i.slice(),i.pop(),i.pop(),a=new o.Point(i[i.length-2],i[i.length-1]);var h=a.x+.5*(s.x-a.x),l=a.y+.5*(s.y-a.y);i.unshift(h,l),i.push(h,l)}var u,c,p,d,f,v,g,m,y,x,b,_,T,E,S,A,w,C,M,R,D,F,P,O=e.points,B=e.indices,L=i.length/2,I=i.length,N=O.length/6,U=t.lineWidth/2,k=n.hex2rgb(t.lineColor),j=t.lineAlpha,X=k[0]*j,G=k[1]*j,Y=k[2]*j;for(p=i[0],d=i[1],f=i[2],v=i[3],y=-(d-v),x=p-f,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=U,x*=U,O.push(p-y,d-x,X,G,Y,j),O.push(p+y,d+x,X,G,Y,j),r=1;L-1>r;r++)p=i[2*(r-1)],d=i[2*(r-1)+1],f=i[2*r],v=i[2*r+1],g=i[2*(r+1)],m=i[2*(r+1)+1],y=-(d-v),x=p-f,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=U,x*=U,b=-(v-m),_=f-g,P=Math.sqrt(b*b+_*_),b/=P,_/=P,b*=U,_*=U,S=-x+d-(-x+v),A=-y+f-(-y+p),w=(-y+p)*(-x+v)-(-y+f)*(-x+d),C=-_+m-(-_+v),M=-b+f-(-b+g),R=(-b+g)*(-_+v)-(-b+f)*(-_+m),D=S*M-C*A,Math.abs(D)<.1?(D+=10.1,O.push(f-y,v-x,X,G,Y,j),O.push(f+y,v+x,X,G,Y,j)):(u=(A*R-M*w)/D,c=(C*w-S*R)/D,F=(u-f)*(u-f)+(c-v)+(c-v),F>19600?(T=y-b,E=x-_,P=Math.sqrt(T*T+E*E),T/=P,E/=P,T*=U,E*=U,O.push(f-T,v-E),O.push(X,G,Y,j),O.push(f+T,v+E),O.push(X,G,Y,j),O.push(f-T,v-E),O.push(X,G,Y,j),I++):(O.push(u,c),O.push(X,G,Y,j),O.push(f-(u-f),v-(c-v)),O.push(X,G,Y,j)));for(p=i[2*(L-2)],d=i[2*(L-2)+1],f=i[2*(L-1)],v=i[2*(L-1)+1],y=-(d-v),x=p-f,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=U,x*=U,O.push(f-y,v-x),O.push(X,G,Y,j),O.push(f+y,v+x),O.push(X,G,Y,j),B.push(N),r=0;I>r;r++)B.push(N++);B.push(N-1)}},i.prototype.buildComplexPoly=function(t,e){var r=t.points.slice();if(!(r.length<6)){var i=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=n.hex2rgb(t.fillColor);for(var o,s,a=1/0,h=-(1/0),l=1/0,u=-(1/0),c=0;c<r.length;c+=2)o=r[c],s=r[c+1],a=a>o?o:a,h=o>h?o:h,l=l>s?s:l,u=s>u?s:u;r.push(a,l,h,l,h,u,a,u);var p=r.length/2;for(c=0;p>c;c++)i.push(c)}},i.prototype.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var i=e.points,o=e.indices,s=r.length/2,a=n.hex2rgb(t.fillColor),h=t.fillAlpha,l=a[0]*h,c=a[1]*h,p=a[2]*h,d=u(r,null,2);if(!d)return!1;var f=i.length/6,v=0;for(v=0;v<d.length;v+=3)o.push(d[v]+f),o.push(d[v]+f),o.push(d[v+1]+f),o.push(d[v+2]+f),o.push(d[v+2]+f);for(v=0;s>v;v++)i.push(r[2*v],r[2*v+1],l,c,p,h);return!0}}},{"../../const":22,"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"../../utils":76,"./WebGLGraphicsData":28,earcut:10}],28:[function(t,e,r){function i(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}i.prototype.constructor=i,e.exports=i,i.prototype.reset=function(){this.points.length=0,this.indices.length=0},i.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},i.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],29:[function(t,e,r){var i=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),ticker:t("./ticker"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:t("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:t("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(t,e,r,n){return t=t||800,e=e||600,!n&&i.utils.isWebGLSupported()?new i.WebGLRenderer(t,e,r):new i.CanvasRenderer(t,e,r)}})},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":32,"./particles/ParticleContainer":38,"./particles/webgl/ParticleRenderer":40,"./renderers/canvas/CanvasRenderer":43,"./renderers/canvas/utils/CanvasBuffer":44,"./renderers/canvas/utils/CanvasGraphics":45,"./renderers/webgl/WebGLRenderer":48,"./renderers/webgl/filters/AbstractFilter":49,"./renderers/webgl/filters/FXAAFilter":50,"./renderers/webgl/filters/SpriteMaskFilter":51,"./renderers/webgl/managers/ShaderManager":55,"./renderers/webgl/shaders/Shader":60,"./renderers/webgl/utils/ObjectRenderer":62,"./renderers/webgl/utils/RenderTarget":64,"./sprites/Sprite":66,"./sprites/webgl/SpriteRenderer":67,"./text/Text":68,"./textures/BaseTexture":69,"./textures/RenderTexture":70,"./textures/Texture":71,"./textures/TextureUvs":72,"./textures/VideoBaseTexture":73,"./ticker":75,"./utils":76}],30:[function(t,e,r){function i(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var n=t("./Point");i.prototype.constructor=i,e.exports=i,i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},i.prototype.apply=function(t,e){e=e||new n;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},i.prototype.applyInverse=function(t,e){e=e||new n;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return e.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},i.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},i.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},i.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},i.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},i.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},i.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.IDENTITY=new i,i.TEMP_MATRIX=new i},{"./Point":31}],31:[function(t,e,r){function i(t,e){this.x=t||0,this.y=e||0}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],32:[function(t,e,r){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./Matrix":30,"./Point":31,"./shapes/Circle":33,"./shapes/Ellipse":34,"./shapes/Polygon":35,"./shapes/Rectangle":36,"./shapes/RoundedRectangle":37}],33:[function(t,e,r){function i(t,e,r){this.x=t||0,this.y=e||0,this.radius=r||0,this.type=o.SHAPES.CIRC}var n=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,i=this.y-e,n=this.radius*this.radius;return r*=r,i*=i,n>=r+i},i.prototype.getBounds=function(){return new n(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":22,"./Rectangle":36}],34:[function(t,e,r){function i(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=o.SHAPES.ELIP}var n=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return r*=r,i*=i,1>=r+i},i.prototype.getBounds=function(){return new n(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":22,"./Rectangle":36}],35:[function(t,e,r){function i(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}if(e[0]instanceof n){for(var i=[],s=0,a=e.length;a>s;s++)i.push(e[s].x,e[s].y);e=i}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var n=t("../Point"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.points.slice())},i.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;i>n;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],l=this.points[2*o+1],u=a>e!=l>e&&(h-s)*(e-a)/(l-a)+s>t;u&&(r=!r)}return r}},{"../../const":22,"../Point":31}],36:[function(t,e,r){function i(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=n.SHAPES.RECT}var n=t("../../const");i.prototype.constructor=i,e.exports=i,i.EMPTY=new i(0,0,0,0),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height?!0:!1}},{"../../const":22}],37:[function(t,e,r){function i(t,e,r,i,o){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.radius=o||20,this.type=n.SHAPES.RREC}var n=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height?!0:!1}},{"../../const":22}],38:[function(t,e,r){function i(t,e){n.call(this),this._properties=[!1,!0,!1,!1,!1],this._size=t||15e3,this._buffers=null,this._updateStatic=!1,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var n=t("../display/Container"),o=t("../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},i.prototype.updateTransform=function(){
this.displayObjectUpdateTransform()},i.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},i.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this._updateStatic=!0,t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),this._updateStatic=!0,e},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,i=!0,n=0,o=0,s=0,a=0;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var l=this.children[h];if(l.visible){var u=l.texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)i&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),i=!1),n=l.anchor.x*-u.width*l.scale.x+l.position.x+.5,o=l.anchor.y*-u.height*l.scale.y+l.position.y+.5,s=u.width*l.scale.x,a=u.height*l.scale.y;else{i||(i=!0),l.displayObjectUpdateTransform();var c=l.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,0|c.tx,0|c.ty):e.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),n=l.anchor.x*-u.width+.5,o=l.anchor.y*-u.height+.5,s=u.width,a=u.height}e.drawImage(l.texture.baseTexture.source,u.x,u.y,u.width,u.height,n,o,s,a)}}}},i.prototype.destroy=function(){if(n.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},{"../const":22,"../display/Container":23}],39:[function(t,e,r){function i(t,e,r){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;i++){var n=e[i];n.dynamic?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}i.prototype.constructor=i,e.exports=i,i.prototype.initBuffers=function(){var t,e,r=this.gl,i=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=i,i+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferData(r.ARRAY_BUFFER,this.dynamicData,r.DYNAMIC_DRAW);var n=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=n,n+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferData(r.ARRAY_BUFFER,this.staticData,r.DYNAMIC_DRAW)},i.prototype.uploadDynamic=function(t,e,r){for(var i=this.gl,n=0;n<this.dynamicProperties.length;n++){var o=this.dynamicProperties[n];o.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.dynamicData)},i.prototype.uploadStatic=function(t,e,r){for(var i=this.gl,n=0;n<this.staticProperties.length;n++){var o=this.staticProperties[n];o.uploadFunction(t,e,r,this.staticData,this.staticStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.staticData)},i.prototype.bind=function(){var t,e,r=this.gl;for(r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.staticStride,4*e.offset)},i.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],40:[function(t,e,r){function i(t){n.call(this,t),this.size=15e3;var e=6*this.size;this.indices=new Uint16Array(e);for(var r=0,i=0;e>r;r+=6,i+=4)this.indices[r+0]=i+0,this.indices[r+1]=i+1,this.indices[r+2]=i+2,this.indices[r+3]=i+0,this.indices[r+4]=i+2,this.indices[r+5]=i+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new h.Matrix}var n=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("./ParticleShader"),a=t("./ParticleBuffer"),h=t("../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("particle",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,dynamic:!1,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,dynamic:!0,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,dynamic:!1,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,dynamic:!1,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,dynamic:!1,size:1,uploadFunction:this.uploadAlpha,offset:0}]},i.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},i.prototype.render=function(t){var e=t.children,r=e.length,i=t._size;if(0!==r){r>i&&(r=i),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var n=this.renderer.gl,o=t.worldTransform.copy(this.tempMatrix);o.prepend(this.renderer.currentRenderTarget.projectionMatrix),n.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,o.toArray(!0)),n.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var s=t._updateStatic,a=e[0]._texture.baseTexture;if(a._glTextures[n.id])n.bindTexture(n.TEXTURE_2D,a._glTextures[n.id]);else{if(!this.renderer.updateTexture(a))return;this.properties[0].dynamic&&this.properties[3].dynamic||(s=!0)}for(var h=0,l=0;r>l;l+=this.size){var u=r-l;u>this.size&&(u=this.size);var c=t._buffers[h++];c.uploadDynamic(e,l,u),s&&c.uploadStatic(e,l,u),c.bind(this.shader),n.drawElements(n.TRIANGLES,6*u,n.UNSIGNED_SHORT,0),this.renderer.drawCount++}t._updateStatic=!1}},i.prototype.generateBuffers=function(t){var e,r=this.renderer.gl,i=[],n=t._size;for(e=0;e<t._properties.length;e++)this.properties[e].dynamic=t._properties[e];for(e=0;n>e;e+=this.size)i.push(new a(r,this.properties,this.size,this.shader));return i},i.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s,a,h,l,u,c,p,d,f,v=0;r>v;v++)s=t[e+v],a=s._texture,l=s.scale.x,u=s.scale.y,a.trim?(h=a.trim,p=h.x-s.anchor.x*h.width,c=p+a.crop.width,f=h.y-s.anchor.y*h.height,d=f+a.crop.height):(c=a._frame.width*(1-s.anchor.x),p=a._frame.width*-s.anchor.x,d=a._frame.height*(1-s.anchor.y),f=a._frame.height*-s.anchor.y),i[o]=p*l,i[o+1]=f*u,i[o+n]=c*l,i[o+n+1]=f*u,i[o+2*n]=c*l,i[o+2*n+1]=d*u,i[o+3*n]=p*l,i[o+3*n+1]=d*u,o+=4*n},i.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},i.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},i.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},i.prototype.uploadAlpha=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].alpha;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},i.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"./ParticleBuffer":39,"./ParticleShader":41}],41:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var n=t("../../renderers/webgl/shaders/TextureShader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"../../renderers/webgl/shaders/TextureShader":61}],42:[function(t,e,r){function i(t,e,r,i){if(a.call(this),n.sayHello(t),i)for(var h in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof i[h]&&(i[h]=s.DEFAULT_RENDER_OPTIONS[h]);else i=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=r||600,this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution,this.transparent=i.transparent,this.autoResize=i.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var n=t("../utils"),o=t("../math"),s=t("../const"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=n.hex2string(t),n.hex2rgb(t,this._backgroundColorRgb)}}}),i.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.prototype.destroy=function(t){t&&this.view.parent&&this.view.parent.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":22,"../math":32,"../utils":76,eventemitter3:11}],43:[function(t,e,r){function i(t,e,r){n.call(this,"Canvas",t,e,r),this.type=h.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.roundPixels=!1,this.currentScaleMode=h.SCALE_MODES.DEFAULT,this.currentBlendMode=h.BLEND_MODES.NORMAL,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var n=t("../SystemRenderer"),o=t("./utils/CanvasMaskManager"),s=t("../../utils"),a=t("../../math"),h=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,s.pluginTarget.mixin(i),i.prototype.render=function(t){var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.currentBlendMode=h.BLEND_MODES.NORMAL,this.context.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context)},i.prototype.destroy=function(t){this.destroyPlugins(),n.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.roundPixels=!1,this.currentScaleMode=0,this.currentBlendMode=0,this.smoothProperty=null},i.prototype.renderDisplayObject=function(t,e){var r=this.context;this.context=e,t.renderCanvas(this),this.context=r},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.currentScaleMode=h.SCALE_MODES.DEFAULT,this.smoothProperty&&(this.context[this.smoothProperty]=this.currentScaleMode===h.SCALE_MODES.LINEAR)},i.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[h.BLEND_MODES.SCREEN]="screen",this.blendModes[h.BLEND_MODES.OVERLAY]="overlay",this.blendModes[h.BLEND_MODES.DARKEN]="darken",this.blendModes[h.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[h.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[h.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[h.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[h.BLEND_MODES.HUE]="hue",this.blendModes[h.BLEND_MODES.SATURATION]="saturate",this.blendModes[h.BLEND_MODES.COLOR]="color",this.blendModes[h.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[h.BLEND_MODES.SCREEN]="source-over",this.blendModes[h.BLEND_MODES.OVERLAY]="source-over",this.blendModes[h.BLEND_MODES.DARKEN]="source-over",this.blendModes[h.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[h.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[h.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[h.BLEND_MODES.HUE]="source-over",this.blendModes[h.BLEND_MODES.SATURATION]="source-over",this.blendModes[h.BLEND_MODES.COLOR]="source-over",this.blendModes[h.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":22,"../../math":32,"../../utils":76,"../SystemRenderer":42,"./utils/CanvasMaskManager":46}],44:[function(t,e,r){function i(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},i.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],45:[function(t,e,r){var i=t("../../../const"),n={};e.exports=n,n.renderGraphics=function(t,e){var r=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=o.shape,a=o._fillTint,h=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.SHAPES.POLY){e.beginPath();var l=s.points;e.moveTo(l[0],l[1]);for(var u=1;u<l.length/2;u++)e.lineTo(l[2*u],l[2*u+1]);s.closed&&e.lineTo(l[0],l[1]),l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===i.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke());else if(o.type===i.SHAPES.ELIP){var c=2*s.width,p=2*s.height,d=s.x-c/2,f=s.y-p/2;e.beginPath();var v=.5522848,g=c/2*v,m=p/2*v,y=d+c,x=f+p,b=d+c/2,_=f+p/2;e.moveTo(d,_),e.bezierCurveTo(d,_-m,b-g,f,b,f),e.bezierCurveTo(b+g,f,y,_-m,y,_),e.bezierCurveTo(y,_+m,b+g,x,b,x),e.bezierCurveTo(b-g,x,d,_+m,d,_),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RREC){var T=s.x,E=s.y,S=s.width,A=s.height,w=s.radius,C=Math.min(S,A)/2|0;w=w>C?C:w,e.beginPath(),e.moveTo(T,E+w),e.lineTo(T,E+A-w),e.quadraticCurveTo(T,E+A,T+w,E+A),e.lineTo(T+S-w,E+A),e.quadraticCurveTo(T+S,E+A,T+S,E+A-w),e.lineTo(T+S,E+w),e.quadraticCurveTo(T+S,E,T+S-w,E),e.lineTo(T+w,E),e.quadraticCurveTo(T,E,T,E+w),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}}},n.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;r>n;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var l=2*s.width,u=2*s.height,c=s.x-l/2,p=s.y-u/2,d=.5522848,f=l/2*d,v=u/2*d,g=c+l,m=p+u,y=c+l/2,x=p+u/2;e.moveTo(c,x),e.bezierCurveTo(c,x-v,y-f,p,y,p),e.bezierCurveTo(y+f,p,g,x-v,g,x),e.bezierCurveTo(g,x+v,y+f,m,y,m),e.bezierCurveTo(y-f,m,c,x+v,c,x),e.closePath()}else if(o.type===i.SHAPES.RREC){var b=s.x,_=s.y,T=s.width,E=s.height,S=s.radius,A=Math.min(T,E)/2|0;S=S>A?A:S,e.moveTo(b,_+S),e.lineTo(b,_+E-S),e.quadraticCurveTo(b,_+E,b+S,_+E),e.lineTo(b+T-S,_+E),e.quadraticCurveTo(b+T,_+E,b+T,_+E-S),e.lineTo(b+T,_+S),e.quadraticCurveTo(b+T,_,b+T-S,_),e.lineTo(b+S,_),e.quadraticCurveTo(b,_,b,_+S),e.closePath()}}}},n.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,i=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*i*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*i*255}}},{"../../../const":22}],46:[function(t,e,r){function i(){}var n=t("./CanvasGraphics");i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.context.save();var r=t.alpha,i=t.worldTransform,o=e.resolution;e.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.texture||(n.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=r},i.prototype.popMask=function(t){t.context.restore()},i.prototype.destroy=function(){}},{"./CanvasGraphics":45}],47:[function(t,e,r){var i=t("../../../utils"),n={};e.exports=n,n.getTintedTexture=function(t,e){var r=t.texture;e=n.roundColor(e);var i="#"+("00000"+(0|e).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[i])return r.tintCache[i];var o=n.canvas||document.createElement("canvas");if(n.tintMethod(r,e,o),n.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[i]=s}else r.tintCache[i]=o,n.canvas=null;return o},n.tintWithMultiply=function(t,e,r){var i=r.getContext("2d"),n=t.crop;r.width=n.width,r.height=n.height,i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},n.tintWithOverlay=function(t,e,r){var i=r.getContext("2d"),n=t.crop;r.width=n.width,r.height=n.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},n.tintWithPerPixel=function(t,e,r){var n=r.getContext("2d"),o=t.crop;r.width=o.width,r.height=o.height,n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=i.hex2rgb(e),a=s[0],h=s[1],l=s[2],u=n.getImageData(0,0,o.width,o.height),c=u.data,p=0;p<c.length;p+=4)c[p+0]*=a,c[p+1]*=h,c[p+2]*=l;n.putImageData(u,0,0)},n.roundColor=function(t){var e=n.cacheStepsPerColorChannel,r=i.hex2rgb(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),i.rgb2hex(r)},n.cacheStepsPerColorChannel=8,n.convertTintToImage=!1,n.canUseMultiply=i.canUseNewCanvasBlendModes(),n.tintMethod=n.canUseMultiply?n.tintWithMultiply:n.tintWithPerPixel},{"../../../utils":76}],48:[function(t,e,r){function i(t,e,r){r=r||{},n.call(this,"WebGL",t,e,r),this.type=f.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!r.forceFXAA&&r.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),this.stencilManager=new a(this),this.filterManager=new h(this),this.blendModeManager=new l(this),this.currentRenderTarget=null,this.currentRenderer=new c(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._renderTargetStack=[]}var n=t("../SystemRenderer"),o=t("./managers/ShaderManager"),s=t("./managers/MaskManager"),a=t("./managers/StencilManager"),h=t("./managers/FilterManager"),l=t("./managers/BlendModeManager"),u=t("./utils/RenderTarget"),c=t("./utils/ObjectRenderer"),p=t("./filters/FXAAFilter"),d=t("../../utils"),f=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,d.pluginTarget.mixin(i),i.glContextId=0,i.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=i.glContextId++,t.id=this.glContextId,t.renderer=this},i.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new u(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new p])},i.prototype.render=function(t){if(!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var r=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?r.clearColor(0,0,0,0):r.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),r.clear(r.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget)}},i.prototype.renderDisplayObject=function(t,e,r){this.setRenderTarget(e),r&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},i.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},i.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},i.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},i.prototype.destroyTexture=function(t){t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&this.gl.deleteTexture(t._glTextures[this.gl.id])},i.prototype.handleContextLost=function(t){t.preventDefault()},i.prototype.handleContextRestored=function(){this._initContext();for(var t in d.BaseTextureCache)d.BaseTextureCache[t]._glTextures.length=0},i.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),n.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl=null},i.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[f.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],this.blendModes[f.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SCREEN]=[t.SRC_ALPHA,t.ONE],this.blendModes[f.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[f.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[f.DRAW_MODES.LINES]=t.LINES,this.drawModes[f.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[f.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[f.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},{"../../const":22,"../../utils":76,"../SystemRenderer":42,"./filters/FXAAFilter":50,"./managers/BlendModeManager":52,"./managers/FilterManager":53,"./managers/MaskManager":54,"./managers/ShaderManager":55,"./managers/StencilManager":56,"./utils/ObjectRenderer":62,"./utils/RenderTarget":64}],49:[function(t,e,r){function i(t,e,r){this.shaders=[],this.padding=0,this.uniforms=r||{},this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc}var n=t("../shaders/TextureShader");i.prototype.constructor=i,e.exports=i,i.prototype.getShader=function(t){var e=t.gl,r=this.shaders[e.id];return r||(r=new n(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=r),r},i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);t.filterManager.applyFilter(n,e,r,i)},i.prototype.syncUniform=function(t){for(var e=0,r=this.shaders.length;r>e;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":61}],50:[function(t,e,r){function i(){n.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{
resolution:{type:"v2",value:{x:1,y:1}}})}var n=t("./AbstractFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager,n=this.getShader(t);i.applyFilter(n,e,r)}},{"./AbstractFilter":49}],51:[function(t,e,r){function i(t){var e=new o.Matrix;n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var n=t("./AbstractFilter"),o=t("../../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":32,"./AbstractFilter":49}],52:[function(t,e,r){function i(t){n.call(this,t),this.currentBlendMode=99999}var n=t("./WebGLManager");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},{"./WebGLManager":57}],53:[function(t,e,r){function i(t){n.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new h.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var n=t("./WebGLManager"),o=t("../utils/RenderTarget"),s=t("../../../const"),a=t("../utils/Quad"),h=t("../../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},i.prototype.setFilterStack=function(t){this.filterStack=t},i.prototype.pushFilter=function(t,e){var r=t.filterArea?t.filterArea.clone():t.getBounds();r.x=0|r.x,r.y=0|r.y,r.width=0|r.width,r.height=0|r.height;var i=0|e[0].padding;if(r.x-=i,r.y-=i,r.width+=2*i,r.height+=2*i,this.renderer.currentRenderTarget.transform){var n=this.renderer.currentRenderTarget.transform;r.x+=n.tx,r.y+=n.ty,this.capFilterArea(r),r.x-=n.tx,r.y-=n.ty}else this.capFilterArea(r);if(r.width>0&&r.height>0){this.currentFrame=r;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},i.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],r=t.renderTarget;if(t.renderTarget){var i=e.renderTarget,n=this.renderer.gl;this.currentFrame=r.frame,this.quad.map(this.textureSize,r.frame),n.bindBuffer(n.ARRAY_BUFFER,this.quad.vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,n.FLOAT,!1,0,32),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,n.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,r,i),this.returnRenderTarget(r);else{for(var a=r,h=this.getRenderTarget(!0),l=0;l<o.length-1;l++){var u=o[l];u.uniforms.dimensions&&(u.uniforms.dimensions.value[0]=this.renderer.width,u.uniforms.dimensions.value[1]=this.renderer.height,u.uniforms.dimensions.value[2]=this.quad.vertices[0],u.uniforms.dimensions.value[3]=this.quad.vertices[5]),u.applyFilter(this.renderer,a,h);var c=a;a=h,h=c}o[o.length-1].applyFilter(this.renderer,a,i),this.returnRenderTarget(a),this.returnRenderTarget(h)}return t.filter}},i.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},i.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},i.prototype.applyFilter=function(t,e,r,i){var n=this.renderer.gl;this.renderer.setRenderTarget(r),i&&r.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.texture),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)},i.prototype.calculateMappedMatrix=function(t,e,r){var i=e.worldTransform.copy(h.Matrix.TEMP_MATRIX),n=e._texture.baseTexture,o=r.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),o.scale(1,s);var a=this.textureSize.width/n.width,l=this.textureSize.height/n.height;return i.tx/=n.width*a,i.ty/=n.width*a,i.invert(),o.prepend(i),o.scale(1,1/s),o.scale(a,l),o.translate(e.anchor.x,e.anchor.y),o},i.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},i.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var r=0;r<this.texturePool.length;r++)this.texturePool[r].resize(t,e)},i.prototype.destroy=function(){this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":22,"../../../math":32,"../utils/Quad":63,"../utils/RenderTarget":64,"./WebGLManager":57}],54:[function(t,e,r){function i(t){n.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var n=t("./WebGLManager"),o=t("../filters/SpriteMaskFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},i.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},i.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool.pop();r||(r=[new o(e)]),r[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,r)},i.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},i.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},i.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":51,"./WebGLManager":57}],55:[function(t,e,r){function i(t){n.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var n=t("./WebGLManager"),o=t("../shaders/TextureShader"),s=t("../shaders/ComplexPrimitiveShader"),a=t("../shaders/PrimitiveShader"),h=t("../../../utils");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,h.pluginTarget.mixin(i),e.exports=i,i.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},i.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var r in t)this.tempAttribState[t[r]]=!0;var i=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?i.enableVertexAttribArray(e):i.disableVertexAttribArray(e))},i.prototype.setShader=function(t){return this._currentId===t.uid?!1:(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},i.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":76,"../shaders/ComplexPrimitiveShader":58,"../shaders/PrimitiveShader":59,"../shaders/TextureShader":61,"./WebGLManager":57}],56:[function(t,e,r){function i(t){n.call(this,t),this.stencilMaskStack=null}var n=t("./WebGLManager"),o=t("../../../utils");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},i.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var r=this.renderer.gl,i=this.stencilMaskStack;this.bindGraphics(t,e,this.renderer),0===i.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),i.reverse=!0,i.count=0),i.stencilStack.push(e);var n=i.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),i.reverse?(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),i.reverse?r.stencilFunc(r.EQUAL,255-(n+1),255):r.stencilFunc(r.EQUAL,n+1,255),i.reverse=!i.reverse):(i.reverse?(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n+1,255):r.stencilFunc(r.EQUAL,255-(n+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),i.count++},i.prototype.bindGraphics=function(t,e){this._currentGraphics=t;var r,i=this.renderer.gl;1===e.mode?(r=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform3fv(r.uniforms.color._location,e.color),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,8,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(r=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(r.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},i.prototype.popStencil=function(t,e){var r=this.renderer.gl,i=this.stencilMaskStack;if(i.stencilStack.pop(),i.count--,0===i.stencilStack.length)r.disable(r.STENCIL_TEST);else{var n=i.count;this.bindGraphics(t,e,this.renderer),r.colorMask(!1,!1,!1,!1),1===e.mode?(i.reverse=!i.reverse,i.reverse?(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)):(i.reverse?(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},i.prototype.destroy=function(){n.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},i.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)},i.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)}},{"../../../utils":76,"./WebGLManager":57}],57:[function(t,e,r){function i(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){},i.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],58:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":60}],59:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":60}],60:[function(t,e,r){function i(t,e,r,i,o){if(!e||!r)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=n.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=i||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=r,this.init()}var n=t("../../../utils");i.prototype.constructor=i,e.exports=i,i.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},i.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},i.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},i.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),r=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(i,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(i)),t.deleteProgram(i),i=null),t.deleteShader(e),t.deleteShader(r),this.program=i},i.prototype.syncUniform=function(t){var e,r,i=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(i,o?1:0);break;case"i":case"1i":s.uniform1i(i,o);break;case"f":case"1f":s.uniform1f(i,o);break;case"2f":s.uniform2f(i,o[0],o[1]);break;case"3f":s.uniform3f(i,o[0],o[1],o[2]);break;case"4f":s.uniform4f(i,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(i,o.x,o.y);break;case"v3":s.uniform3f(i,o.x,o.y,o.z);break;case"v4":s.uniform4f(i,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(i,o);break;case"2iv":s.uniform2iv(i,o);break;case"3iv":s.uniform3iv(i,o);break;case"4iv":s.uniform4iv(i,o);break;case"1fv":s.uniform1fv(i,o);break;case"2fv":s.uniform2fv(i,o);break;case"3fv":s.uniform3fv(i,o);break;case"4fv":s.uniform4fv(i,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(i,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(i,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(i,t.transpose,o);break;case"c":"number"==typeof o&&(o=n.hex2rgb(o)),s.uniform3f(i,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(i,o);break;case"iv":s.uniform3iv(i,o);break;case"fv1":s.uniform1fv(i,o);break;case"fv":s.uniform3fv(i,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,r=o.length;r>e;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(i,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,r=o.length;r>e;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(i,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,r=o.length;r>e;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(i,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},i.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},i.prototype.initSampler2D=function(t){var e=this.gl,r=t.value.baseTexture;if(r.hasLoaded)if(t.textureData){var i=t.textureData;r._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,r._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,i.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i.magFilter?i.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i.wrapT?i.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(r)},i.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},i.prototype._glCompile=function(t,e){var r=this.gl.createShader(t);return this.gl.shaderSource(r,e),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)?r:(console.log(this.gl.getShaderInfoLog(r)),null)}},{"../../../utils":76}],61:[function(t,e,r){function i(t,e,r,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var h in o)a[h]=o[h];var l={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var u in s)l[u]=s[u];e=e||i.defaultVertexSrc,r=r||i.defaultFragmentSrc,n.call(this,t,e,r,a,l)}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),i.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":60}],62:[function(t,e,r){function i(t){n.call(this,t)}var n=t("../managers/WebGLManager");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.flush=function(){},i.prototype.render=function(t){}},{"../managers/WebGLManager":57}],63:[function(t,e,r){function i(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}i.prototype.constructor=i,i.prototype.map=function(t,e){var r=0,i=0;this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.upload()},i.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},e.exports=i},{}],64:[function(t,e,r){var i=t("../../../math"),n=t("../../../utils"),o=t("../../../const"),s=t("./StencilMaskStack"),a=function(t,e,r,a,h,l){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new i.Rectangle(0,0,1,1),this.resolution=h||o.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=l,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var u=n.isPowerOfTwo(e,r);u?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,r)};a.prototype.constructor=a,e.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t*this.resolution,e*this.resolution,0,r.RGBA,r.UNSIGNED_BYTE,null),this.stencilBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencilBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var i=this.frame||this.size;this.calculateProjection(i)}},a.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":22,"../../../math":32,"../../../utils":76,"./StencilMaskStack":65}],65:[function(t,e,r){function i(){this.stencilStack=[],this.reverse=!0,this.count=0}i.prototype.constructor=i,e.exports=i},{}],66:[function(t,e,r){function i(t){s.call(this),this.anchor=new n.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var n=t("../math"),o=t("../textures/Texture"),s=t("../display/Container"),a=t("../renderers/canvas/utils/CanvasTinter"),h=t("../utils"),l=t("../const"),u=new n.Point;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.texture._frame.width},set:function(t){this.scale.x=t/this.texture._frame.width,this._width=t}},height:{get:function(){return this.scale.y*this.texture._frame.height},set:function(t){this.scale.y=t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},i.prototype.getBounds=function(t){if(!this._currentBounds){var e,r,i,n,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),h=o*-this.anchor.x,l=s*(1-this.anchor.y),u=s*-this.anchor.y,c=t||this.worldTransform,p=c.a,d=c.b,f=c.c,v=c.d,g=c.tx,m=c.ty;if(0===d&&0===f)0>p&&(p*=-1),0>v&&(v*=-1),e=p*h+g,r=p*a+g,i=v*u+m,n=v*l+m;else{var y=p*h+f*u+g,x=v*u+d*h+m,b=p*a+f*u+g,_=v*u+d*a+m,T=p*a+f*l+g,E=v*l+d*a+m,S=p*h+f*l+g,A=v*l+d*h+m;e=y,e=e>b?b:e,e=e>T?T:e,e=e>S?S:e,i=x,i=i>_?_:i,i=i>E?E:i,i=i>A?A:i,r=y,r=b>r?b:r,r=T>r?T:r,r=S>r?S:r,n=x,n=_>n?_:n,n=E>n?E:n,n=A>n?A:n}if(this.children.length){var w=this.containerGetBounds();a=w.x,h=w.x+w.width,l=w.y,u=w.y+w.height,e=a>e?e:a,i=l>i?i:l,r=r>h?r:h,n=n>u?n:u}var C=this._bounds;C.x=e,C.width=r-e,C.y=i,C.height=n-i,this._currentBounds=C}return this._currentBounds},i.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e,r=this._texture._frame.width,i=this._texture._frame.height,n=-r*this.anchor.x;return u.x>n&&u.x<n+r&&(e=-i*this.anchor.y,u.y>e&&u.y<e+i)?!0:!1},i.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)&&(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=t.blendModes[t.currentBlendMode]),this.texture.valid)){var e,r,i,n,o=this._texture,s=this.worldTransform;if(t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.currentScaleMode!==o.baseTexture.scaleMode&&(t.currentScaleMode=o.baseTexture.scaleMode,t.context[t.smoothProperty]=t.currentScaleMode===l.SCALE_MODES.LINEAR),o.rotate){var h=s.a,u=s.b;s.a=-s.c,s.b=-s.d,s.c=h,s.d=u,i=o.crop.height,n=o.crop.width,e=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height,r=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width}else i=o.crop.width,n=o.crop.height,e=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width,r=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height;t.roundPixels?(t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution|0,s.ty*t.resolution|0),e=0|e,r=0|r):t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution,s.ty*t.resolution);var c=o.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,i*c,n*c,e*t.resolution,r*t.resolution,i*t.resolution,n*t.resolution)):t.context.drawImage(o.baseTexture.source,o.crop.x*c,o.crop.y*c,i*c,n*c,e*t.resolution,r*t.resolution,i*t.resolution,n*t.resolution)}},i.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},i.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');

return new i(e)},i.fromImage=function(t,e,r){return new i(o.fromImage(t,e,r))}},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasTinter":47,"../textures/Texture":71,"../utils":76}],67:[function(t,e,r){function i(t){n.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,r=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(r);for(var i=0,o=0;r>i;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var n=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("sprite",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},i.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var r=e._uvs;if(r){var i,n,o,s,a=t.anchor.x,h=t.anchor.y;if(e.trim){var l=e.trim;n=l.x-a*l.width,i=n+e.crop.width,s=l.y-h*l.height,o=s+e.crop.height}else i=e._frame.width*(1-a),n=e._frame.width*-a,o=e._frame.height*(1-h),s=e._frame.height*-h;var u=this.currentBatchSize*this.vertByteSize,c=t.worldTransform,p=c.a,d=c.b,f=c.c,v=c.d,g=c.tx,m=c.ty,y=this.colors,x=this.positions;this.renderer.roundPixels?(x[u]=p*n+f*s+g|0,x[u+1]=v*s+d*n+m|0,x[u+5]=p*i+f*s+g|0,x[u+6]=v*s+d*i+m|0,x[u+10]=p*i+f*o+g|0,x[u+11]=v*o+d*i+m|0,x[u+15]=p*n+f*o+g|0,x[u+16]=v*o+d*n+m|0):(x[u]=p*n+f*s+g,x[u+1]=v*s+d*n+m,x[u+5]=p*i+f*s+g,x[u+6]=v*s+d*i+m,x[u+10]=p*i+f*o+g,x[u+11]=v*o+d*i+m,x[u+15]=p*n+f*o+g,x[u+16]=v*o+d*n+m),x[u+2]=r.x0,x[u+3]=r.y0,x[u+7]=r.x1,x[u+8]=r.y1,x[u+12]=r.x2,x[u+13]=r.y2,x[u+17]=r.x3,x[u+18]=r.y3;var b=t.tint;y[u+4]=y[u+9]=y[u+14]=y[u+19]=(b>>16)+(65280&b)+((255&b)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},i.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var r=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,r)}for(var i,n,o,s,a=0,h=0,l=null,u=this.renderer.blendModeManager.currentBlendMode,c=null,p=!1,d=!1,f=0,v=this.currentBatchSize;v>f;f++)s=this.sprites[f],i=s._texture.baseTexture,n=s.blendMode,o=s.shader||this.shader,p=u!==n,d=c!==o,(l!==i||p||d)&&(this.renderBatch(l,a,h),h=f,a=0,l=i,p&&(u=n,this.renderer.blendModeManager.setBlendMode(u)),d&&(c=o,t=c.shaders?c.shaders[e.id]:c,t||(t=c.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(l,a,h),this.currentBatchSize=0}},i.prototype.renderBatch=function(t,e,r){if(0!==e){var i=this.renderer.gl;t._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,t._glTextures[i.id]):this.renderer.updateTexture(t),i.drawElements(i.TRIANGLES,6*e,i.UNSIGNED_SHORT,6*r*2),this.renderer.drawCount++}},i.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},i.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":22,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62}],68:[function(t,e,r){function i(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||h.RESOLUTION,this._text=null,this._style=null;var i=o.fromCanvas(this.canvas);i.trim=new s.Rectangle,n.call(this,i),this.text=t,this.style=e}var n=t("../sprites/Sprite"),o=t("../textures/Texture"),s=t("../math"),a=t("../utils"),h=t("../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.fontPropertiesCache={},i.fontPropertiesCanvas=document.createElement("canvas"),i.fontPropertiesContext=i.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(i.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||5,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,r=e.split(/(?:\r\n|\r|\n)/),i=new Array(r.length),n=0,o=this.determineFontProperties(t.font),s=0;s<r.length;s++){var a=this.context.measureText(r[s]).width;i[s]=a,n=Math.max(n,a)}var h=n+t.strokeThickness;t.dropShadow&&(h+=t.dropShadowDistance),this.canvas.width=(h+this.context.lineWidth)*this.resolution;var l=this.style.lineHeight||o.fontSize+t.strokeThickness,u=l*r.length;t.dropShadow&&(u+=t.dropShadowDistance),this.canvas.height=(u+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var c,p;if(t.dropShadow){this.context.fillStyle=t.dropShadowColor;var d=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,f=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<r.length;s++)c=t.strokeThickness/2,p=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?c+=n-i[s]:"center"===t.align&&(c+=(n-i[s])/2),t.fill&&this.context.fillText(r[s],c+d,p+f+this._style.padding)}for(this.context.fillStyle=t.fill,s=0;s<r.length;s++)c=t.strokeThickness/2,p=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?c+=n-i[s]:"center"===t.align&&(c+=(n-i[s])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(r[s],c,p+this._style.padding),t.fill&&this.context.fillText(r[s],c,p+this._style.padding);this.updateTexture()},i.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},i.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),n.prototype.renderWebGL.call(this,t)},i.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),n.prototype._renderCanvas.call(this,t)},i.prototype.determineFontProperties=function(t){var e=i.fontPropertiesCache[t];if(!e){e={};var r=i.fontPropertiesCanvas,n=i.fontPropertiesContext;n.font=t;var o=Math.ceil(n.measureText("|MÉq").width),s=Math.ceil(n.measureText("M").width),a=2*s;s=1.4*s|0,r.width=o,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,s);var h,l,u=n.getImageData(0,0,o,a).data,c=u.length,p=4*o,d=0,f=!1;for(h=0;s>h;h++){for(l=0;p>l;l+=4)if(255!==u[d+l]){f=!0;break}if(f)break;d+=p}for(e.ascent=s-h,d=c-p,f=!1,h=a;h>s;h--){for(l=0;p>l;l+=4)if(255!==u[d+l]){f=!0;break}if(f)break;d-=p}e.descent=h-s,e.fontSize=e.ascent+e.descent,i.fontPropertiesCache[t]=e}return e},i.prototype.wordWrap=function(t){for(var e="",r=t.split("\n"),i=this._style.wordWrapWidth,n=0;n<r.length;n++){for(var o=i,s=r[n].split(" "),a=0;a<s.length;a++){var h=this.context.measureText(s[a]).width,l=h+this.context.measureText(" ").width;0===a||l>o?(a>0&&(e+="\n"),e+=s[a],o=i-h):(o-=l,e+=" "+s[a])}n<r.length-1&&(e+="\n")}return e},i.prototype.getBounds=function(t){return this.dirty&&this.updateText(),n.prototype.getBounds.call(this,t)},i.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t?!0:t)}},{"../const":22,"../math":32,"../sprites/Sprite":66,"../textures/Texture":71,"../utils":76}],69:[function(t,e,r){function i(t,e,r){s.call(this),this.uid=n.uid(),this.resolution=r||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],t&&this.loadSource(t)}var n=t("../utils"),o=t("../const"),s=t("eventemitter3");i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},i.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var r=this;t.onload=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),r.emit("loaded",r))},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},i.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},i.prototype.destroy=function(){this.imageUrl?(delete n.BaseTextureCache[this.imageUrl],delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete n.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},i.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},i.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},i.fromImage=function(t,e,r){var o=n.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),o=new i(s,r),o.imageUrl=t,s.src=t,n.BaseTextureCache[t]=o,o.resolution=n.getResolutionOfUrl(t)}return o},i.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+n.uid());var r=n.BaseTextureCache[t._pixiId];return r||(r=new i(t,e),n.BaseTextureCache[t._pixiId]=r),r}},{"../const":22,"../utils":76,eventemitter3:11}],70:[function(t,e,r){function i(t,e,r,i,c){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,r=r||100,c=c||u.RESOLUTION;var p=new n;if(p.width=e,p.height=r,p.resolution=c,p.scaleMode=i||u.SCALE_MODES.DEFAULT,p.hasLoaded=!0,o.call(this,p,new l.Rectangle(0,0,e,r)),this.width=e,this.height=r,this.resolution=c,this.render=null,this.renderer=t,this.renderer.type===u.RENDERER_TYPE.WEBGL){var d=this.renderer.gl;this.textureBuffer=new s(d,this.width,this.height,p.scaleMode,this.resolution),this.baseTexture._glTextures[d.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,r),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new h(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var n=t("./BaseTexture"),o=t("./Texture"),s=t("../renderers/webgl/utils/RenderTarget"),a=t("../renderers/webgl/managers/FilterManager"),h=t("../renderers/canvas/utils/CanvasBuffer"),l=t("../math"),u=t("../const"),c=new l.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.resize=function(t,e,r){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},i.prototype.clear=function(){this.valid&&(this.renderer.type===u.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.prototype.renderWebGL=function(t,e,r,i){if(this.valid){if(i=void 0!==i?i:!0,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,i){t.worldTransform.identity(),t.currentBounds=null;var n,o,s=t.children;for(n=0,o=s.length;o>n;++n)s[n].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,r),this.renderer.filterManager=a}},i.prototype.renderCanvas=function(t,e,r,i){if(this.valid){i=!!i;var n=t.worldTransform,o=c;o.identity(),e&&o.append(e),t.worldTransform=o,t.worldAlpha=1;var s,a,h=t.children;for(s=0,a=h.length;a>s;++s)h[s].updateTransform();r&&this.textureBuffer.clear(),t.worldTransform=n;var l=this.textureBuffer.context,u=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,l),this.renderer.resolution=u}},i.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},i.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.prototype.getCanvas=function(){if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,r=this.textureBuffer.size.height,i=new Uint8Array(4*e*r);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=new h(e,r),o=n.context.getImageData(0,0,e,r);return o.data.set(i),n.context.putImageData(o,0,0),n.canvas}return this.textureBuffer.canvas},i.prototype.getPixels=function(){var t,e;if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var r=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var i=new Uint8Array(4*t*e);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(0,0,t,e,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},i.prototype.getPixel=function(t,e){if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var r=this.renderer.gl,i=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(t,e,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},{"../const":22,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/webgl/managers/FilterManager":53,"../renderers/webgl/utils/RenderTarget":64,"./BaseTexture":69,"./Texture":71}],71:[function(t,e,r){function i(t,e,r,n,o){a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new h.Rectangle(0,0,1,1)),t instanceof i&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||e,this.rotate=!!o,t.hasLoaded?(this.noFrame&&(e=new h.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var n=t("./BaseTexture"),o=t("./VideoBaseTexture"),s=t("./TextureUvs"),a=t("eventemitter3"),h=t("../math"),l=t("../utils");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}}}),i.prototype.update=function(){this.baseTexture.update()},i.prototype.onBaseTextureLoaded=function(t){this.frame=this.noFrame?new h.Rectangle(0,0,t.width,t.height):this._frame,this.emit("update",this)},i.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},i.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1},i.prototype.clone=function(){return new i(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},i.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},i.fromImage=function(t,e,r){var o=l.TextureCache[t];return o||(o=new i(n.fromImage(t,e,r)),l.TextureCache[t]=o),o},i.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},i.fromCanvas=function(t,e){return new i(n.fromCanvas(t,e))},i.fromVideo=function(t,e){return"string"==typeof t?i.fromVideoUrl(t,e):new i(o.fromVideo(t,e))},i.fromVideoUrl=function(t,e){return new i(o.fromUrl(t,e))},i.addTextureToCache=function(t,e){l.TextureCache[e]=t},i.removeTextureFromCache=function(t){var e=l.TextureCache[t];return delete l.TextureCache[t],delete l.BaseTextureCache[t],e},i.EMPTY=new i(new n)},{"../math":32,"../utils":76,"./BaseTexture":69,"./TextureUvs":72,"./VideoBaseTexture":73,eventemitter3:11}],72:[function(t,e,r){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=i,i.prototype.set=function(t,e,r){var i=e.width,n=e.height;r?(this.x0=(t.x+t.height)/i,this.y0=t.y/n,this.x1=(t.x+t.height)/i,this.y1=(t.y+t.width)/n,this.x2=t.x/i,this.y2=(t.y+t.width)/n,this.x3=t.x/i,this.y3=t.y/n):(this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n)}},{}],73:[function(t,e,r){function i(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function n(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}var o=t("./BaseTexture"),s=t("../utils");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},i.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},i.prototype._onPlayStop=function(){this.autoUpdate=!1},i.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},i.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},i.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var r=s.BaseTextureCache[t._pixiId];return r||(r=new i(t,e),s.BaseTextureCache[t._pixiId]=r),r},i.fromUrl=function(t,e){var r=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)r.appendChild(n(t.src||t,t.mime));else r.appendChild(n(t.src||t,t.mime));return r.load(),r.play(),i.fromVideo(r,e)},i.fromUrls=i.fromUrl},{"../utils":76,"./BaseTexture":69}],74:[function(t,e,r){function i(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var n=t("../const"),o=t("eventemitter3"),s="tick";Object.defineProperties(i.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,n.TARGET_FPMS);this._maxElapsedMS=1/e}}}),i.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},i.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},i.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*n.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},e.exports=i},{"../const":22,eventemitter3:11}],75:[function(t,e,r){var i=t("./Ticker"),n=new i;n.autoStart=!0,e.exports={shared:n,Ticker:i}},{"./Ticker":74}],76:[function(t,e,r){var i=t("../const"),n=e.exports={_uid:0,_saidHello:!1,pluginTarget:t("./pluginTarget"),async:t("async"),uid:function(){return++n._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",r=new Image;r.src=t+"AP804Oa6"+e;var i=new Image;i.src=t+"/wCKxvRF"+e;var n=document.createElement("canvas");n.width=6,n.height=1;var o=n.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(r,0,0),o.drawImage(i,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=i.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!n._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+i.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+i.VERSION+" - "+t+" - http://www.pixijs.com/");n._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!r||!r.getContextAttributes().stencil)}catch(i){return!1}},TextureCache:{},BaseTextureCache:{}}},{"../const":22,"./pluginTarget":77,async:2}],77:[function(t,e,r){function i(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.exports={mixin:function(t){i(t)}}},{}],78:[function(t,e,r){var i=t("./core"),n=t("./mesh"),o=t("./extras"),s=t("./filters");i.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},i.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(i,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),i.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),i.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),n.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),n.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),i.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),i.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),i.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),i.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),i}}}),i.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},i.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},i.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},i.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),i.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),i.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),i.SpriteMaskFilter}}}),i.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),i.utils.uid()}},{"./core":29,"./extras":85,"./filters":102,"./mesh":126}],79:[function(t,e,r){function i(t,e){n.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.dirty=!1,this.updateText()}var n=t("../core");i.prototype=Object.create(n.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{tint:{get:function(){return this._font.tint},set:function(t){
this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):i.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){for(var t=i.fonts[this._font.name],e=new n.Point,r=null,o=[],s=0,a=0,h=[],l=0,u=this._font.size/t.size,c=-1,p=0;p<this.text.length;p++){var d=this.text.charCodeAt(p);if(c=/(\s)/.test(this.text.charAt(p))?p:c,/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))h.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,r=null;else if(-1!==c&&this.maxWidth>0&&e.x*u>this.maxWidth)o.splice(c,p-c),p=c,c=-1,h.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,r=null;else{var f=t.chars[d];f&&(r&&f.kerning[r]&&(e.x+=f.kerning[r]),o.push({texture:f.texture,line:l,charCode:d,position:new n.Point(e.x+f.xOffset,e.y+f.yOffset)}),s=e.x+(f.texture.width+f.xOffset),e.x+=f.xAdvance,r=d)}}h.push(s),a=Math.max(a,s);var v=[];for(p=0;l>=p;p++){var g=0;"right"===this._font.align?g=a-h[p]:"center"===this._font.align&&(g=(a-h[p])/2),v.push(g)}var m=o.length,y=this.tint;for(p=0;m>p;p++){var x=this._glyphs[p];x?x.texture=o[p].texture:(x=new n.Sprite(o[p].texture),this._glyphs.push(x)),x.position.x=(o[p].position.x+v[o[p].line])*u,x.position.y=o[p].position.y*u,x.scale.x=x.scale.y=u,x.tint=y,x.parent||this.addChild(x)}for(p=m;p<this._glyphs.length;++p)this.removeChild(this._glyphs[p]);this.textWidth=a*u,this.textHeight=(e.y+t.lineHeight)*u},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),n.Container.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.fonts={}},{"../core":29}],80:[function(t,e,r){function i(t){n.Sprite.call(this,t[0]),this._textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var n=t("../core");i.prototype=Object.create(n.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){this._textures=t,this.texture=this._textures[Math.floor(this._currentTime)%this._textures.length]}},currentFrame:{get:function(){return Math.floor(this._currentTime)%this._textures.length}}}),i.prototype.stop=function(){this.playing&&(this.playing=!1,n.ticker.shared.remove(this.update,this))},i.prototype.play=function(){this.playing||(this.playing=!0,n.ticker.shared.add(this.update,this))},i.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t;var e=Math.floor(this._currentTime);this._texture=this._textures[e%this._textures.length]},i.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},i.prototype.update=function(t){this._currentTime+=this.animationSpeed*t;var e=Math.floor(this._currentTime);0>e?this.loop?this._texture=this._textures[this._textures.length-1+e%this._textures.length]:(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this.loop||e<this._textures.length?this._texture=this._textures[e%this._textures.length]:e>=this._textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())},i.prototype.destroy=function(){this.stop(),n.Sprite.prototype.destroy.call(this)},i.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new n.Texture.fromFrame(t[r]));return new i(e)},i.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new n.Texture.fromImage(t[r]));return new i(e)}},{"../core":29}],81:[function(t,e,r){function i(t,e,r){n.Sprite.call(this,t),this.tileScale=new n.Point(1,1),this.tilePosition=new n.Point(0,0),this._width=e||100,this._height=r||100,this._uvs=new n.TextureUvs,this._canvasPattern=null,this.shader=new n.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var n=t("../core"),o=new n.Point;i.prototype=Object.create(n.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),i.prototype._onTextureUpdate=function(){},i.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var r=e._uvs,i=e._frame.width,n=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=r.x0,this.shader.uniforms.uFrame.value[1]=r.y0,this.shader.uniforms.uFrame.value[2]=r.x1-r.x0,this.shader.uniforms.uFrame.value[3]=r.y2-r.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(i*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(n*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=r,e._frame.width=i,e._frame.height=n}},i.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,i=this.worldTransform,o=t.resolution,s=e.baseTexture,a=this.tilePosition.x%(e._frame.width*this.tileScale.x),h=this.tilePosition.y%(e._frame.height*this.tileScale.y);if(!this._canvasPattern){var l=new n.CanvasBuffer(e._frame.width,e._frame.height);l.context.drawImage(s.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),r.scale(this.tileScale.x,this.tileScale.y),r.translate(a+this.anchor.x*-this._width,h+this.anchor.y*-this._height),this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,r.globalCompositeOperation=t.blendModes[t.currentBlendMode]),r.fillStyle=this._canvasPattern,r.fillRect(-a,-h,this._width/this.tileScale.x,this._height/this.tileScale.y)}},i.prototype.getBounds=function(){var t,e,r,i,n=this._width,o=this._height,s=n*(1-this.anchor.x),a=n*-this.anchor.x,h=o*(1-this.anchor.y),l=o*-this.anchor.y,u=this.worldTransform,c=u.a,p=u.b,d=u.c,f=u.d,v=u.tx,g=u.ty,m=c*a+d*l+v,y=f*l+p*a+g,x=c*s+d*l+v,b=f*l+p*s+g,_=c*s+d*h+v,T=f*h+p*s+g,E=c*a+d*h+v,S=f*h+p*a+g;t=m,t=t>x?x:t,t=t>_?_:t,t=t>E?E:t,r=y,r=r>b?b:r,r=r>T?T:r,r=r>S?S:r,e=m,e=x>e?x:e,e=_>e?_:e,e=E>e?E:e,i=y,i=b>i?b:i,i=T>i?T:i,i=S>i?S:i;var A=this._bounds;return A.x=t,A.width=e-t,A.y=r,A.height=i-r,this._currentBounds=A,A},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,r=this._width,i=this._height,n=-r*this.anchor.x;return o.x>n&&o.x<n+r&&(e=-i*this.anchor.y,o.y>e&&o.y<e+i)?!0:!1},i.prototype.destroy=function(){n.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},i.fromFrame=function(t,e,r){var o=n.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new i(o,e,r)},i.fromImage=function(t,e,r,o,s){return new i(n.Texture.fromImage(t,o,s),e,r)}},{"../core":29}],82:[function(t,e,r){var i=t("../core"),n=i.DisplayObject,o=new i.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._originalRenderWebGL=null,n.prototype._originalRenderCanvas=null,n.prototype._originalUpdateTransform=null,n.prototype._originalHitTest=null,n.prototype._originalDestroy=null,n.prototype._cachedSprite=null,Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),n.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},n.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;e.x-=r,e.y-=r,e.width+=2*r,e.height+=2*r}var n=t.currentRenderTarget,s=t.filterManager.filterStack,a=new i.RenderTexture(t,0|e.width,0|e.height),h=o;h.tx=-e.x,h.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,h,!0,!0),t.setRenderTarget(n),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},n.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),r=t.context,n=new i.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,n.render(this,s,!0),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(n),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},n.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":29}],83:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":29}],84:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new i.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":29}],85:[function(t,e,r){t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":79,"./MovieClip":80,"./TilingSprite":81,"./cacheAsBitmap":82,"./getChildByName":83,"./getGlobalPosition":84}],86:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],87:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new n.AbstractFilter}var n=t("../../core"),o=t("../blur/BlurXFilter"),s=t("../blur/BlurYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,r),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(n.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,i,r),t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"../blur/BlurXFilter":90,"../blur/BlurYFilter":91}],88:[function(t,e,r){function i(t,e){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new n.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(n,e,o,i);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(n,o,o,i);t.filterManager.applyFilter(n,o,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},{"../../core":29}],89:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var n=t("../../core"),o=t("./BlurXFilter"),s=t("./BlurYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,i),this.blurYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"./BlurXFilter":90,"./BlurYFilter":91}],90:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],91:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],92:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],93:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._loadMatrix=function(t,e){e=!!e;var r=t;e&&(this._multiply(r,this.uniforms.m.value,t),r=this._colorMatrix(r)),this.uniforms.m.value=r},i.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19],t},i.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},i.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.grayscale=i.prototype.greyscale,i.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=.213,o=.715,s=.072,a=[n+r*(1-n)+i*-n,o+r*-o+i*-o,s+r*-s+i*(1-s),0,0,n+r*-n+.143*i,o+r*(1-o)+.14*i,s+r*-s+i*-.283,0,0,n+r*-n+i*-(1-n),o+r*-o+i*o,s+r*(1-s)+i*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},i.prototype.contrast=function(t,e){var r=(t||0)+1,i=-128*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.saturate=function(t,e){var r=2*(t||0)/3+1,i=(r-1)*-.5,n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.desaturate=function(t){this.saturate(-1)},i.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.colorTone=function(t,e,r,i,n){t=t||.2,e=e||.15,r=r||16770432,i=i||3375104;var o=(r>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=(i>>16&255)/255,l=(i>>8&255)/255,u=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,h,l,u,e,0,o-h,s-l,a-u,0,0];this._loadMatrix(c,n)},i.prototype.night=function(t,e){t=t||.1;var r=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},{"../../core":29}],94:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t;

}}})},{"../../core":29}],95:[function(t,e,r){function i(t,e,r){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/r}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},{"../../core":29}],96:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],97:[function(t,e,r){function i(t){var e=new n.Matrix;t.renderable=!1,n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 original =  texture2D(uSampler, vTextureCoord);\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:e.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=e,this.scale=new n.Point(20,20)}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager;i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},{"../../core":29}],98:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],99:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,i);var l=a;a=s,s=l}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},{"../../core":29}],100:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new n.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=n.BLEND_MODES.MULTIPLY}var n=t("../../core"),o=t("../blur/BlurXFilter"),s=t("./BlurYTintFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,i,r),t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return n.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=n.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},{"../../core":29,"../blur/BlurXFilter":90,"./BlurYTintFilter":99}],101:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},{"../../core":29}],102:[function(t,e,r){e.exports={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),BlurFilter:t("./blur/BlurFilter"),BlurXFilter:t("./blur/BlurXFilter"),BlurYFilter:t("./blur/BlurYFilter"),BlurDirFilter:t("./blur/BlurDirFilter"),ColorMatrixFilter:t("./color/ColorMatrixFilter"),ColorStepFilter:t("./color/ColorStepFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DisplacementFilter:t("./displacement/DisplacementFilter"),DotScreenFilter:t("./dot/DotScreenFilter"),GrayFilter:t("./gray/GrayFilter"),DropShadowFilter:t("./dropshadow/DropShadowFilter"),InvertFilter:t("./invert/InvertFilter"),NoiseFilter:t("./noise/NoiseFilter"),NormalMapFilter:t("./normal/NormalMapFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),SepiaFilter:t("./sepia/SepiaFilter"),SmartBlurFilter:t("./blur/SmartBlurFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")}},{"./ascii/AsciiFilter":86,"./bloom/BloomFilter":87,"./blur/BlurDirFilter":88,"./blur/BlurFilter":89,"./blur/BlurXFilter":90,"./blur/BlurYFilter":91,"./blur/SmartBlurFilter":92,"./color/ColorMatrixFilter":93,"./color/ColorStepFilter":94,"./convolution/ConvolutionFilter":95,"./crosshatch/CrossHatchFilter":96,"./displacement/DisplacementFilter":97,"./dot/DotScreenFilter":98,"./dropshadow/DropShadowFilter":100,"./gray/GrayFilter":101,"./invert/InvertFilter":103,"./noise/NoiseFilter":104,"./normal/NormalMapFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],103:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},{"../../core":29}],104:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},{"../../core":29}],105:[function(t,e,r){function i(t){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D displacementMap;\nuniform sampler2D uSampler;\n\nuniform vec4 dimensions;\n\nconst vec2 Resolution = vec2(1.0,1.0);      //resolution of screen\nuniform vec3 LightPos;    //light position, normalized\nconst vec4 LightColor = vec4(1.0, 1.0, 1.0, 1.0);      //light RGBA -- alpha is intensity\nconst vec4 AmbientColor = vec4(1.0, 1.0, 1.0, 0.5);    //ambient RGBA -- alpha is intensity\nconst vec3 Falloff = vec3(0.0, 1.0, 0.2);         //attenuation coefficients\n\nuniform vec3 LightDir; // = vec3(1.0, 0.0, 1.0);\n\nuniform vec2 mapDimensions; // = vec2(256.0, 256.0);\n\n\nvoid main(void)\n{\n    vec2 mapCords = vTextureCoord.xy;\n\n    vec4 color = texture2D(uSampler, vTextureCoord.st);\n    vec3 nColor = texture2D(displacementMap, vTextureCoord.st).rgb;\n\n\n    mapCords *= vec2(dimensions.x/512.0, dimensions.y/512.0);\n\n    mapCords.y *= -1.0;\n    mapCords.y += 1.0;\n\n    // RGBA of our diffuse color\n    vec4 DiffuseColor = texture2D(uSampler, vTextureCoord);\n\n    // RGB of our normal map\n    vec3 NormalMap = texture2D(displacementMap, mapCords).rgb;\n\n    // The delta position of light\n    // vec3 LightDir = vec3(LightPos.xy - (gl_FragCoord.xy / Resolution.xy), LightPos.z);\n    vec3 LightDir = vec3(LightPos.xy - (mapCords.xy), LightPos.z);\n\n    // Correct for aspect ratio\n    // LightDir.x *= Resolution.x / Resolution.y;\n\n    // Determine distance (used for attenuation) BEFORE we normalize our LightDir\n    float D = length(LightDir);\n\n    // normalize our vectors\n    vec3 N = normalize(NormalMap * 2.0 - 1.0);\n    vec3 L = normalize(LightDir);\n\n    // Pre-multiply light color with intensity\n    // Then perform 'N dot L' to determine our diffuse term\n    vec3 Diffuse = (LightColor.rgb * LightColor.a) * max(dot(N, L), 0.0);\n\n    // pre-multiply ambient color with intensity\n    vec3 Ambient = AmbientColor.rgb * AmbientColor.a;\n\n    // calculate attenuation\n    float Attenuation = 1.0 / ( Falloff.x + (Falloff.y*D) + (Falloff.z*D*D) );\n\n    // the calculation which brings it all together\n    vec3 Intensity = Ambient + Diffuse * Attenuation;\n    vec3 FinalColor = DiffuseColor.rgb * Intensity;\n    gl_FragColor = vColor * vec4(FinalColor, DiffuseColor.a);\n\n    // gl_FragColor = vec4(1.0, 0.0, 0.0, Attenuation); // vColor * vec4(FinalColor, DiffuseColor.a);\n\n/*\n    // normalise color\n    vec3 normal = normalize(nColor * 2.0 - 1.0);\n\n    vec3 deltaPos = vec3( (light.xy - gl_FragCoord.xy) / resolution.xy, light.z );\n\n    float lambert = clamp(dot(normal, lightDir), 0.0, 1.0);\n\n    float d = sqrt(dot(deltaPos, deltaPos));\n    float att = 1.0 / ( attenuation.x + (attenuation.y*d) + (attenuation.z*d*d) );\n\n    vec3 result = (ambientColor * ambientIntensity) + (lightColor.rgb * lambert) * att;\n    result *= color.rgb;\n\n    gl_FragColor = vec4(result, 1.0);\n*/\n}\n",{displacementMap:{type:"sampler2D",value:t},scale:{type:"2f",value:{x:15,y:15}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:1}},dimensions:{type:"4f",value:[0,0,0,0]},LightPos:{type:"3f",value:[0,1,0]}}),t.baseTexture._powerOf2=!0,t.baseTexture.hasLoaded?this.onTextureLoaded():t.baseTexture.once("loaded",this.onTextureLoaded,this)}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}},scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../core":29}],106:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],107:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{"../../core":29}],108:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},{"../../core":29}],109:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},{"../../core":29}],110:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(i.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},{"../../core":29}],111:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var n=t("../../core"),o=t("./TiltShiftXFilter"),s=t("./TiltShiftYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,i),this.tiltShiftYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(t,e,r){function i(){n.call(this)}var n=t("./TiltShiftAxisFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/r,this.uniforms.delta.value.y=e/r}},{"./TiltShiftAxisFilter":110}],113:[function(t,e,r){function i(){n.call(this)}var n=t("./TiltShiftAxisFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/r,this.uniforms.delta.value.y=t/r}},{"./TiltShiftAxisFilter":110}],114:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],115:[function(t,e,r){function i(){this.global=new n.Point,this.target=null,this.originalEvent=null}var n=t("../core");i.prototype.constructor=i,e.exports=i,i.prototype.getLocalPosition=function(t,e,r){var i=t.worldTransform,o=r?r:this.global,s=i.a,a=i.c,h=i.tx,l=i.b,u=i.d,c=i.ty,p=1/(s*u+a*-l);return e=e||new n.Point,e.x=u*p*o.x+-a*p*o.x+(c*a-h*u)*p,e.y=s*p*o.y+-l*p*o.y+(-c*s+h*l)*p,e}},{"../core":29}],116:[function(t,e,r){function i(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0!==e.autoPreventDefault?e.autoPreventDefault:!0,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new n.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var n=t("../core"),o=t("./InteractionData");Object.assign(n.DisplayObject.prototype,t("./interactiveTarget")),i.prototype.constructor=i,e.exports=i,i.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),
this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},i.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.target=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},i.prototype.mapPositionToPoint=function(t,e,r){var i=this.interactionDOMElement.getBoundingClientRect();t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)/this.resolution,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)/this.resolution},i.prototype.processInteractive=function(t,e,r,i,n){if(!e.visible)return!1;var o=e.children,s=!1;if(n=n||e.interactive,e.interactiveChildren)for(var a=o.length-1;a>=0;a--)!s&&i?s=this.processInteractive(t,o[a],r,!0,n):this.processInteractive(t,o[a],r,!1,!1);return n&&(i&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),s=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(s=e.containsPoint(t))),e.interactive&&r(e,s)),s},i.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},i.prototype.processMouseDown=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which;e&&(t[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",this.eventData))},i.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},i.prototype.processMouseUp=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which,n=i?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,i?"rightup":"mouseup",this.eventData),t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightclick":"click",this.eventData))):t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightupoutside":"mouseupoutside",this.eventData))},i.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},i.prototype.processMouseMove=function(t,e){this.dispatchEvent(t,"mousemove",this.eventData),this.processMouseOverOut(t,e)},i.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},i.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},i.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},i.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},i.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},i.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},i.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,!1),this.returnTouchData(o)}},i.prototype.processTouchMove=function(t,e){e=e,this.dispatchEvent(t,"touchmove",this.eventData)},i.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},i.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},i.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},n.WebGLRenderer.registerPlugin("interaction",i),n.CanvasRenderer.registerPlugin("interaction",i)},{"../core":29,"./InteractionData":115,"./interactiveTarget":118}],117:[function(t,e,r){e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":115,"./InteractionManager":116,"./interactiveTarget":118}],118:[function(t,e,r){var i={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};e.exports=i},{}],119:[function(t,e,r){function i(t,e){var r={},i=t.data.getElementsByTagName("info")[0],n=t.data.getElementsByTagName("common")[0];r.font=i.getAttribute("face"),r.size=parseInt(i.getAttribute("size"),10),r.lineHeight=parseInt(n.getAttribute("lineHeight"),10),r.chars={};for(var a=t.data.getElementsByTagName("char"),h=0;h<a.length;h++){var l=parseInt(a[h].getAttribute("id"),10),u=new o.Rectangle(parseInt(a[h].getAttribute("x"),10)+e.frame.x,parseInt(a[h].getAttribute("y"),10)+e.frame.y,parseInt(a[h].getAttribute("width"),10),parseInt(a[h].getAttribute("height"),10));r.chars[l]={xOffset:parseInt(a[h].getAttribute("xoffset"),10),yOffset:parseInt(a[h].getAttribute("yoffset"),10),xAdvance:parseInt(a[h].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,u)}}var c=t.data.getElementsByTagName("kerning");for(h=0;h<c.length;h++){var p=parseInt(c[h].getAttribute("first"),10),d=parseInt(c[h].getAttribute("second"),10),f=parseInt(c[h].getAttribute("amount"),10);r.chars[d].kerning[p]=f}t.bitmapFont=r,s.BitmapText.fonts[r.font]=r}var n=t("resource-loader").Resource,o=t("../core"),s=t("../extras"),a=t("path");e.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var r=a.dirname(t.url);"."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,"")),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])i(t,o.utils.TextureCache[s]),e();else{var h={crossOrigin:t.crossOrigin,loadType:n.LOAD_TYPE.IMAGE};this.add(t.name+"_image",s,h,function(r){i(t,r.texture),e()})}}}},{"../core":29,"../extras":85,path:3,"resource-loader":18}],120:[function(t,e,r){e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":119,"./loader":121,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],121:[function(t,e,r){function i(t,e){n.call(this,t,e);for(var r=0;r<i._pixiMiddleware.length;++r)this.use(i._pixiMiddleware[r]())}var n=t("resource-loader"),o=t("./textureParser"),s=t("./spritesheetParser"),a=t("./bitmapFontParser");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i._pixiMiddleware=[n.middleware.parsing.blob,o,s,a],i.addPixiMiddleware=function(t){i._pixiMiddleware.push(t)};var h=n.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":119,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],122:[function(t,e,r){var i=t("resource-loader").Resource,n=t("path"),o=t("../core");e.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var r={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE},s=n.dirname(t.url.replace(this.baseUrl,"")),a=o.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",s+"/"+t.data.meta.image,r,function(r){t.textures={};var i=t.data.frames;for(var n in i){var s=i[n].frame;if(s){var h=null,l=null;if(h=i[n].rotated?new o.Rectangle(s.x,s.y,s.h,s.w):new o.Rectangle(s.x,s.y,s.w,s.h),i[n].trimmed&&(l=new o.Rectangle(i[n].spriteSourceSize.x/a,i[n].spriteSourceSize.y/a,i[n].sourceSize.w/a,i[n].sourceSize.h/a)),i[n].rotated){var u=h.width;h.width=h.height,h.height=u}h.x/=a,h.y/=a,h.width/=a,h.height/=a,t.textures[n]=new o.Texture(r.texture.baseTexture,h,h.clone(),l,i[n].rotated),o.utils.TextureCache[n]=t.textures[n]}}e()})}}},{"../core":29,path:3,"resource-loader":18}],123:[function(t,e,r){var i=t("../core");e.exports=function(){return function(t,e){t.data&&t.isImage&&(t.texture=new i.Texture(new i.BaseTexture(t.data,null,i.utils.getResolutionOfUrl(t.url))),i.utils.TextureCache[t.url]=t.texture),e()}}},{"../core":29}],124:[function(t,e,r){function i(t,e,r,o,s){n.Container.call(this),this._texture=null,this.uvs=r||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=n.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||i.DRAW_MODES.TRIANGLE_MESH,this.texture=t}var n=t("../core"),o=new n.Point,s=new n.Polygon;i.prototype=Object.create(n.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},i.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===i.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},i.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,r=this.uvs,i=e.length/2,n=0;i-2>n;n++){var o=2*n;this._renderCanvasDrawTriangle(t,e,r,o,o+2,o+4)}},i.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,r=this.uvs,i=this.indices,n=i.length,o=0;n>o;o+=3){var s=2*i[o],a=2*i[o+1],h=2*i[o+2];this._renderCanvasDrawTriangle(t,e,r,s,a,h)}},i.prototype._renderCanvasDrawTriangle=function(t,e,r,i,n,o){var s=this._texture.baseTexture.source,a=this._texture.baseTexture.width,h=this._texture.baseTexture.height,l=e[i],u=e[n],c=e[o],p=e[i+1],d=e[n+1],f=e[o+1],v=r[i]*a,g=r[n]*a,m=r[o]*a,y=r[i+1]*h,x=r[n+1]*h,b=r[o+1]*h;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,T=this.canvasPadding/this.worldTransform.d,E=(l+u+c)/3,S=(p+d+f)/3,A=l-E,w=p-S,C=Math.sqrt(A*A+w*w);l=E+A/C*(C+_),p=S+w/C*(C+T),A=u-E,w=d-S,C=Math.sqrt(A*A+w*w),u=E+A/C*(C+_),d=S+w/C*(C+T),A=c-E,w=f-S,C=Math.sqrt(A*A+w*w),c=E+A/C*(C+_),f=S+w/C*(C+T)}t.save(),t.beginPath(),t.moveTo(l,p),t.lineTo(u,d),t.lineTo(c,f),t.closePath(),t.clip();var M=v*x+y*m+g*b-x*m-y*g-v*b,R=l*x+y*c+u*b-x*c-y*u-l*b,D=v*u+l*m+g*c-u*m-l*g-v*c,F=v*x*c+y*u*m+l*g*b-l*x*m-y*g*c-v*u*b,P=p*x+y*f+d*b-x*f-y*d-p*b,O=v*d+p*m+g*f-d*m-p*g-v*f,B=v*x*f+y*d*m+p*g*b-p*x*m-y*g*f-v*d*b;t.transform(R/M,P/M,D/M,O/M,F/M,B/M),t.drawImage(s,0,0),t.restore()},i.prototype.renderMeshFlat=function(t){var e=this.context,r=t.vertices,i=r.length/2;e.beginPath();for(var n=1;i-2>n;n++){var o=2*n,s=r[o],a=r[o+2],h=r[o+4],l=r[o+1],u=r[o+3],c=r[o+5];e.moveTo(s,l),e.lineTo(a,u),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.prototype._onTextureUpdate=function(){this.updateFrame=!0},i.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,r=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,h=e.ty,l=-(1/0),u=-(1/0),c=1/0,p=1/0,d=this.vertices,f=0,v=d.length;v>f;f+=2){var g=d[f],m=d[f+1],y=r*g+o*m+a,x=s*m+i*g+h;c=c>y?y:c,p=p>x?x:p,l=y>l?y:l,u=x>u?x:u}if(c===-(1/0)||u===1/0)return n.Rectangle.EMPTY;var b=this._bounds;b.x=c,b.width=l-c,b.y=p,b.height=u-p,this._currentBounds=b}return this._currentBounds},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);var e,r,n=this.vertices,a=s.points;if(this.drawMode===i.DRAW_MODES.TRIANGLES){var h=this.indices;for(r=this.indices.length,e=0;r>e;e+=3){var l=2*h[e],u=2*h[e+1],c=2*h[e+2];if(a[0]=n[l],a[1]=n[l+1],a[2]=n[u],a[3]=n[u+1],a[4]=n[c],a[5]=n[c+1],s.contains(o.x,o.y))return!0}}else for(r=n.length,e=0;r>e;e+=6)if(a[0]=n[e],a[1]=n[e+1],a[2]=n[e+2],a[3]=n[e+3],a[4]=n[e+4],a[5]=n[e+5],s.contains(o.x,o.y))return!0;return!1},i.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":29}],125:[function(t,e,r){function i(t,e){n.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var n=t("./Mesh"),o=t("../core");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,r=this.indices,i=this.colors,n=this._texture._uvs,s=new o.Point(n.x0,n.y0),a=new o.Point(n.x2-n.x0,n.y2-n.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var h,l,u,c=t.length,p=1;c>p;p++)h=t[p],l=4*p,u=p/(c-1),e[l]=u*a.x+s.x,e[l+1]=0+s.y,e[l+2]=u*a.x+s.x,e[l+3]=1*a.y+s.y,l=2*p,i[l]=1,i[l+1]=1,l=2*p,r[l]=l,r[l+1]=l+1;this.dirty=!0}},i.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},i.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,r,i,n,o,s,a=t[0],h=0,l=0,u=this.vertices,c=t.length,p=0;c>p;p++)r=t[p],i=4*p,e=p<t.length-1?t[p+1]:r,l=-(e.x-a.x),h=e.y-a.y,n=10*(1-p/(c-1)),n>1&&(n=1),o=Math.sqrt(h*h+l*l),s=this._texture.height/2,h/=o,l/=o,h*=s,l*=s,u[i]=r.x+h,u[i+1]=r.y+l,u[i+2]=r.x-h,u[i+3]=r.y-l,a=r;this.containerUpdateTransform()}}},{"../core":29,"./Mesh":124}],126:[function(t,e,r){e.exports={Mesh:t("./Mesh"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":124,"./Rope":125,"./webgl/MeshRenderer":127,"./webgl/MeshShader":128}],127:[function(t,e,r){function i(t){n.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,r=0;15e3>e;e+=6,r+=4)this.indices[e+0]=r+0,this.indices[e+1]=r+1,this.indices[e+2]=r+2,this.indices[e+3]=r+0,this.indices[e+4]=r+2,this.indices[e+5]=r+3}var n=t("../../core"),o=t("../Mesh");i.prototype=Object.create(n.ObjectRenderer.prototype),i.prototype.constructor=i,e.exports=i,n.WebGLRenderer.registerPlugin("mesh",i),i.prototype.onContextChange=function(){},i.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,r=e.gl,i=t._texture.baseTexture,n=e.shaderManager.plugins.meshShader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),r.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),r.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,e.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform1f(n.uniforms.alpha._location,t.worldAlpha),t.dirty?(t.dirty=!1,r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferData(r.ARRAY_BUFFER,t.vertices,r.STATIC_DRAW),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.bufferData(r.ARRAY_BUFFER,t.uvs,r.STATIC_DRAW),r.vertexAttribPointer(n.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.indices,r.STATIC_DRAW)):(r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,t.vertices),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.vertexAttribPointer(n.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,t.indices)),r.drawElements(s,t.indices.length,r.UNSIGNED_SHORT,0)},i.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},i.prototype.flush=function(){},i.prototype.start=function(){var t=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(t)},i.prototype.destroy=function(){}},{"../../core":29,"../Mesh":124}],128:[function(t,e,r){function i(t){n.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var n=t("../../core");i.prototype=Object.create(n.Shader.prototype),i.prototype.constructor=i,e.exports=i,n.ShaderManager.registerPlugin("meshShader",i)},{"../../core":29}],129:[function(t,e,r){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":12}],130:[function(t,e,r){t("./Object.assign"),t("./requestAnimationFrame")},{"./Object.assign":129,"./requestAnimationFrame":131}],131:[function(t,e,r){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return 0>i&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});
;(function(){
var k,aa=this;function ba(b,a){var c=b.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===a?d=d[e]?d[e]:d[e]={}:d[e]=a}
function t(b){var a=typeof b;if("object"==a)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return a;var c=Object.prototype.toString.call(b);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==a&&"undefined"==typeof b.call)return"object";return a}var ca="closure_uid_"+(1E9*Math.random()>>>0),da=0;function ea(b,a,c){return b.call.apply(b.bind,arguments)}function fa(b,a,c){if(!b)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return b.apply(a,c)}}return function(){return b.apply(a,arguments)}}
function ga(b,a,c){ga=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa;return ga.apply(null,arguments)};function ha(b,a){for(var c in b)a.call(void 0,b[c],c,b)};function ka(b,a){this.Y=[];this.gb=a;for(var c=!0,d=b.length-1;0<=d;d--){var e=b[d]|0;c&&e==a||(this.Y[d]=e,c=!1)}}var la={};function ma(b){if(-128<=b&&128>b){var a=la[b];if(a)return a}a=new ka([b|0],0>b?-1:0);-128<=b&&128>b&&(la[b]=a);return a}function oa(b){if(isNaN(b)||!isFinite(b))return pa;if(0>b)return oa(-b).xa();for(var a=[],c=1,d=0;b>=c;d++)a[d]=b/c|0,c*=qa;return new ka(a,0)}var qa=4294967296,pa=ma(0),ra=ma(1),sa=ma(16777216);k=ka.prototype;
k.ad=function(){return 0<this.Y.length?this.Y[0]:this.gb};k.Eb=function(){if(this.Fa())return-this.xa().Eb();for(var b=0,a=1,c=0;c<this.Y.length;c++)var d=ta(this,c),b=b+(0<=d?d:qa+d)*a,a=a*qa;return b};
k.toString=function(b){b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if(this.Ua())return"0";if(this.Fa())return"-"+this.xa().toString(b);for(var a=oa(Math.pow(b,6)),c=this,d="";;){var e=va(c,a),f=(c.cc(e.multiply(a)).ad()>>>0).toString(b),c=e;if(c.Ua())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};function ta(b,a){return 0>a?0:a<b.Y.length?b.Y[a]:b.gb}k.Ua=function(){if(0!=this.gb)return!1;for(var b=0;b<this.Y.length;b++)if(0!=this.Y[b])return!1;return!0};k.Fa=function(){return-1==this.gb};
k.Qc=function(b){return 0<this.compare(b)};k.Rc=function(b){return 0<=this.compare(b)};k.qc=function(){return 0>this.compare(sa)};k.rc=function(b){return 0>=this.compare(b)};k.compare=function(b){b=this.cc(b);return b.Fa()?-1:b.Ua()?0:1};k.xa=function(){return this.Xc().add(ra)};
k.add=function(b){for(var a=Math.max(this.Y.length,b.Y.length),c=[],d=0,e=0;e<=a;e++){var f=d+(ta(this,e)&65535)+(ta(b,e)&65535),g=(f>>>16)+(ta(this,e)>>>16)+(ta(b,e)>>>16),d=g>>>16,f=f&65535,g=g&65535;c[e]=g<<16|f}return new ka(c,c[c.length-1]&-2147483648?-1:0)};k.cc=function(b){return this.add(b.xa())};
k.multiply=function(b){if(this.Ua()||b.Ua())return pa;if(this.Fa())return b.Fa()?this.xa().multiply(b.xa()):this.xa().multiply(b).xa();if(b.Fa())return this.multiply(b.xa()).xa();if(this.qc()&&b.qc())return oa(this.Eb()*b.Eb());for(var a=this.Y.length+b.Y.length,c=[],d=0;d<2*a;d++)c[d]=0;for(d=0;d<this.Y.length;d++)for(var e=0;e<b.Y.length;e++){var f=ta(this,d)>>>16,g=ta(this,d)&65535,h=ta(b,e)>>>16,l=ta(b,e)&65535;c[2*d+2*e]+=g*l;wa(c,2*d+2*e);c[2*d+2*e+1]+=f*l;wa(c,2*d+2*e+1);c[2*d+2*e+1]+=g*h;
wa(c,2*d+2*e+1);c[2*d+2*e+2]+=f*h;wa(c,2*d+2*e+2)}for(d=0;d<a;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=a;d<2*a;d++)c[d]=0;return new ka(c,0)};function wa(b,a){for(;(b[a]&65535)!=b[a];)b[a+1]+=b[a]>>>16,b[a]&=65535}
function va(b,a){if(a.Ua())throw Error("division by zero");if(b.Ua())return pa;if(b.Fa())return a.Fa()?va(b.xa(),a.xa()):va(b.xa(),a).xa();if(a.Fa())return va(b,a.xa()).xa();if(30<b.Y.length){if(b.Fa()||a.Fa())throw Error("slowDivide_ only works with positive integers.");for(var c=ra,d=a;d.rc(b);)c=c.shiftLeft(1),d=d.shiftLeft(1);for(var e=c.pb(1),f=d.pb(1),g,d=d.pb(2),c=c.pb(2);!d.Ua();)g=f.add(d),g.rc(b)&&(e=e.add(c),f=g),d=d.pb(1),c=c.pb(1);return e}c=pa;for(d=b;d.Rc(a);){e=Math.max(1,Math.floor(d.Eb()/
a.Eb()));f=Math.ceil(Math.log(e)/Math.LN2);f=48>=f?1:Math.pow(2,f-48);g=oa(e);for(var h=g.multiply(a);h.Fa()||h.Qc(d);)e-=f,g=oa(e),h=g.multiply(a);g.Ua()&&(g=ra);c=c.add(g);d=d.cc(h)}return c}k.Xc=function(){for(var b=this.Y.length,a=[],c=0;c<b;c++)a[c]=~this.Y[c];return new ka(a,~this.gb)};k.shiftLeft=function(b){var a=b>>5;b%=32;for(var c=this.Y.length+a+(0<b?1:0),d=[],e=0;e<c;e++)d[e]=0<b?ta(this,e-a)<<b|ta(this,e-a-1)>>>32-b:ta(this,e-a);return new ka(d,this.gb)};
k.pb=function(b){var a=b>>5;b%=32;for(var c=this.Y.length-a,d=[],e=0;e<c;e++)d[e]=0<b?ta(this,e+a)>>>b|ta(this,e+a+1)<<32-b:ta(this,e+a);return new ka(d,this.gb)};function xa(b,a){null!=b&&this.append.apply(this,arguments)}k=xa.prototype;k.ab="";k.set=function(b){this.ab=""+b};k.append=function(b,a,c){this.ab+=String(b);if(null!=a)for(var d=1;d<arguments.length;d++)this.ab+=arguments[d];return this};k.clear=function(){this.ab=""};k.toString=function(){return this.ab};var ya;if("undefined"===typeof Aa)var Aa=function(){throw Error("No *print-fn* fn set for evaluation environment");};if("undefined"===typeof Ba)var Ba=function(){throw Error("No *print-err-fn* fn set for evaluation environment");};var Ea=null;if("undefined"===typeof Fa)var Fa=null;function Ga(){return new Ha(null,5,[Ia,!0,Ja,!0,Ka,!1,La,!1,Ma,null],null)}function w(b){return null!=b&&!1!==b}function Na(b){return b instanceof Array}function Oa(b){return null==b?!0:!1===b?!0:!1}
function Qa(b,a){return b[t(null==a?null:a)]?!0:b._?!0:!1}function Ra(b,a){var c=null==a?null:a.constructor,c=w(w(c)?c.xb:c)?c.bb:t(a);return Error(["No protocol method ",b," defined for type ",c,": ",a].join(""))}function Sa(b){var a=b.bb;return w(a)?a:""+x(b)}var Ta="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ua(b){for(var a=b.length,c=Array(a),d=0;;)if(d<a)c[d]=b[d],d+=1;else break;return c}function Va(){}
var Wa=function Wa(a){if(null!=a&&null!=a.U)return a.U(a);var c=Wa[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Wa._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("ICounted.-count",a);},Xa=function Xa(a){if(null!=a&&null!=a.W)return a.W(a);var c=Xa[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Xa._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IEmptyableCollection.-empty",a);};function Za(){}
var $a=function $a(a,c){if(null!=a&&null!=a.T)return a.T(a,c);var d=$a[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=$a._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("ICollection.-conj",a);};function ab(){}
var bb=function bb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return bb.a(arguments[0],arguments[1]);case 3:return bb.c(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};
bb.a=function(b,a){if(null!=b&&null!=b.P)return b.P(b,a);var c=bb[t(null==b?null:b)];if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);c=bb._;if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);throw Ra("IIndexed.-nth",b);};bb.c=function(b,a,c){if(null!=b&&null!=b.za)return b.za(b,a,c);var d=bb[t(null==b?null:b)];if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);d=bb._;if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);throw Ra("IIndexed.-nth",b);};bb.F=3;
var cb=function cb(a){if(null!=a&&null!=a.pa)return a.pa(a);var c=cb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=cb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("ISeq.-first",a);},eb=function eb(a){if(null!=a&&null!=a.wa)return a.wa(a);var c=eb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=eb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("ISeq.-rest",a);};function fb(){}function gb(){}
var hb=function hb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return hb.a(arguments[0],arguments[1]);case 3:return hb.c(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};
hb.a=function(b,a){if(null!=b&&null!=b.R)return b.R(b,a);var c=hb[t(null==b?null:b)];if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);c=hb._;if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);throw Ra("ILookup.-lookup",b);};hb.c=function(b,a,c){if(null!=b&&null!=b.L)return b.L(b,a,c);var d=hb[t(null==b?null:b)];if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);d=hb._;if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);throw Ra("ILookup.-lookup",b);};hb.F=3;
var ib=function ib(a,c){if(null!=a&&null!=a.Ob)return a.Ob(a,c);var d=ib[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=ib._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("IAssociative.-contains-key?",a);},jb=function jb(a,c,d){if(null!=a&&null!=a.jb)return a.jb(a,c,d);var e=jb[t(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=jb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Ra("IAssociative.-assoc",a);};function lb(){}
var mb=function mb(a,c){if(null!=a&&null!=a.Gb)return a.Gb(a,c);var d=mb[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=mb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("IMap.-dissoc",a);};function nb(){}
var ob=function ob(a){if(null!=a&&null!=a.Ub)return a.Ub();var c=ob[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=ob._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IMapEntry.-key",a);},pb=function pb(a){if(null!=a&&null!=a.Vb)return a.Vb();var c=pb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=pb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IMapEntry.-val",a);};function qb(){}function rb(){}
var sb=function sb(a,c,d){if(null!=a&&null!=a.Wb)return a.Wb(a,c,d);var e=sb[t(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=sb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Ra("IVector.-assoc-n",a);},tb=function tb(a){if(null!=a&&null!=a.Sb)return a.Sb(a);var c=tb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=tb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IDeref.-deref",a);};function ub(){}
var vb=function vb(a){if(null!=a&&null!=a.K)return a.K(a);var c=vb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=vb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IMeta.-meta",a);},xb=function xb(a,c){if(null!=a&&null!=a.M)return a.M(a,c);var d=xb[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=xb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("IWithMeta.-with-meta",a);};function yb(){}
var zb=function zb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return zb.a(arguments[0],arguments[1]);case 3:return zb.c(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};
zb.a=function(b,a){if(null!=b&&null!=b.na)return b.na(b,a);var c=zb[t(null==b?null:b)];if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);c=zb._;if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);throw Ra("IReduce.-reduce",b);};zb.c=function(b,a,c){if(null!=b&&null!=b.oa)return b.oa(b,a,c);var d=zb[t(null==b?null:b)];if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);d=zb._;if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);throw Ra("IReduce.-reduce",b);};zb.F=3;
var Ab=function Ab(a,c){if(null!=a&&null!=a.v)return a.v(a,c);var d=Ab[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Ab._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("IEquiv.-equiv",a);},Bb=function Bb(a){if(null!=a&&null!=a.O)return a.O(a);var c=Bb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Bb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IHash.-hash",a);};function Cb(){}
var Db=function Db(a){if(null!=a&&null!=a.V)return a.V(a);var c=Db[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Db._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("ISeqable.-seq",a);};function Eb(){}function Fb(){}function Gb(){}
var Hb=function Hb(a){if(null!=a&&null!=a.Ib)return a.Ib(a);var c=Hb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Hb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IReversible.-rseq",a);},Ib=function Ib(a,c){if(null!=a&&null!=a.kc)return a.kc(0,c);var d=Ib[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Ib._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("IWriter.-write",a);},Jb=function Jb(a,c,d){if(null!=a&&null!=a.jc)return a.jc(0,c,d);
var e=Jb[t(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=Jb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Ra("IWatchable.-notify-watches",a);},Kb=function Kb(a){if(null!=a&&null!=a.kb)return a.kb(a);var c=Kb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Kb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IEditableCollection.-as-transient",a);},Lb=function Lb(a,c){if(null!=a&&null!=a.vb)return a.vb(a,c);var d=Lb[t(null==a?null:a)];if(null!=
d)return d.a?d.a(a,c):d.call(null,a,c);d=Lb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("ITransientCollection.-conj!",a);},Mb=function Mb(a){if(null!=a&&null!=a.wb)return a.wb(a);var c=Mb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Mb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("ITransientCollection.-persistent!",a);},Nb=function Nb(a,c,d){if(null!=a&&null!=a.ub)return a.ub(a,c,d);var e=Nb[t(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,
a,c,d);e=Nb._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Ra("ITransientAssociative.-assoc!",a);},Ob=function Ob(a,c,d){if(null!=a&&null!=a.ic)return a.ic(0,c,d);var e=Ob[t(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=Ob._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Ra("ITransientVector.-assoc-n!",a);},Pb=function Pb(a){if(null!=a&&null!=a.gc)return a.gc();var c=Pb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Pb._;if(null!=
c)return c.b?c.b(a):c.call(null,a);throw Ra("IChunk.-drop-first",a);},Qb=function Qb(a){if(null!=a&&null!=a.Qb)return a.Qb(a);var c=Qb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Qb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IChunkedSeq.-chunked-first",a);},Rb=function Rb(a){if(null!=a&&null!=a.Rb)return a.Rb(a);var c=Rb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Rb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IChunkedSeq.-chunked-rest",
a);},Sb=function Sb(a){if(null!=a&&null!=a.Pb)return a.Pb(a);var c=Sb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Sb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IChunkedNext.-chunked-next",a);},Tb=function Tb(a){if(null!=a&&null!=a.sb)return a.sb(a);var c=Tb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Tb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("INamed.-name",a);},Ub=function Ub(a){if(null!=a&&null!=a.tb)return a.tb(a);var c=Ub[t(null==
a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Ub._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("INamed.-namespace",a);},Vb=function Vb(a,c){if(null!=a&&null!=a.Gc)return a.Gc(a,c);var d=Vb[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=Vb._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("IReset.-reset!",a);},Wb=function Wb(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Wb.a(arguments[0],
arguments[1]);case 3:return Wb.c(arguments[0],arguments[1],arguments[2]);case 4:return Wb.w(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Wb.I(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};
Wb.a=function(b,a){if(null!=b&&null!=b.Ic)return b.Ic(b,a);var c=Wb[t(null==b?null:b)];if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);c=Wb._;if(null!=c)return c.a?c.a(b,a):c.call(null,b,a);throw Ra("ISwap.-swap!",b);};Wb.c=function(b,a,c){if(null!=b&&null!=b.Jc)return b.Jc(b,a,c);var d=Wb[t(null==b?null:b)];if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);d=Wb._;if(null!=d)return d.c?d.c(b,a,c):d.call(null,b,a,c);throw Ra("ISwap.-swap!",b);};
Wb.w=function(b,a,c,d){if(null!=b&&null!=b.Kc)return b.Kc(b,a,c,d);var e=Wb[t(null==b?null:b)];if(null!=e)return e.w?e.w(b,a,c,d):e.call(null,b,a,c,d);e=Wb._;if(null!=e)return e.w?e.w(b,a,c,d):e.call(null,b,a,c,d);throw Ra("ISwap.-swap!",b);};Wb.I=function(b,a,c,d,e){if(null!=b&&null!=b.Lc)return b.Lc(b,a,c,d,e);var f=Wb[t(null==b?null:b)];if(null!=f)return f.I?f.I(b,a,c,d,e):f.call(null,b,a,c,d,e);f=Wb._;if(null!=f)return f.I?f.I(b,a,c,d,e):f.call(null,b,a,c,d,e);throw Ra("ISwap.-swap!",b);};
Wb.F=5;var Xb=function Xb(a){if(null!=a&&null!=a.Ga)return a.Ga(a);var c=Xb[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Xb._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IIterable.-iterator",a);};function Yb(b){this.$c=b;this.i=1073741824;this.A=0}Yb.prototype.kc=function(b,a){return this.$c.append(a)};function Zb(b){var a=new xa;b.S(null,new Yb(a),Ga());return""+x(a)}
var $b="undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(b,a){return Math.imul(b,a)}:function(b,a){var c=b&65535,d=a&65535;return c*d+((b>>>16&65535)*d+c*(a>>>16&65535)<<16>>>0)|0};function ac(b){b=$b(b|0,-862048943);return $b(b<<15|b>>>-15,461845907)}function bc(b,a){var c=(b|0)^(a|0);return $b(c<<13|c>>>-13,5)+-430675100|0}function cc(b,a){var c=(b|0)^a,c=$b(c^c>>>16,-2048144789),c=$b(c^c>>>13,-1028477387);return c^c>>>16}
function dc(b){var a;a:{a=1;for(var c=0;;)if(a<b.length){var d=a+2,c=bc(c,ac(b.charCodeAt(a-1)|b.charCodeAt(a)<<16));a=d}else{a=c;break a}}a=1===(b.length&1)?a^ac(b.charCodeAt(b.length-1)):a;return cc(a,$b(2,b.length))}var ec={},fc=0;function gc(b){255<fc&&(ec={},fc=0);if(null==b)return 0;var a=ec[b];if("number"!==typeof a){a:if(null!=b)if(a=b.length,0<a)for(var c=0,d=0;;)if(c<a)var e=c+1,d=$b(31,d)+b.charCodeAt(c),c=e;else{a=d;break a}else a=0;else a=0;ec[b]=a;fc+=1}return b=a}
function hc(b){if(null!=b&&(b.i&4194304||b.fd))return b.O(null);if("number"===typeof b){if(w(isFinite(b)))return Math.floor(b)%2147483647;switch(b){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===b?b=1:!1===b?b=0:"string"===typeof b?(b=gc(b),0!==b&&(b=ac(b),b=bc(0,b),b=cc(b,4))):b=b instanceof Date?b.valueOf():null==b?0:Bb(b),b}function ic(b,a){return b^a+2654435769+(b<<6)+(b>>2)}
function jc(b,a,c,d,e){this.ob=b;this.name=a;this.$a=c;this.ib=d;this.va=e;this.i=2154168321;this.A=4096}k=jc.prototype;k.toString=function(){return this.$a};k.equiv=function(b){return this.v(null,b)};k.v=function(b,a){return a instanceof jc?this.$a===a.$a:!1};
k.call=function(){function b(a,b,c){return B.c?B.c(b,this,c):B.call(null,b,this,c)}function a(a,b){return B.a?B.a(b,this):B.call(null,b,this)}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.a=a;c.c=b;return c}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return B.a?B.a(b,this):B.call(null,b,this)};
k.a=function(b,a){return B.c?B.c(b,this,a):B.call(null,b,this,a)};k.K=function(){return this.va};k.M=function(b,a){return new jc(this.ob,this.name,this.$a,this.ib,a)};k.O=function(){var b=this.ib;return null!=b?b:this.ib=b=ic(dc(this.name),gc(this.ob))};k.sb=function(){return this.name};k.tb=function(){return this.ob};k.S=function(b,a){return Ib(a,this.$a)};
var kc=function kc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return kc.b(arguments[0]);case 2:return kc.a(arguments[0],arguments[1]);default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};kc.b=function(b){if(b instanceof jc)return b;var a=b.indexOf("/");return 1>a?kc.a(null,b):kc.a(b.substring(0,a),b.substring(a+1,b.length))};kc.a=function(b,a){var c=null!=b?[x(b),x("/"),x(a)].join(""):a;return new jc(b,a,c,null,null)};
kc.F=2;function C(b){if(null==b)return null;if(null!=b&&(b.i&8388608||b.Hc))return b.V(null);if(Na(b)||"string"===typeof b)return 0===b.length?null:new lc(b,0,null);if(Qa(Cb,b))return Db(b);throw Error([x(b),x(" is not ISeqable")].join(""));}function D(b){if(null==b)return null;if(null!=b&&(b.i&64||b.Ca))return b.pa(null);b=C(b);return null==b?null:cb(b)}function nc(b){return null!=b?null!=b&&(b.i&64||b.Ca)?b.wa(null):(b=C(b))?eb(b):oc:oc}
function E(b){return null==b?null:null!=b&&(b.i&128||b.Hb)?b.sa(null):C(nc(b))}var pc=function pc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return pc.b(arguments[0]);case 2:return pc.a(arguments[0],arguments[1]);default:return pc.s(arguments[0],arguments[1],new lc(c.slice(2),0,null))}};pc.b=function(){return!0};pc.a=function(b,a){return null==b?null==a:b===a||Ab(b,a)};
pc.s=function(b,a,c){for(;;)if(pc.a(b,a))if(E(c))b=a,a=D(c),c=E(c);else return pc.a(a,D(c));else return!1};pc.G=function(b){var a=D(b),c=E(b);b=D(c);c=E(c);return pc.s(a,b,c)};pc.F=2;function qc(b){this.B=b}qc.prototype.next=function(){if(null!=this.B){var b=D(this.B);this.B=E(this.B);return{value:b,done:!1}}return{value:null,done:!0}};function rc(b){return new qc(C(b))}function sc(b,a){var c=ac(b),c=bc(0,c);return cc(c,a)}
function tc(b){var a=0,c=1;for(b=C(b);;)if(null!=b)a+=1,c=$b(31,c)+hc(D(b))|0,b=E(b);else return sc(c,a)}var uc=sc(1,0);function vc(b){var a=0,c=0;for(b=C(b);;)if(null!=b)a+=1,c=c+hc(D(b))|0,b=E(b);else return sc(c,a)}var wc=sc(0,0);Va["null"]=!0;Wa["null"]=function(){return 0};Date.prototype.v=function(b,a){return a instanceof Date&&this.valueOf()===a.valueOf()};Ab.number=function(b,a){return b===a};ub["function"]=!0;vb["function"]=function(){return null};Bb._=function(b){return b[ca]||(b[ca]=++da)};
function xc(){return!1}function G(b){return tb(b)}function yc(b,a){var c=Wa(b);if(0===c)return a.m?a.m():a.call(null);for(var d=bb.a(b,0),e=1;;)if(e<c)var f=bb.a(b,e),d=a.a?a.a(d,f):a.call(null,d,f),e=e+1;else return d}function zc(b,a,c){var d=Wa(b),e=c;for(c=0;;)if(c<d){var f=bb.a(b,c),e=a.a?a.a(e,f):a.call(null,e,f);c+=1}else return e}
function Ac(b,a){var c=b.length;if(0===b.length)return a.m?a.m():a.call(null);for(var d=b[0],e=1;;)if(e<c)var f=b[e],d=a.a?a.a(d,f):a.call(null,d,f),e=e+1;else return d}function Bc(b,a,c){var d=b.length,e=c;for(c=0;;)if(c<d){var f=b[c],e=a.a?a.a(e,f):a.call(null,e,f);c+=1}else return e}function Cc(b,a,c,d){for(var e=b.length;;)if(d<e){var f=b[d];c=a.a?a.a(c,f):a.call(null,c,f);d+=1}else return c}function Dc(b){return null!=b?b.i&2||b.wc?!0:b.i?!1:Qa(Va,b):Qa(Va,b)}
function Ec(b){return null!=b?b.i&16||b.hc?!0:b.i?!1:Qa(ab,b):Qa(ab,b)}function H(b,a,c){var d=I.b?I.b(b):I.call(null,b);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(pc.a(Fc?Fc(b,c):Gc.call(null,b,c),a))return c;c+=1}else return-1}function Hc(b,a,c){var d=I.b?I.b(b):I.call(null,b);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(pc.a(Fc?Fc(b,c):Gc.call(null,b,c),a))return c;--c}else return-1}function Ic(b,a){this.f=b;this.j=a}
Ic.prototype.qa=function(){return this.j<this.f.length};Ic.prototype.next=function(){var b=this.f[this.j];this.j+=1;return b};function lc(b,a,c){this.f=b;this.j=a;this.o=c;this.i=166592766;this.A=8192}k=lc.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I.b?I.b(this):I.call(null,this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.P=function(b,a){var c=a+this.j;return c<this.f.length?this.f[c]:null};k.za=function(b,a,c){b=a+this.j;return b<this.f.length?this.f[b]:c};k.Ga=function(){return new Ic(this.f,this.j)};k.K=function(){return this.o};
k.sa=function(){return this.j+1<this.f.length?new lc(this.f,this.j+1,null):null};k.U=function(){var b=this.f.length-this.j;return 0>b?0:b};k.Ib=function(){var b=Wa(this);return 0<b?new Jc(this,b-1,null):null};k.O=function(){return tc(this)};k.v=function(b,a){return Lc.a?Lc.a(this,a):Lc.call(null,this,a)};k.W=function(){return oc};k.na=function(b,a){return Cc(this.f,a,this.f[this.j],this.j+1)};k.oa=function(b,a,c){return Cc(this.f,a,c,this.j)};k.pa=function(){return this.f[this.j]};
k.wa=function(){return this.j+1<this.f.length?new lc(this.f,this.j+1,null):oc};k.V=function(){return this.j<this.f.length?this:null};k.M=function(b,a){return new lc(this.f,this.j,a)};k.T=function(b,a){return Mc.a?Mc.a(a,this):Mc.call(null,a,this)};lc.prototype[Ta]=function(){return rc(this)};function Oc(b,a){return a<b.length?new lc(b,a,null):null}
function Pc(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Oc(arguments[0],0);case 2:return Oc(arguments[0],arguments[1]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}function Jc(b,a,c){this.Fb=b;this.j=a;this.o=c;this.i=32374990;this.A=8192}k=Jc.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I.b?I.b(this):I.call(null,this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.sa=function(){return 0<this.j?new Jc(this.Fb,this.j-1,null):null};k.U=function(){return this.j+1};k.O=function(){return tc(this)};
k.v=function(b,a){return Lc.a?Lc.a(this,a):Lc.call(null,this,a)};k.W=function(){var b=this.o;return Qc.a?Qc.a(oc,b):Qc.call(null,oc,b)};k.na=function(b,a){return Rc?Rc(a,this):Sc.call(null,a,this)};k.oa=function(b,a,c){return Tc?Tc(a,c,this):Sc.call(null,a,c,this)};k.pa=function(){return bb.a(this.Fb,this.j)};k.wa=function(){return 0<this.j?new Jc(this.Fb,this.j-1,null):oc};k.V=function(){return this};k.M=function(b,a){return new Jc(this.Fb,this.j,a)};
k.T=function(b,a){return Mc.a?Mc.a(a,this):Mc.call(null,a,this)};Jc.prototype[Ta]=function(){return rc(this)};function Uc(b){for(;;){var a=E(b);if(null!=a)b=a;else return D(b)}}Ab._=function(b,a){return b===a};var Vc=function Vc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Vc.m();case 1:return Vc.b(arguments[0]);case 2:return Vc.a(arguments[0],arguments[1]);default:return Vc.s(arguments[0],arguments[1],new lc(c.slice(2),0,null))}};
Vc.m=function(){return Wc};Vc.b=function(b){return b};Vc.a=function(b,a){return null!=b?$a(b,a):$a(oc,a)};Vc.s=function(b,a,c){for(;;)if(w(c))b=Vc.a(b,a),a=D(c),c=E(c);else return Vc.a(b,a)};Vc.G=function(b){var a=D(b),c=E(b);b=D(c);c=E(c);return Vc.s(a,b,c)};Vc.F=2;
function I(b){if(null!=b)if(null!=b&&(b.i&2||b.wc))b=b.U(null);else if(Na(b))b=b.length;else if("string"===typeof b)b=b.length;else if(null!=b&&(b.i&8388608||b.Hc))a:{b=C(b);for(var a=0;;){if(Dc(b)){b=a+Wa(b);break a}b=E(b);a+=1}}else b=Wa(b);else b=0;return b}function Xc(b,a,c){for(;;){if(null==b)return c;if(0===a)return C(b)?D(b):c;if(Ec(b))return bb.c(b,a,c);if(C(b))b=E(b),--a;else return c}}
function Gc(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Fc(arguments[0],arguments[1]);case 3:return J(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}
function Fc(b,a){if("number"!==typeof a)throw Error("index argument to nth must be a number");if(null==b)return b;if(null!=b&&(b.i&16||b.hc))return b.P(null,a);if(Na(b))return a<b.length?b[a]:null;if("string"===typeof b)return a<b.length?b.charAt(a):null;if(null!=b&&(b.i&64||b.Ca)){var c;a:{c=b;for(var d=a;;){if(null==c)throw Error("Index out of bounds");if(0===d){if(C(c)){c=D(c);break a}throw Error("Index out of bounds");}if(Ec(c)){c=bb.a(c,d);break a}if(C(c))c=E(c),--d;else throw Error("Index out of bounds");
}}return c}if(Qa(ab,b))return bb.a(b,a);throw Error([x("nth not supported on this type "),x(Sa(null==b?null:b.constructor))].join(""));}
function J(b,a,c){if("number"!==typeof a)throw Error("index argument to nth must be a number.");if(null==b)return c;if(null!=b&&(b.i&16||b.hc))return b.za(null,a,c);if(Na(b))return a<b.length?b[a]:c;if("string"===typeof b)return a<b.length?b.charAt(a):c;if(null!=b&&(b.i&64||b.Ca))return Xc(b,a,c);if(Qa(ab,b))return bb.a(b,a);throw Error([x("nth not supported on this type "),x(Sa(null==b?null:b.constructor))].join(""));}
var B=function B(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return B.a(arguments[0],arguments[1]);case 3:return B.c(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};B.a=function(b,a){return null==b?null:null!=b&&(b.i&256||b.Ac)?b.R(null,a):Na(b)?a<b.length?b[a|0]:null:"string"===typeof b?a<b.length?b[a|0]:null:Qa(gb,b)?hb.a(b,a):null};
B.c=function(b,a,c){return null!=b?null!=b&&(b.i&256||b.Ac)?b.L(null,a,c):Na(b)?a<b.length?b[a]:c:"string"===typeof b?a<b.length?b[a]:c:Qa(gb,b)?hb.c(b,a,c):c:c};B.F=3;var Yc=function Yc(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return Yc.c(arguments[0],arguments[1],arguments[2]);default:return Yc.s(arguments[0],arguments[1],arguments[2],new lc(c.slice(3),0,null))}};Yc.c=function(b,a,c){return null!=b?jb(b,a,c):Zc([a],[c])};
Yc.s=function(b,a,c,d){for(;;)if(b=Yc.c(b,a,c),w(d))a=D(d),c=D(E(d)),d=E(E(d));else return b};Yc.G=function(b){var a=D(b),c=E(b);b=D(c);var d=E(c),c=D(d),d=E(d);return Yc.s(a,b,c,d)};Yc.F=3;var $c=function $c(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return $c.b(arguments[0]);case 2:return $c.a(arguments[0],arguments[1]);default:return $c.s(arguments[0],arguments[1],new lc(c.slice(2),0,null))}};$c.b=function(b){return b};
$c.a=function(b,a){return null==b?null:mb(b,a)};$c.s=function(b,a,c){for(;;){if(null==b)return null;b=$c.a(b,a);if(w(c))a=D(c),c=E(c);else return b}};$c.G=function(b){var a=D(b),c=E(b);b=D(c);c=E(c);return $c.s(a,b,c)};$c.F=2;function ad(b,a){this.g=b;this.o=a;this.i=393217;this.A=0}k=ad.prototype;k.K=function(){return this.o};k.M=function(b,a){return new ad(this.g,a)};
k.call=function(){function b(a,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,F,N,Z){a=this;return bd.rb?bd.rb(a.g,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,F,N,Z):bd.call(null,a.g,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,F,N,Z)}function a(a,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,F,N){a=this;return a.g.ia?a.g.ia(b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,F,N):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,F,N)}function c(a,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,F){a=this;return a.g.ha?a.g.ha(b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,
F):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A,F)}function d(a,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A){a=this;return a.g.ga?a.g.ga(b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z,A)}function e(a,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z){a=this;return a.g.fa?a.g.fa(b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y,z)}function f(a,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y){a=this;return a.g.ea?a.g.ea(b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y):a.g.call(null,
b,c,d,e,f,g,h,l,m,n,p,q,r,v,u,y)}function g(a,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u){a=this;return a.g.da?a.g.da(b,c,d,e,f,g,h,l,m,n,p,q,r,v,u):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p,q,r,v,u)}function h(a,b,c,d,e,f,g,h,l,m,n,p,q,r,v){a=this;return a.g.ca?a.g.ca(b,c,d,e,f,g,h,l,m,n,p,q,r,v):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p,q,r,v)}function l(a,b,c,d,e,f,g,h,l,m,n,p,q,r){a=this;return a.g.ba?a.g.ba(b,c,d,e,f,g,h,l,m,n,p,q,r):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p,q,r)}function m(a,b,c,d,e,f,g,h,l,m,n,p,q){a=this;
return a.g.aa?a.g.aa(b,c,d,e,f,g,h,l,m,n,p,q):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p,q)}function n(a,b,c,d,e,f,g,h,l,m,n,p){a=this;return a.g.$?a.g.$(b,c,d,e,f,g,h,l,m,n,p):a.g.call(null,b,c,d,e,f,g,h,l,m,n,p)}function q(a,b,c,d,e,f,g,h,l,m,n){a=this;return a.g.Z?a.g.Z(b,c,d,e,f,g,h,l,m,n):a.g.call(null,b,c,d,e,f,g,h,l,m,n)}function p(a,b,c,d,e,f,g,h,l,m){a=this;return a.g.ma?a.g.ma(b,c,d,e,f,g,h,l,m):a.g.call(null,b,c,d,e,f,g,h,l,m)}function r(a,b,c,d,e,f,g,h,l){a=this;return a.g.la?a.g.la(b,c,d,e,
f,g,h,l):a.g.call(null,b,c,d,e,f,g,h,l)}function v(a,b,c,d,e,f,g,h){a=this;return a.g.ka?a.g.ka(b,c,d,e,f,g,h):a.g.call(null,b,c,d,e,f,g,h)}function u(a,b,c,d,e,f,g){a=this;return a.g.ja?a.g.ja(b,c,d,e,f,g):a.g.call(null,b,c,d,e,f,g)}function y(a,b,c,d,e,f){a=this;return a.g.I?a.g.I(b,c,d,e,f):a.g.call(null,b,c,d,e,f)}function A(a,b,c,d,e){a=this;return a.g.w?a.g.w(b,c,d,e):a.g.call(null,b,c,d,e)}function F(a,b,c,d){a=this;return a.g.c?a.g.c(b,c,d):a.g.call(null,b,c,d)}function N(a,b,c){a=this;return a.g.a?
a.g.a(b,c):a.g.call(null,b,c)}function Z(a,b){a=this;return a.g.b?a.g.b(b):a.g.call(null,b)}function ja(a){a=this;return a.g.m?a.g.m():a.g.call(null)}var z=null,z=function(ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa,Ya,db,kb,wb,mc,Nc,dd){switch(arguments.length){case 1:return ja.call(this,ia);case 2:return Z.call(this,ia,M);case 3:return N.call(this,ia,M,S);case 4:return F.call(this,ia,M,S,P);case 5:return A.call(this,ia,M,S,P,Y);case 6:return y.call(this,ia,M,S,P,Y,W);case 7:return u.call(this,ia,M,S,P,
Y,W,L);case 8:return v.call(this,ia,M,S,P,Y,W,L,Q);case 9:return r.call(this,ia,M,S,P,Y,W,L,Q,O);case 10:return p.call(this,ia,M,S,P,Y,W,L,Q,O,z);case 11:return q.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua);case 12:return n.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za);case 13:return m.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca);case 14:return l.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da);case 15:return h.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa);case 16:return g.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa,Ya);
case 17:return f.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa,Ya,db);case 18:return e.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa,Ya,db,kb);case 19:return d.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa,Ya,db,kb,wb);case 20:return c.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa,Ya,db,kb,wb,mc);case 21:return a.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa,Ya,db,kb,wb,mc,Nc);case 22:return b.call(this,ia,M,S,P,Y,W,L,Q,O,z,ua,za,Ca,Da,Pa,Ya,db,kb,wb,mc,Nc,dd)}throw Error("Invalid arity: "+arguments.length);
};z.b=ja;z.a=Z;z.c=N;z.w=F;z.I=A;z.ja=y;z.ka=u;z.la=v;z.ma=r;z.Z=p;z.$=q;z.aa=n;z.ba=m;z.ca=l;z.da=h;z.ea=g;z.fa=f;z.ga=e;z.ha=d;z.ia=c;z.Tb=a;z.rb=b;return z}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.m=function(){return this.g.m?this.g.m():this.g.call(null)};k.b=function(b){return this.g.b?this.g.b(b):this.g.call(null,b)};k.a=function(b,a){return this.g.a?this.g.a(b,a):this.g.call(null,b,a)};
k.c=function(b,a,c){return this.g.c?this.g.c(b,a,c):this.g.call(null,b,a,c)};k.w=function(b,a,c,d){return this.g.w?this.g.w(b,a,c,d):this.g.call(null,b,a,c,d)};k.I=function(b,a,c,d,e){return this.g.I?this.g.I(b,a,c,d,e):this.g.call(null,b,a,c,d,e)};k.ja=function(b,a,c,d,e,f){return this.g.ja?this.g.ja(b,a,c,d,e,f):this.g.call(null,b,a,c,d,e,f)};k.ka=function(b,a,c,d,e,f,g){return this.g.ka?this.g.ka(b,a,c,d,e,f,g):this.g.call(null,b,a,c,d,e,f,g)};
k.la=function(b,a,c,d,e,f,g,h){return this.g.la?this.g.la(b,a,c,d,e,f,g,h):this.g.call(null,b,a,c,d,e,f,g,h)};k.ma=function(b,a,c,d,e,f,g,h,l){return this.g.ma?this.g.ma(b,a,c,d,e,f,g,h,l):this.g.call(null,b,a,c,d,e,f,g,h,l)};k.Z=function(b,a,c,d,e,f,g,h,l,m){return this.g.Z?this.g.Z(b,a,c,d,e,f,g,h,l,m):this.g.call(null,b,a,c,d,e,f,g,h,l,m)};k.$=function(b,a,c,d,e,f,g,h,l,m,n){return this.g.$?this.g.$(b,a,c,d,e,f,g,h,l,m,n):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n)};
k.aa=function(b,a,c,d,e,f,g,h,l,m,n,q){return this.g.aa?this.g.aa(b,a,c,d,e,f,g,h,l,m,n,q):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q)};k.ba=function(b,a,c,d,e,f,g,h,l,m,n,q,p){return this.g.ba?this.g.ba(b,a,c,d,e,f,g,h,l,m,n,q,p):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p)};k.ca=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r){return this.g.ca?this.g.ca(b,a,c,d,e,f,g,h,l,m,n,q,p,r):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r)};
k.da=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v){return this.g.da?this.g.da(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v)};k.ea=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u){return this.g.ea?this.g.ea(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u)};k.fa=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y){return this.g.fa?this.g.fa(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y)};
k.ga=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A){return this.g.ga?this.g.ga(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A)};k.ha=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F){return this.g.ha?this.g.ha(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F)};
k.ia=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N){return this.g.ia?this.g.ia(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N):this.g.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N)};k.Tb=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z){return bd.rb?bd.rb(this.g,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z):bd.call(null,this.g,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z)};function Qc(b,a){return"function"==t(b)?new ad(b,a):null==b?null:xb(b,a)}
function cd(b){var a=null!=b;return(a?null!=b?b.i&131072||b.Dc||(b.i?0:Qa(ub,b)):Qa(ub,b):a)?vb(b):null}function ed(b){return null==b?!1:null!=b?b.i&4096||b.kd?!0:b.i?!1:Qa(qb,b):Qa(qb,b)}function fd(b){return null!=b?b.i&16777216||b.jd?!0:b.i?!1:Qa(Eb,b):Qa(Eb,b)}function gd(b){return null==b?!1:null!=b?b.i&1024||b.Bc?!0:b.i?!1:Qa(lb,b):Qa(lb,b)}function hd(b){return null!=b?b.i&16384||b.ld?!0:b.i?!1:Qa(rb,b):Qa(rb,b)}function id(b){return null!=b?b.A&512||b.dd?!0:!1:!1}
function jd(b){var a=[];ha(b,function(a,b){return function(a,c){return b.push(c)}}(b,a));return a}function kd(b,a,c,d,e){for(;0!==e;)c[d]=b[a],d+=1,--e,a+=1}var ld={};function md(b){return null==b?!1:!1===b?!1:!0}function nd(b,a){return B.c(b,a,ld)===ld?!1:!0}
function Sc(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Rc(arguments[0],arguments[1]);case 3:return Tc(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}function Rc(b,a){var c=C(a);if(c){var d=D(c),c=E(c);return od?od(b,d,c):pd.call(null,b,d,c)}return b.m?b.m():b.call(null)}
function Tc(b,a,c){for(c=C(c);;)if(c){var d=D(c);a=b.a?b.a(a,d):b.call(null,a,d);c=E(c)}else return a}function pd(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return qd(arguments[0],arguments[1]);case 3:return od(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}
function qd(b,a){return null!=a&&(a.i&524288||a.Fc)?a.na(null,b):Na(a)?Ac(a,b):"string"===typeof a?Ac(a,b):Qa(yb,a)?zb.a(a,b):Rc(b,a)}function od(b,a,c){return null!=c&&(c.i&524288||c.Fc)?c.oa(null,b,a):Na(c)?Bc(c,b,a):"string"===typeof c?Bc(c,b,a):Qa(yb,c)?zb.c(c,b,a):Tc(b,a,c)}function rd(b){return b}function sd(b,a,c,d){b=b.b?b.b(a):b.call(null,a);c=od(b,c,d);return b.b?b.b(c):b.call(null,c)}function td(b){b=(b-b%2)/2;return 0<=b?Math.floor(b):Math.ceil(b)}
function ud(b){b-=b>>1&1431655765;b=(b&858993459)+(b>>2&858993459);return 16843009*(b+(b>>4)&252645135)>>24}var x=function x(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return x.m();case 1:return x.b(arguments[0]);default:return x.s(arguments[0],new lc(c.slice(1),0,null))}};x.m=function(){return""};x.b=function(b){return null==b?"":""+b};x.s=function(b,a){for(var c=new xa(""+x(b)),d=a;;)if(w(d))c=c.append(""+x(D(d))),d=E(d);else return c.toString()};
x.G=function(b){var a=D(b);b=E(b);return x.s(a,b)};x.F=1;function Lc(b,a){var c;if(fd(a))if(Dc(b)&&Dc(a)&&I(b)!==I(a))c=!1;else a:{c=C(b);for(var d=C(a);;){if(null==c){c=null==d;break a}if(null!=d&&pc.a(D(c),D(d)))c=E(c),d=E(d);else{c=!1;break a}}}else c=null;return md(c)}function vd(b,a,c,d,e){this.o=b;this.first=a;this.Va=c;this.count=d;this.u=e;this.i=65937646;this.A=8192}k=vd.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,this.count)}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.sa=function(){return 1===this.count?null:this.Va};k.U=function(){return this.count};k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};k.v=function(b,a){return Lc(this,a)};
k.W=function(){return xb(oc,this.o)};k.na=function(b,a){return Rc(a,this)};k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){return this.first};k.wa=function(){return 1===this.count?oc:this.Va};k.V=function(){return this};k.M=function(b,a){return new vd(a,this.first,this.Va,this.count,this.u)};k.T=function(b,a){return new vd(this.o,a,this,this.count+1,null)};vd.prototype[Ta]=function(){return rc(this)};function wd(b){this.o=b;this.i=65937614;this.A=8192}k=wd.prototype;k.toString=function(){return Zb(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.sa=function(){return null};k.U=function(){return 0};k.O=function(){return uc};k.v=function(b,a){return(null!=a?a.i&33554432||a.gd||(a.i?0:Qa(Fb,a)):Qa(Fb,a))||fd(a)?null==C(a):!1};k.W=function(){return this};
k.na=function(b,a){return Rc(a,this)};k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){return null};k.wa=function(){return oc};k.V=function(){return null};k.M=function(b,a){return new wd(a)};k.T=function(b,a){return new vd(this.o,a,null,1,null)};var oc=new wd(null);wd.prototype[Ta]=function(){return rc(this)};function xd(b){return(null!=b?b.i&134217728||b.hd||(b.i?0:Qa(Gb,b)):Qa(Gb,b))?Hb(b):od(Vc,oc,b)}
function zd(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;a:{c=0<a.length?new lc(a.slice(0),0,null):null;if(c instanceof lc&&0===c.j)a=c.f;else b:for(a=[];;)if(null!=c)a.push(c.pa(null)),c=c.sa(null);else break b;for(var c=a.length,e=oc;;)if(0<c)d=c-1,e=e.T(null,a[c-1]),c=d;else break a}return e}function Ad(b,a,c,d){this.o=b;this.first=a;this.Va=c;this.u=d;this.i=65929452;this.A=8192}k=Ad.prototype;k.toString=function(){return Zb(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.sa=function(){return null==this.Va?null:C(this.Va)};k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.o)};
k.na=function(b,a){return Rc(a,this)};k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){return this.first};k.wa=function(){return null==this.Va?oc:this.Va};k.V=function(){return this};k.M=function(b,a){return new Ad(a,this.first,this.Va,this.u)};k.T=function(b,a){return new Ad(null,a,this,null)};Ad.prototype[Ta]=function(){return rc(this)};function Mc(b,a){var c=null==a;return(c?c:null!=a&&(a.i&64||a.Ca))?new Ad(null,b,a,null):new Ad(null,b,C(a),null)}
function K(b,a,c,d){this.ob=b;this.name=a;this.Ha=c;this.ib=d;this.i=2153775105;this.A=4096}k=K.prototype;k.toString=function(){return[x(":"),x(this.Ha)].join("")};k.equiv=function(b){return this.v(null,b)};k.v=function(b,a){return a instanceof K?this.Ha===a.Ha:!1};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return B.a(b,this);case 3:return B.c(b,this,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return B.a(b,this)};b.c=function(a,b,d){return B.c(b,this,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return B.a(b,this)};k.a=function(b,a){return B.c(b,this,a)};
k.O=function(){var b=this.ib;return null!=b?b:this.ib=b=ic(dc(this.name),gc(this.ob))+2654435769|0};k.sb=function(){return this.name};k.tb=function(){return this.ob};k.S=function(b,a){return Ib(a,[x(":"),x(this.Ha)].join(""))};function Bd(b,a){return b===a?!0:b instanceof K&&a instanceof K?b.Ha===a.Ha:!1}function Cd(b){if(null!=b&&(b.A&4096||b.Ec))return b.tb(null);throw Error([x("Doesn't support namespace: "),x(b)].join(""));}
var Dd=function Dd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Dd.b(arguments[0]);case 2:return Dd.a(arguments[0],arguments[1]);default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};Dd.b=function(b){if(b instanceof K)return b;if(b instanceof jc)return new K(Cd(b),Ed.b?Ed.b(b):Ed.call(null,b),b.$a,null);if("string"===typeof b){var a=b.split("/");return 2===a.length?new K(a[0],a[1],b,null):new K(null,a[0],b,null)}return null};
Dd.a=function(b,a){return new K(b,a,[x(w(b)?[x(b),x("/")].join(""):null),x(a)].join(""),null)};Dd.F=2;function Fd(b,a,c,d){this.o=b;this.mb=a;this.B=c;this.u=d;this.i=32374988;this.A=1}k=Fd.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};function Gd(b){null!=b.mb&&(b.B=b.mb.m?b.mb.m():b.mb.call(null),b.mb=null);return b.B}
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.sa=function(){Db(this);return null==this.B?null:E(this.B)};k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.o)};
k.na=function(b,a){return Rc(a,this)};k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){Db(this);return null==this.B?null:D(this.B)};k.wa=function(){Db(this);return null!=this.B?nc(this.B):oc};k.V=function(){Gd(this);if(null==this.B)return null;for(var b=this.B;;)if(b instanceof Fd)b=Gd(b);else return this.B=b,C(this.B)};k.M=function(b,a){return new Fd(a,this.mb,this.B,this.u)};k.T=function(b,a){return Mc(a,this)};Fd.prototype[Ta]=function(){return rc(this)};
function Hd(b,a){this.D=b;this.end=a;this.i=2;this.A=0}Hd.prototype.add=function(b){this.D[this.end]=b;return this.end+=1};Hd.prototype.ra=function(){var b=new Id(this.D,0,this.end);this.D=null;return b};Hd.prototype.U=function(){return this.end};function Jd(b){return new Hd(Array(b),0)}function Id(b,a,c){this.f=b;this.off=a;this.end=c;this.i=524306;this.A=0}k=Id.prototype;k.U=function(){return this.end-this.off};k.P=function(b,a){return this.f[this.off+a]};
k.za=function(b,a,c){return 0<=a&&a<this.end-this.off?this.f[this.off+a]:c};k.gc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Id(this.f,this.off+1,this.end)};k.na=function(b,a){return Cc(this.f,a,this.f[this.off],this.off+1)};k.oa=function(b,a,c){return Cc(this.f,a,c,this.off)};function Kd(b,a,c,d){this.ra=b;this.Pa=a;this.o=c;this.u=d;this.i=31850732;this.A=1536}k=Kd.prototype;k.toString=function(){return Zb(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.sa=function(){if(1<Wa(this.ra))return new Kd(Pb(this.ra),this.Pa,this.o,null);var b=Db(this.Pa);return null==b?null:b};k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};
k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.o)};k.pa=function(){return bb.a(this.ra,0)};k.wa=function(){return 1<Wa(this.ra)?new Kd(Pb(this.ra),this.Pa,this.o,null):null==this.Pa?oc:this.Pa};k.V=function(){return this};k.Qb=function(){return this.ra};k.Rb=function(){return null==this.Pa?oc:this.Pa};k.M=function(b,a){return new Kd(this.ra,this.Pa,a,this.u)};k.T=function(b,a){return Mc(a,this)};k.Pb=function(){return null==this.Pa?null:this.Pa};Kd.prototype[Ta]=function(){return rc(this)};
function Ld(b,a){return 0===Wa(b)?a:new Kd(b,a,null,null)}function Md(b,a){b.add(a)}function Nd(b){for(var a=[];;)if(C(b))a.push(D(b)),b=E(b);else return a}function Od(b,a){if(Dc(a))return I(a);for(var c=0,d=C(a);;)if(null!=d&&c<b)c+=1,d=E(d);else return c}
var Pd=function Pd(a){return null==a?null:null==E(a)?C(D(a)):Mc(D(a),Pd(E(a)))},Qd=function Qd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Qd.m();case 1:return Qd.b(arguments[0]);case 2:return Qd.a(arguments[0],arguments[1]);default:return Qd.s(arguments[0],arguments[1],new lc(c.slice(2),0,null))}};Qd.m=function(){return new Fd(null,function(){return null},null,null)};
Qd.b=function(b){return new Fd(null,function(){return b},null,null)};Qd.a=function(b,a){return new Fd(null,function(){var c=C(b);return c?id(c)?Ld(Qb(c),Qd.a(Rb(c),a)):Mc(D(c),Qd.a(nc(c),a)):a},null,null)};Qd.s=function(b,a,c){return function e(a,b){return new Fd(null,function(){var c=C(a);return c?id(c)?Ld(Qb(c),e(Rb(c),b)):Mc(D(c),e(nc(c),b)):w(b)?e(D(b),E(b)):null},null,null)}(Qd.a(b,a),c)};Qd.G=function(b){var a=D(b),c=E(b);b=D(c);c=E(c);return Qd.s(a,b,c)};Qd.F=2;
var Rd=function Rd(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Rd.m();case 1:return Rd.b(arguments[0]);case 2:return Rd.a(arguments[0],arguments[1]);default:return Rd.s(arguments[0],arguments[1],new lc(c.slice(2),0,null))}};Rd.m=function(){return Kb(Wc)};Rd.b=function(b){return b};Rd.a=function(b,a){return Lb(b,a)};Rd.s=function(b,a,c){for(;;)if(b=Lb(b,a),w(c))a=D(c),c=E(c);else return b};
Rd.G=function(b){var a=D(b),c=E(b);b=D(c);c=E(c);return Rd.s(a,b,c)};Rd.F=2;
function Sd(b,a,c){var d=C(c);if(0===a)return b.m?b.m():b.call(null);c=cb(d);var e=eb(d);if(1===a)return b.b?b.b(c):b.b?b.b(c):b.call(null,c);var d=cb(e),f=eb(e);if(2===a)return b.a?b.a(c,d):b.a?b.a(c,d):b.call(null,c,d);var e=cb(f),g=eb(f);if(3===a)return b.c?b.c(c,d,e):b.c?b.c(c,d,e):b.call(null,c,d,e);var f=cb(g),h=eb(g);if(4===a)return b.w?b.w(c,d,e,f):b.w?b.w(c,d,e,f):b.call(null,c,d,e,f);var g=cb(h),l=eb(h);if(5===a)return b.I?b.I(c,d,e,f,g):b.I?b.I(c,d,e,f,g):b.call(null,c,d,e,f,g);var h=cb(l),
m=eb(l);if(6===a)return b.ja?b.ja(c,d,e,f,g,h):b.ja?b.ja(c,d,e,f,g,h):b.call(null,c,d,e,f,g,h);var l=cb(m),n=eb(m);if(7===a)return b.ka?b.ka(c,d,e,f,g,h,l):b.ka?b.ka(c,d,e,f,g,h,l):b.call(null,c,d,e,f,g,h,l);var m=cb(n),q=eb(n);if(8===a)return b.la?b.la(c,d,e,f,g,h,l,m):b.la?b.la(c,d,e,f,g,h,l,m):b.call(null,c,d,e,f,g,h,l,m);var n=cb(q),p=eb(q);if(9===a)return b.ma?b.ma(c,d,e,f,g,h,l,m,n):b.ma?b.ma(c,d,e,f,g,h,l,m,n):b.call(null,c,d,e,f,g,h,l,m,n);var q=cb(p),r=eb(p);if(10===a)return b.Z?b.Z(c,d,
e,f,g,h,l,m,n,q):b.Z?b.Z(c,d,e,f,g,h,l,m,n,q):b.call(null,c,d,e,f,g,h,l,m,n,q);var p=cb(r),v=eb(r);if(11===a)return b.$?b.$(c,d,e,f,g,h,l,m,n,q,p):b.$?b.$(c,d,e,f,g,h,l,m,n,q,p):b.call(null,c,d,e,f,g,h,l,m,n,q,p);var r=cb(v),u=eb(v);if(12===a)return b.aa?b.aa(c,d,e,f,g,h,l,m,n,q,p,r):b.aa?b.aa(c,d,e,f,g,h,l,m,n,q,p,r):b.call(null,c,d,e,f,g,h,l,m,n,q,p,r);var v=cb(u),y=eb(u);if(13===a)return b.ba?b.ba(c,d,e,f,g,h,l,m,n,q,p,r,v):b.ba?b.ba(c,d,e,f,g,h,l,m,n,q,p,r,v):b.call(null,c,d,e,f,g,h,l,m,n,q,p,
r,v);var u=cb(y),A=eb(y);if(14===a)return b.ca?b.ca(c,d,e,f,g,h,l,m,n,q,p,r,v,u):b.ca?b.ca(c,d,e,f,g,h,l,m,n,q,p,r,v,u):b.call(null,c,d,e,f,g,h,l,m,n,q,p,r,v,u);var y=cb(A),F=eb(A);if(15===a)return b.da?b.da(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y):b.da?b.da(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y):b.call(null,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y);var A=cb(F),N=eb(F);if(16===a)return b.ea?b.ea(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A):b.ea?b.ea(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A):b.call(null,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A);var F=cb(N),
Z=eb(N);if(17===a)return b.fa?b.fa(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F):b.fa?b.fa(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F):b.call(null,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F);var N=cb(Z),ja=eb(Z);if(18===a)return b.ga?b.ga(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N):b.ga?b.ga(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N):b.call(null,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N);Z=cb(ja);ja=eb(ja);if(19===a)return b.ha?b.ha(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z):b.ha?b.ha(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z):b.call(null,c,d,e,f,g,h,
l,m,n,q,p,r,v,u,y,A,F,N,Z);var z=cb(ja);eb(ja);if(20===a)return b.ia?b.ia(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z,z):b.ia?b.ia(c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z,z):b.call(null,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z,z);throw Error("Only up to 20 arguments supported on functions");}
function bd(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return Td(arguments[0],arguments[1]);case 3:return Ud(arguments[0],arguments[1],arguments[2]);case 4:a=arguments[0];c=Mc(arguments[1],Mc(arguments[2],arguments[3]));d=a.F;if(a.G)var e=Od(d+1,c),a=e<=d?Sd(a,e,c):a.G(c);else a=a.apply(a,Nd(c));return a;case 5:return Vd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:return Wd(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],new lc(a.slice(5),0,null))}}function Td(b,a){var c=b.F;if(b.G){var d=Od(c+1,a);return d<=c?Sd(b,d,a):b.G(a)}return b.apply(b,Nd(a))}function Ud(b,a,c){a=Mc(a,c);c=b.F;if(b.G){var d=Od(c+1,a);return d<=c?Sd(b,d,a):b.G(a)}return b.apply(b,Nd(a))}function Vd(b,a,c,d,e){a=Mc(a,Mc(c,Mc(d,e)));c=b.F;return b.G?(d=Od(c+1,a),d<=c?Sd(b,d,a):b.G(a)):b.apply(b,Nd(a))}
function Wd(b,a,c,d,e,f){a=Mc(a,Mc(c,Mc(d,Mc(e,Pd(f)))));c=b.F;return b.G?(d=Od(c+1,a),d<=c?Sd(b,d,a):b.G(a)):b.apply(b,Nd(a))}function Xd(b){return C(b)?b:null}
var Yd=function Yd(){"undefined"===typeof ya&&(ya=function(a,b){this.Wc=a;this.Sc=b;this.i=393216;this.A=0},ya.prototype.M=function(a,b){return new ya(this.Wc,b)},ya.prototype.K=function(){return this.Sc},ya.prototype.qa=function(){return!1},ya.prototype.next=function(){return Error("No such element")},ya.prototype.remove=function(){return Error("Unsupported operation")},ya.$b=function(){return new R(null,2,5,T,[Qc(Zd,new Ha(null,1,[$d,zd(be,zd(Wc))],null)),ce],null)},ya.xb=!0,ya.bb="cljs.core/t_cljs$core24389",
ya.Kb=function(a,b){return Ib(b,"cljs.core/t_cljs$core24389")});return new ya(Yd,de)};function ee(b,a){for(;;){if(null==C(a))return!0;var c;c=D(a);c=b.b?b.b(c):b.call(null,c);if(w(c)){c=b;var d=E(a);b=c;a=d}else return!1}}function fe(b){for(var a=rd;;)if(C(b)){var c;c=D(b);c=a.b?a.b(c):a.call(null,c);if(w(c))return c;b=E(b)}else return null}
function ge(){return function(){function b(a){if(0<arguments.length)for(var b=0,d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;return!1}b.F=0;b.G=function(a){C(a);return!1};b.s=function(){return!1};return b}()}
var he=function he(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return he.m();case 1:return he.b(arguments[0]);case 2:return he.a(arguments[0],arguments[1]);case 3:return he.c(arguments[0],arguments[1],arguments[2]);default:return he.s(arguments[0],arguments[1],arguments[2],new lc(c.slice(3),0,null))}};he.m=function(){return rd};he.b=function(b){return b};
he.a=function(b,a){return function(){function c(c,d,e){c=a.c?a.c(c,d,e):a.call(null,c,d,e);return b.b?b.b(c):b.call(null,c)}function d(c,d){var e=a.a?a.a(c,d):a.call(null,c,d);return b.b?b.b(e):b.call(null,e)}function e(c){c=a.b?a.b(c):a.call(null,c);return b.b?b.b(c):b.call(null,c)}function f(){var c=a.m?a.m():a.call(null);return b.b?b.b(c):b.call(null,c)}var g=null,h=function(){function c(a,b,e,f){var g=null;if(3<arguments.length){for(var g=0,h=Array(arguments.length-3);g<h.length;)h[g]=arguments[g+
3],++g;g=new lc(h,0)}return d.call(this,a,b,e,g)}function d(c,e,f,g){c=Vd(a,c,e,f,g);return b.b?b.b(c):b.call(null,c)}c.F=3;c.G=function(a){var b=D(a);a=E(a);var c=D(a);a=E(a);var e=D(a);a=nc(a);return d(b,c,e,a)};c.s=d;return c}(),g=function(a,b,g,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var p=null;if(3<arguments.length){for(var p=0,r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+
3],++p;p=new lc(r,0)}return h.s(a,b,g,p)}throw Error("Invalid arity: "+arguments.length);};g.F=3;g.G=h.G;g.m=f;g.b=e;g.a=d;g.c=c;g.s=h.s;return g}()};
he.c=function(b,a,c){return function(){function d(d,e,f){d=c.c?c.c(d,e,f):c.call(null,d,e,f);d=a.b?a.b(d):a.call(null,d);return b.b?b.b(d):b.call(null,d)}function e(d,e){var f;f=c.a?c.a(d,e):c.call(null,d,e);f=a.b?a.b(f):a.call(null,f);return b.b?b.b(f):b.call(null,f)}function f(d){d=c.b?c.b(d):c.call(null,d);d=a.b?a.b(d):a.call(null,d);return b.b?b.b(d):b.call(null,d)}function g(){var d;d=c.m?c.m():c.call(null);d=a.b?a.b(d):a.call(null,d);return b.b?b.b(d):b.call(null,d)}var h=null,l=function(){function d(a,
b,c,f){var g=null;if(3<arguments.length){for(var g=0,h=Array(arguments.length-3);g<h.length;)h[g]=arguments[g+3],++g;g=new lc(h,0)}return e.call(this,a,b,c,g)}function e(d,f,g,h){d=Vd(c,d,f,g,h);d=a.b?a.b(d):a.call(null,d);return b.b?b.b(d):b.call(null,d)}d.F=3;d.G=function(a){var b=D(a);a=E(a);var c=D(a);a=E(a);var d=D(a);a=nc(a);return e(b,c,d,a)};d.s=e;return d}(),h=function(a,b,c,h){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,a);case 2:return e.call(this,a,b);
case 3:return d.call(this,a,b,c);default:var r=null;if(3<arguments.length){for(var r=0,v=Array(arguments.length-3);r<v.length;)v[r]=arguments[r+3],++r;r=new lc(v,0)}return l.s(a,b,c,r)}throw Error("Invalid arity: "+arguments.length);};h.F=3;h.G=l.G;h.m=g;h.b=f;h.a=e;h.c=d;h.s=l.s;return h}()};
he.s=function(b,a,c,d){return function(a){return function(){function b(a){var d=null;if(0<arguments.length){for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;d=new lc(e,0)}return c.call(this,d)}function c(b){b=Td(D(a),b);for(var d=E(a);;)if(d)b=D(d).call(null,b),d=E(d);else return b}b.F=0;b.G=function(a){a=C(a);return c(a)};b.s=c;return b}()}(xd(Mc(b,Mc(a,Mc(c,d)))))};he.G=function(b){var a=D(b),c=E(b);b=D(c);var d=E(c),c=D(d),d=E(d);return he.s(a,b,c,d)};he.F=3;
function ie(b,a,c,d){this.state=b;this.o=a;this.bd=c;this.uc=d;this.A=16386;this.i=6455296}k=ie.prototype;k.equiv=function(b){return this.v(null,b)};k.v=function(b,a){return this===a};k.Sb=function(){return this.state};k.K=function(){return this.o};
k.jc=function(b,a,c){b=C(this.uc);for(var d=null,e=0,f=0;;)if(f<e){var g=d.P(null,f),h=J(g,0,null),g=J(g,1,null);g.w?g.w(h,this,a,c):g.call(null,h,this,a,c);f+=1}else if(b=C(b))id(b)?(d=Qb(b),b=Rb(b),h=d,e=I(d),d=h):(d=D(b),h=J(d,0,null),g=J(d,1,null),g.w?g.w(h,this,a,c):g.call(null,h,this,a,c),b=E(b),d=null,e=0),f=0;else return null};k.O=function(){return this[ca]||(this[ca]=++da)};
function je(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return ke(arguments[0]);default:return c=arguments[0],a=new lc(a.slice(1),0,null),d=null!=a&&(a.i&64||a.Ca)?Td(le,a):a,a=B.a(d,Ka),d=B.a(d,me),new ie(c,a,d,null)}}function ke(b){return new ie(b,null,null,null)}
function ne(b,a){if(b instanceof ie){var c=b.bd;if(null!=c&&!w(c.b?c.b(a):c.call(null,a)))throw Error([x("Assert failed: "),x("Validator rejected reference state"),x("\n"),x("(validate new-value)")].join(""));c=b.state;b.state=a;null!=b.uc&&Jb(b,c,a);return a}return Vb(b,a)}
var oe=function oe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return oe.a(arguments[0],arguments[1]);case 3:return oe.c(arguments[0],arguments[1],arguments[2]);case 4:return oe.w(arguments[0],arguments[1],arguments[2],arguments[3]);default:return oe.s(arguments[0],arguments[1],arguments[2],arguments[3],new lc(c.slice(4),0,null))}};
oe.a=function(b,a){var c;b instanceof ie?(c=b.state,c=a.b?a.b(c):a.call(null,c),c=ne(b,c)):c=Wb.a(b,a);return c};oe.c=function(b,a,c){if(b instanceof ie){var d=b.state;a=a.a?a.a(d,c):a.call(null,d,c);b=ne(b,a)}else b=Wb.c(b,a,c);return b};oe.w=function(b,a,c,d){if(b instanceof ie){var e=b.state;a=a.c?a.c(e,c,d):a.call(null,e,c,d);b=ne(b,a)}else b=Wb.w(b,a,c,d);return b};oe.s=function(b,a,c,d,e){return b instanceof ie?ne(b,Vd(a,b.state,c,d,e)):Wb.I(b,a,c,d,e)};
oe.G=function(b){var a=D(b),c=E(b);b=D(c);var d=E(c),c=D(d),e=E(d),d=D(e),e=E(e);return oe.s(a,b,c,d,e)};oe.F=4;
var pe=function pe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return pe.b(arguments[0]);case 2:return pe.a(arguments[0],arguments[1]);case 3:return pe.c(arguments[0],arguments[1],arguments[2]);case 4:return pe.w(arguments[0],arguments[1],arguments[2],arguments[3]);default:return pe.s(arguments[0],arguments[1],arguments[2],arguments[3],new lc(c.slice(4),0,null))}};
pe.b=function(b){return function(a){return function(){function c(c,d){var e=b.b?b.b(d):b.call(null,d);return a.a?a.a(c,e):a.call(null,c,e)}function d(b){return a.b?a.b(b):a.call(null,b)}function e(){return a.m?a.m():a.call(null)}var f=null,g=function(){function c(a,b,e){var f=null;if(2<arguments.length){for(var f=0,g=Array(arguments.length-2);f<g.length;)g[f]=arguments[f+2],++f;f=new lc(g,0)}return d.call(this,a,b,f)}function d(c,e,f){e=Ud(b,e,f);return a.a?a.a(c,e):a.call(null,c,e)}c.F=2;c.G=function(a){var b=
D(a);a=E(a);var c=D(a);a=nc(a);return d(b,c,a)};c.s=d;return c}(),f=function(a,b,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var n=null;if(2<arguments.length){for(var n=0,q=Array(arguments.length-2);n<q.length;)q[n]=arguments[n+2],++n;n=new lc(q,0)}return g.s(a,b,n)}throw Error("Invalid arity: "+arguments.length);};f.F=2;f.G=g.G;f.m=e;f.b=d;f.a=c;f.s=g.s;return f}()}};
pe.a=function(b,a){return new Fd(null,function(){var c=C(a);if(c){if(id(c)){for(var d=Qb(c),e=I(d),f=Jd(e),g=0;;)if(g<e)Md(f,function(){var a=bb.a(d,g);return b.b?b.b(a):b.call(null,a)}()),g+=1;else break;return Ld(f.ra(),pe.a(b,Rb(c)))}return Mc(function(){var a=D(c);return b.b?b.b(a):b.call(null,a)}(),pe.a(b,nc(c)))}return null},null,null)};
pe.c=function(b,a,c){return new Fd(null,function(){var d=C(a),e=C(c);if(d&&e){var f=Mc,g;g=D(d);var h=D(e);g=b.a?b.a(g,h):b.call(null,g,h);d=f(g,pe.c(b,nc(d),nc(e)))}else d=null;return d},null,null)};pe.w=function(b,a,c,d){return new Fd(null,function(){var e=C(a),f=C(c),g=C(d);if(e&&f&&g){var h=Mc,l;l=D(e);var m=D(f),n=D(g);l=b.c?b.c(l,m,n):b.call(null,l,m,n);e=h(l,pe.w(b,nc(e),nc(f),nc(g)))}else e=null;return e},null,null)};
pe.s=function(b,a,c,d,e){var f=function h(a){return new Fd(null,function(){var b=pe.a(C,a);return ee(rd,b)?Mc(pe.a(D,b),h(pe.a(nc,b))):null},null,null)};return pe.a(function(){return function(a){return Td(b,a)}}(f),f(Vc.s(e,d,Pc([c,a],0))))};pe.G=function(b){var a=D(b),c=E(b);b=D(c);var d=E(c),c=D(d),e=E(d),d=D(e),e=E(e);return pe.s(a,b,c,d,e)};pe.F=4;
function qe(b,a){if("number"!==typeof b)throw Error("Assert failed: (number? n)");return new Fd(null,function(){if(0<b){var c=C(a);return c?Mc(D(c),qe(b-1,nc(c))):null}return null},null,null)}function re(b,a){if("number"!==typeof b)throw Error("Assert failed: (number? n)");return new Fd(null,function(c){return function(){return c(b,a)}}(function(a,b){for(;;){var e=C(b);if(0<a&&e){var f=a-1,e=nc(e);a=f;b=e}else return e}}),null,null)}
var se=function se(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return se.a(arguments[0],arguments[1]);default:return se.s(arguments[0],arguments[1],new lc(c.slice(2),0,null))}};se.a=function(b,a){return new Fd(null,function(){var c=C(b),d=C(a);return c&&d?Mc(D(c),Mc(D(d),se.a(nc(c),nc(d)))):null},null,null)};
se.s=function(b,a,c){return new Fd(null,function(){var d=pe.a(C,Vc.s(c,a,Pc([b],0)));return ee(rd,d)?Qd.a(pe.a(D,d),Td(se,pe.a(nc,d))):null},null,null)};se.G=function(b){var a=D(b),c=E(b);b=D(c);c=E(c);return se.s(a,b,c)};se.F=2;
var te=function te(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return te.a(arguments[0],arguments[1]);case 3:return te.c(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};te.a=function(b,a){return null!=b?null!=b&&(b.A&4||b.xc)?Qc(Mb(od(Lb,Kb(b),a)),cd(b)):od($a,b,a):od(Vc,oc,a)};te.c=function(b,a,c){return null!=b&&(b.A&4||b.xc)?Qc(Mb(sd(a,Rd,Kb(b),c)),cd(b)):sd(a,Vc,b,c)};
te.F=3;function ue(b,a,c){return new Fd(null,function(){var d=C(c);if(d){var e=qe(b,d);return b===I(e)?Mc(e,ue(b,a,re(a,d))):null}return null},null,null)}function ve(b,a){this.J=b;this.f=a}function we(b){return new ve(b,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function xe(b){b=b.l;return 32>b?0:b-1>>>5<<5}
function ye(b,a,c){for(;;){if(0===a)return c;var d=we(b);d.f[0]=c;c=d;a-=5}}var ze=function ze(a,c,d,e){var f=new ve(d.J,Ua(d.f)),g=a.l-1>>>c&31;5===c?f.f[g]=e:(d=d.f[g],a=null!=d?ze(a,c-5,d,e):ye(null,c-5,e),f.f[g]=a);return f};function Ae(b,a){throw Error([x("No item "),x(b),x(" in vector of length "),x(a)].join(""));}function Be(b,a){if(a>=xe(b))return b.H;for(var c=b.root,d=b.shift;;)if(0<d)var e=d-5,c=c.f[a>>>d&31],d=e;else return c.f}function Ce(b,a){return 0<=a&&a<b.l?Be(b,a):Ae(a,b.l)}
var De=function De(a,c,d,e,f){var g=new ve(d.J,Ua(d.f));if(0===c)g.f[e&31]=f;else{var h=e>>>c&31;a=De(a,c-5,d.f[h],e,f);g.f[h]=a}return g};function Ee(b,a,c,d,e,f){this.j=b;this.Nb=a;this.f=c;this.Ra=d;this.start=e;this.end=f}Ee.prototype.qa=function(){return this.j<this.end};Ee.prototype.next=function(){32===this.j-this.Nb&&(this.f=Be(this.Ra,this.j),this.Nb+=32);var b=this.f[this.j&31];this.j+=1;return b};
function R(b,a,c,d,e,f){this.o=b;this.l=a;this.shift=c;this.root=d;this.H=e;this.u=f;this.i=167668511;this.A=8196}k=R.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.R=function(b,a){return hb.c(this,a,null)};k.L=function(b,a,c){return"number"===typeof a?bb.c(this,a,c):c};k.P=function(b,a){return Ce(this,a)[a&31]};k.za=function(b,a,c){return 0<=a&&a<this.l?Be(this,a)[a&31]:c};
k.Wb=function(b,a,c){if(0<=a&&a<this.l)return xe(this)<=a?(b=Ua(this.H),b[a&31]=c,new R(this.o,this.l,this.shift,this.root,b,null)):new R(this.o,this.l,this.shift,De(this,this.shift,this.root,a,c),this.H,null);if(a===this.l)return $a(this,c);throw Error([x("Index "),x(a),x(" out of bounds  [0,"),x(this.l),x("]")].join(""));};k.Ga=function(){var b=this.l;return new Ee(0,0,0<I(this)?Be(this,0):null,this,0,b)};k.K=function(){return this.o};k.U=function(){return this.l};
k.Ub=function(){return bb.a(this,0)};k.Vb=function(){return bb.a(this,1)};k.Ib=function(){return 0<this.l?new Jc(this,this.l-1,null):null};k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};k.v=function(b,a){if(a instanceof R)if(this.l===I(a))for(var c=Xb(this),d=Xb(a);;)if(w(c.qa())){var e=c.next(),f=d.next();if(!pc.a(e,f))return!1}else return!0;else return!1;else return Lc(this,a)};
k.kb=function(){return new Fe(this.l,this.shift,Ge.b?Ge.b(this.root):Ge.call(null,this.root),He.b?He.b(this.H):He.call(null,this.H))};k.W=function(){return Qc(Wc,this.o)};k.na=function(b,a){return yc(this,a)};k.oa=function(b,a,c){b=0;for(var d=c;;)if(b<this.l){var e=Be(this,b);c=e.length;a:for(var f=0;;)if(f<c)var g=e[f],d=a.a?a.a(d,g):a.call(null,d,g),f=f+1;else{e=d;break a}b+=c;d=e}else return d};
k.jb=function(b,a,c){if("number"===typeof a)return sb(this,a,c);throw Error("Vector's key for assoc must be a number.");};k.V=function(){if(0===this.l)return null;if(32>=this.l)return new lc(this.H,0,null);var b;a:{b=this.root;for(var a=this.shift;;)if(0<a)a-=5,b=b.f[0];else{b=b.f;break a}}return Ie?Ie(this,b,0,0):Je.call(null,this,b,0,0)};k.M=function(b,a){return new R(a,this.l,this.shift,this.root,this.H,this.u)};
k.T=function(b,a){if(32>this.l-xe(this)){for(var c=this.H.length,d=Array(c+1),e=0;;)if(e<c)d[e]=this.H[e],e+=1;else break;d[c]=a;return new R(this.o,this.l+1,this.shift,this.root,d,null)}c=(d=this.l>>>5>1<<this.shift)?this.shift+5:this.shift;d?(d=we(null),d.f[0]=this.root,e=ye(null,this.shift,new ve(null,this.H)),d.f[1]=e):d=ze(this,this.shift,this.root,new ve(null,this.H));return new R(this.o,this.l+1,c,d,[a],null)};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.P(null,b);case 3:return this.za(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.P(null,b)};b.c=function(a,b,d){return this.za(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return this.P(null,b)};k.a=function(b,a){return this.za(null,b,a)};
var T=new ve(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Wc=new R(null,0,5,T,[],uc);R.prototype[Ta]=function(){return rc(this)};function Ke(b,a,c,d,e,f){this.Aa=b;this.node=a;this.j=c;this.off=d;this.o=e;this.u=f;this.i=32375020;this.A=1536}k=Ke.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.sa=function(){if(this.off+1<this.node.length){var b;b=this.Aa;var a=this.node,c=this.j,d=this.off+1;b=Ie?Ie(b,a,c,d):Je.call(null,b,a,c,d);return null==b?null:b}return Sb(this)};
k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(Wc,this.o)};k.na=function(b,a){var c;c=this.Aa;var d=this.j+this.off,e=I(this.Aa);c=Le?Le(c,d,e):Me.call(null,c,d,e);return yc(c,a)};k.oa=function(b,a,c){b=this.Aa;var d=this.j+this.off,e=I(this.Aa);b=Le?Le(b,d,e):Me.call(null,b,d,e);return zc(b,a,c)};k.pa=function(){return this.node[this.off]};
k.wa=function(){if(this.off+1<this.node.length){var b;b=this.Aa;var a=this.node,c=this.j,d=this.off+1;b=Ie?Ie(b,a,c,d):Je.call(null,b,a,c,d);return null==b?oc:b}return Rb(this)};k.V=function(){return this};k.Qb=function(){var b=this.node;return new Id(b,this.off,b.length)};k.Rb=function(){var b=this.j+this.node.length;if(b<Wa(this.Aa)){var a=this.Aa,c=Be(this.Aa,b);return Ie?Ie(a,c,b,0):Je.call(null,a,c,b,0)}return oc};
k.M=function(b,a){return Ne?Ne(this.Aa,this.node,this.j,this.off,a):Je.call(null,this.Aa,this.node,this.j,this.off,a)};k.T=function(b,a){return Mc(a,this)};k.Pb=function(){var b=this.j+this.node.length;if(b<Wa(this.Aa)){var a=this.Aa,c=Be(this.Aa,b);return Ie?Ie(a,c,b,0):Je.call(null,a,c,b,0)}return null};Ke.prototype[Ta]=function(){return rc(this)};
function Je(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 3:return a=arguments[0],c=arguments[1],d=arguments[2],new Ke(a,Ce(a,c),c,d,null,null);case 4:return Ie(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}function Ie(b,a,c,d){return new Ke(b,a,c,d,null,null)}
function Ne(b,a,c,d,e){return new Ke(b,a,c,d,e,null)}function Oe(b,a,c,d,e){this.o=b;this.Ra=a;this.start=c;this.end=d;this.u=e;this.i=167666463;this.A=8192}k=Oe.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.R=function(b,a){return hb.c(this,a,null)};k.L=function(b,a,c){return"number"===typeof a?bb.c(this,a,c):c};k.P=function(b,a){return 0>a||this.end<=this.start+a?Ae(a,this.end-this.start):bb.a(this.Ra,this.start+a)};
k.za=function(b,a,c){return 0>a||this.end<=this.start+a?c:bb.c(this.Ra,this.start+a,c)};k.Wb=function(b,a,c){var d=this.start+a;b=this.o;c=Yc.c(this.Ra,d,c);a=this.start;var e=this.end,d=d+1,d=e>d?e:d;return Pe.I?Pe.I(b,c,a,d,null):Pe.call(null,b,c,a,d,null)};k.K=function(){return this.o};k.U=function(){return this.end-this.start};k.Ib=function(){return this.start!==this.end?new Jc(this,this.end-this.start-1,null):null};k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};
k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(Wc,this.o)};k.na=function(b,a){return yc(this,a)};k.oa=function(b,a,c){return zc(this,a,c)};k.jb=function(b,a,c){if("number"===typeof a)return sb(this,a,c);throw Error("Subvec's key for assoc must be a number.");};k.V=function(){var b=this;return function(a){return function d(e){return e===b.end?null:Mc(bb.a(b.Ra,e),new Fd(null,function(){return function(){return d(e+1)}}(a),null,null))}}(this)(b.start)};
k.M=function(b,a){return Pe.I?Pe.I(a,this.Ra,this.start,this.end,this.u):Pe.call(null,a,this.Ra,this.start,this.end,this.u)};k.T=function(b,a){var c=this.o,d=sb(this.Ra,this.end,a),e=this.start,f=this.end+1;return Pe.I?Pe.I(c,d,e,f,null):Pe.call(null,c,d,e,f,null)};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.P(null,b);case 3:return this.za(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.P(null,b)};b.c=function(a,b,d){return this.za(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return this.P(null,b)};k.a=function(b,a){return this.za(null,b,a)};Oe.prototype[Ta]=function(){return rc(this)};
function Pe(b,a,c,d,e){for(;;)if(a instanceof Oe)c=a.start+c,d=a.start+d,a=a.Ra;else{var f=I(a);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new Oe(b,a,c,d,e)}}function Me(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 2:return a=arguments[0],Le(a,arguments[1],I(a));case 3:return Le(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}
function Le(b,a,c){return Pe(null,b,a,c,null)}function Qe(b,a){return b===a.J?a:new ve(b,Ua(a.f))}function Ge(b){return new ve({},Ua(b.f))}function He(b){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];kd(b,0,a,0,b.length);return a}var Re=function Re(a,c,d,e){d=Qe(a.root.J,d);var f=a.l-1>>>c&31;if(5===c)a=e;else{var g=d.f[f];a=null!=g?Re(a,c-5,g,e):ye(a.root.J,c-5,e)}d.f[f]=a;return d};
function Fe(b,a,c,d){this.l=b;this.shift=a;this.root=c;this.H=d;this.A=88;this.i=275}k=Fe.prototype;
k.vb=function(b,a){if(this.root.J){if(32>this.l-xe(this))this.H[this.l&31]=a;else{var c=new ve(this.root.J,this.H),d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];d[0]=a;this.H=d;if(this.l>>>5>1<<this.shift){var d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+
5;d[0]=this.root;d[1]=ye(this.root.J,this.shift,c);this.root=new ve(this.root.J,d);this.shift=e}else this.root=Re(this,this.shift,this.root,c)}this.l+=1;return this}throw Error("conj! after persistent!");};k.wb=function(){if(this.root.J){this.root.J=null;var b=this.l-xe(this),a=Array(b);kd(this.H,0,a,0,b);return new R(null,this.l,this.shift,this.root,a,null)}throw Error("persistent! called twice");};
k.ub=function(b,a,c){if("number"===typeof a)return Ob(this,a,c);throw Error("TransientVector's key for assoc! must be a number.");};
k.ic=function(b,a,c){var d=this;if(d.root.J){if(0<=a&&a<d.l)return xe(this)<=a?d.H[a&31]=c:(b=function(){return function f(b,h){var l=Qe(d.root.J,h);if(0===b)l.f[a&31]=c;else{var m=a>>>b&31,n=f(b-5,l.f[m]);l.f[m]=n}return l}}(this).call(null,d.shift,d.root),d.root=b),this;if(a===d.l)return Lb(this,c);throw Error([x("Index "),x(a),x(" out of bounds for TransientVector of length"),x(d.l)].join(""));}throw Error("assoc! after persistent!");};
k.U=function(){if(this.root.J)return this.l;throw Error("count after persistent!");};k.P=function(b,a){if(this.root.J)return Ce(this,a)[a&31];throw Error("nth after persistent!");};k.za=function(b,a,c){return 0<=a&&a<this.l?bb.a(this,a):c};k.R=function(b,a){return hb.c(this,a,null)};k.L=function(b,a,c){return"number"===typeof a?bb.c(this,a,c):c};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.L(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.R(null,b)};b.c=function(a,b,d){return this.L(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return this.R(null,b)};k.a=function(b,a){return this.L(null,b,a)};function Te(){this.i=2097152;this.A=0}
Te.prototype.equiv=function(b){return this.v(null,b)};Te.prototype.v=function(){return!1};var Ue=new Te;function Ve(b,a){return md(gd(a)?I(b)===I(a)?ee(rd,pe.a(function(b){return pc.a(B.c(a,D(b),Ue),D(E(b)))},b)):null:null)}function We(b,a,c,d,e){this.j=b;this.Zc=a;this.dc=c;this.Oc=d;this.pc=e}We.prototype.qa=function(){var b=this.j<this.dc;return b?b:this.pc.qa()};We.prototype.next=function(){if(this.j<this.dc){var b=Fc(this.Oc,this.j);this.j+=1;return new R(null,2,5,T,[b,hb.a(this.Zc,b)],null)}return this.pc.next()};
We.prototype.remove=function(){return Error("Unsupported operation")};function Xe(b){this.B=b}Xe.prototype.next=function(){if(null!=this.B){var b=D(this.B),a=J(b,0,null),b=J(b,1,null);this.B=E(this.B);return{value:[a,b],done:!1}}return{value:null,done:!0}};function Ye(b){this.B=b}Ye.prototype.next=function(){if(null!=this.B){var b=D(this.B);this.B=E(this.B);return{value:[b,b],done:!1}}return{value:null,done:!0}};
function Ze(b,a){var c;if(a instanceof K)a:{c=b.length;for(var d=a.Ha,e=0;;){if(c<=e){c=-1;break a}if(b[e]instanceof K&&d===b[e].Ha){c=e;break a}e+=2}}else if("string"==typeof a||"number"===typeof a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(a===b[d]){c=d;break a}d+=2}else if(a instanceof jc)a:for(c=b.length,d=a.$a,e=0;;){if(c<=e){c=-1;break a}if(b[e]instanceof jc&&d===b[e].$a){c=e;break a}e+=2}else if(null==a)a:for(c=b.length,d=0;;){if(c<=d){c=-1;break a}if(null==b[d]){c=d;break a}d+=2}else a:for(c=
b.length,d=0;;){if(c<=d){c=-1;break a}if(pc.a(a,b[d])){c=d;break a}d+=2}return c}function $e(b,a,c){this.f=b;this.j=a;this.va=c;this.i=32374990;this.A=0}k=$e.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.va};k.sa=function(){return this.j<this.f.length-2?new $e(this.f,this.j+2,this.va):null};k.U=function(){return(this.f.length-this.j)/2};k.O=function(){return tc(this)};
k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.va)};k.na=function(b,a){return Rc(a,this)};k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){return new R(null,2,5,T,[this.f[this.j],this.f[this.j+1]],null)};k.wa=function(){return this.j<this.f.length-2?new $e(this.f,this.j+2,this.va):oc};k.V=function(){return this};k.M=function(b,a){return new $e(this.f,this.j,a)};k.T=function(b,a){return Mc(a,this)};$e.prototype[Ta]=function(){return rc(this)};
function af(b,a,c){this.f=b;this.j=a;this.l=c}af.prototype.qa=function(){return this.j<this.l};af.prototype.next=function(){var b=new R(null,2,5,T,[this.f[this.j],this.f[this.j+1]],null);this.j+=2;return b};function Ha(b,a,c,d){this.o=b;this.l=a;this.f=c;this.u=d;this.i=16647951;this.A=8196}k=Ha.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};k.keys=function(){return rc(bf.b?bf.b(this):bf.call(null,this))};k.entries=function(){return new Xe(C(C(this)))};
k.values=function(){return rc(cf.b?cf.b(this):cf.call(null,this))};k.has=function(b){return nd(this,b)};k.get=function(b,a){return this.L(null,b,a)};k.forEach=function(b){for(var a=C(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=J(f,0,null),f=J(f,1,null);b.a?b.a(f,g):b.call(null,f,g);e+=1}else if(a=C(a))id(a)?(c=Qb(a),a=Rb(a),g=c,d=I(c),c=g):(c=D(a),g=J(c,0,null),f=J(c,1,null),b.a?b.a(f,g):b.call(null,f,g),a=E(a),c=null,d=0),e=0;else return null};k.R=function(b,a){return hb.c(this,a,null)};
k.L=function(b,a,c){b=Ze(this.f,a);return-1===b?c:this.f[b+1]};k.Ga=function(){return new af(this.f,0,2*this.l)};k.K=function(){return this.o};k.U=function(){return this.l};k.O=function(){var b=this.u;return null!=b?b:this.u=b=vc(this)};k.v=function(b,a){if(null!=a&&(a.i&1024||a.Bc)){var c=this.f.length;if(this.l===a.U(null))for(var d=0;;)if(d<c){var e=a.L(null,this.f[d],ld);if(e!==ld)if(pc.a(this.f[d+1],e))d+=2;else return!1;else return!1}else return!0;else return!1}else return Ve(this,a)};
k.kb=function(){return new df({},this.f.length,Ua(this.f))};k.W=function(){return xb(de,this.o)};k.na=function(b,a){return Rc(a,this)};k.oa=function(b,a,c){return Tc(a,c,this)};k.Gb=function(b,a){if(0<=Ze(this.f,a)){var c=this.f.length,d=c-2;if(0===d)return Xa(this);for(var d=Array(d),e=0,f=0;;){if(e>=c)return new Ha(this.o,this.l-1,d,null);pc.a(a,this.f[e])||(d[f]=this.f[e],d[f+1]=this.f[e+1],f+=2);e+=2}}else return this};
k.jb=function(b,a,c){b=Ze(this.f,a);if(-1===b){if(this.l<ef){b=this.f;for(var d=b.length,e=Array(d+2),f=0;;)if(f<d)e[f]=b[f],f+=1;else break;e[d]=a;e[d+1]=c;return new Ha(this.o,this.l+1,e,null)}return xb(jb(te.a(ff,this),a,c),this.o)}if(c===this.f[b+1])return this;a=Ua(this.f);a[b+1]=c;return new Ha(this.o,this.l,a,null)};k.Ob=function(b,a){return-1!==Ze(this.f,a)};k.V=function(){var b=this.f;return 0<=b.length-2?new $e(b,0,null):null};k.M=function(b,a){return new Ha(a,this.l,this.f,this.u)};
k.T=function(b,a){if(hd(a))return jb(this,bb.a(a,0),bb.a(a,1));for(var c=this,d=C(a);;){if(null==d)return c;var e=D(d);if(hd(e))c=jb(c,bb.a(e,0),bb.a(e,1)),d=E(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.L(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.R(null,b)};b.c=function(a,b,d){return this.L(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return this.R(null,b)};k.a=function(b,a){return this.L(null,b,a)};var de=new Ha(null,0,[],wc),ef=8;Ha.prototype[Ta]=function(){return rc(this)};
function df(b,a,c){this.lb=b;this.fb=a;this.f=c;this.i=258;this.A=56}k=df.prototype;k.U=function(){if(w(this.lb))return td(this.fb);throw Error("count after persistent!");};k.R=function(b,a){return hb.c(this,a,null)};k.L=function(b,a,c){if(w(this.lb))return b=Ze(this.f,a),-1===b?c:this.f[b+1];throw Error("lookup after persistent!");};
k.vb=function(b,a){if(w(this.lb)){if(null!=a?a.i&2048||a.Cc||(a.i?0:Qa(nb,a)):Qa(nb,a))return Nb(this,gf.b?gf.b(a):gf.call(null,a),hf.b?hf.b(a):hf.call(null,a));for(var c=C(a),d=this;;){var e=D(c);if(w(e))c=E(c),d=Nb(d,gf.b?gf.b(e):gf.call(null,e),hf.b?hf.b(e):hf.call(null,e));else return d}}else throw Error("conj! after persistent!");};k.wb=function(){if(w(this.lb))return this.lb=!1,new Ha(null,td(this.fb),this.f,null);throw Error("persistent! called twice");};
k.ub=function(b,a,c){if(w(this.lb)){b=Ze(this.f,a);if(-1===b){if(this.fb+2<=2*ef)return this.fb+=2,this.f.push(a),this.f.push(c),this;b=jf.a?jf.a(this.fb,this.f):jf.call(null,this.fb,this.f);return Nb(b,a,c)}c!==this.f[b+1]&&(this.f[b+1]=c);return this}throw Error("assoc! after persistent!");};function jf(b,a){for(var c=Kb(ff),d=0;;)if(d<b)c=Nb(c,a[d],a[d+1]),d+=2;else return c}function kf(){this.ua=!1}function lf(b,a){return b===a?!0:Bd(b,a)?!0:pc.a(b,a)}
function mf(b,a,c){b=Ua(b);b[a]=c;return b}function of(b,a){var c=Array(b.length-2);kd(b,0,c,0,2*a);kd(b,2*(a+1),c,2*a,c.length-2*a);return c}function pf(b,a,c,d){b=b.cb(a);b.f[c]=d;return b}function qf(b,a,c,d){this.f=b;this.j=a;this.Db=c;this.Ka=d}qf.prototype.advance=function(){for(var b=this.f.length;;)if(this.j<b){var a=this.f[this.j],c=this.f[this.j+1];null!=a?a=this.Db=new R(null,2,5,T,[a,c],null):null!=c?(a=Xb(c),a=a.qa()?this.Ka=a:!1):a=!1;this.j+=2;if(a)return!0}else return!1};
qf.prototype.qa=function(){var b=null!=this.Db;return b?b:(b=null!=this.Ka)?b:this.advance()};qf.prototype.next=function(){if(null!=this.Db){var b=this.Db;this.Db=null;return b}if(null!=this.Ka)return b=this.Ka.next(),this.Ka.qa()||(this.Ka=null),b;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(b,a,c){this.J=b;this.N=a;this.f=c}k=rf.prototype;
k.cb=function(b){if(b===this.J)return this;var a=ud(this.N),c=Array(0>a?4:2*(a+1));kd(this.f,0,c,0,2*a);return new rf(b,this.N,c)};k.Ab=function(){return sf?sf(this.f):tf.call(null,this.f)};k.Xa=function(b,a,c,d){var e=1<<(a>>>b&31);if(0===(this.N&e))return d;var f=ud(this.N&e-1),e=this.f[2*f],f=this.f[2*f+1];return null==e?f.Xa(b+5,a,c,d):lf(c,e)?f:d};
k.Ja=function(b,a,c,d,e,f){var g=1<<(c>>>a&31),h=ud(this.N&g-1);if(0===(this.N&g)){var l=ud(this.N);if(2*l<this.f.length){b=this.cb(b);a=b.f;f.ua=!0;a:for(c=2*(l-h),f=2*h+(c-1),l=2*(h+1)+(c-1);;){if(0===c)break a;a[l]=a[f];--l;--c;--f}a[2*h]=d;a[2*h+1]=e;b.N|=g;return b}if(16<=l){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[c>>>a&31]=uf.Ja(b,a+5,c,d,e,f);for(e=d=0;;)if(32>d)0!==
(this.N>>>d&1)&&(h[d]=null!=this.f[e]?uf.Ja(b,a+5,hc(this.f[e]),this.f[e],this.f[e+1],f):this.f[e+1],e+=2),d+=1;else break;return new vf(b,l+1,h)}a=Array(2*(l+4));kd(this.f,0,a,0,2*h);a[2*h]=d;a[2*h+1]=e;kd(this.f,2*h,a,2*(h+1),2*(l-h));f.ua=!0;b=this.cb(b);b.f=a;b.N|=g;return b}l=this.f[2*h];g=this.f[2*h+1];if(null==l)return l=g.Ja(b,a+5,c,d,e,f),l===g?this:pf(this,b,2*h+1,l);if(lf(d,l))return e===g?this:pf(this,b,2*h+1,e);f.ua=!0;f=a+5;d=wf?wf(b,f,l,g,c,d,e):xf.call(null,b,f,l,g,c,d,e);e=2*h;h=
2*h+1;b=this.cb(b);b.f[e]=null;b.f[h]=d;return b};
k.Ia=function(b,a,c,d,e){var f=1<<(a>>>b&31),g=ud(this.N&f-1);if(0===(this.N&f)){var h=ud(this.N);if(16<=h){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[a>>>b&31]=uf.Ia(b+5,a,c,d,e);for(d=c=0;;)if(32>c)0!==(this.N>>>c&1)&&(g[c]=null!=this.f[d]?uf.Ia(b+5,hc(this.f[d]),this.f[d],this.f[d+1],e):this.f[d+1],d+=2),c+=1;else break;return new vf(null,h+1,g)}b=Array(2*(h+1));kd(this.f,
0,b,0,2*g);b[2*g]=c;b[2*g+1]=d;kd(this.f,2*g,b,2*(g+1),2*(h-g));e.ua=!0;return new rf(null,this.N|f,b)}var l=this.f[2*g],f=this.f[2*g+1];if(null==l)return h=f.Ia(b+5,a,c,d,e),h===f?this:new rf(null,this.N,mf(this.f,2*g+1,h));if(lf(c,l))return d===f?this:new rf(null,this.N,mf(this.f,2*g+1,d));e.ua=!0;e=this.N;h=this.f;b+=5;b=yf?yf(b,l,f,a,c,d):xf.call(null,b,l,f,a,c,d);c=2*g;g=2*g+1;d=Ua(h);d[c]=null;d[g]=b;return new rf(null,e,d)};
k.Bb=function(b,a,c){var d=1<<(a>>>b&31);if(0===(this.N&d))return this;var e=ud(this.N&d-1),f=this.f[2*e],g=this.f[2*e+1];return null==f?(b=g.Bb(b+5,a,c),b===g?this:null!=b?new rf(null,this.N,mf(this.f,2*e+1,b)):this.N===d?null:new rf(null,this.N^d,of(this.f,e))):lf(c,f)?new rf(null,this.N^d,of(this.f,e)):this};k.Ga=function(){return new qf(this.f,0,null,null)};var uf=new rf(null,0,[]);function zf(b,a,c){this.f=b;this.j=a;this.Ka=c}
zf.prototype.qa=function(){for(var b=this.f.length;;){if(null!=this.Ka&&this.Ka.qa())return!0;if(this.j<b){var a=this.f[this.j];this.j+=1;null!=a&&(this.Ka=Xb(a))}else return!1}};zf.prototype.next=function(){if(this.qa())return this.Ka.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(b,a,c){this.J=b;this.l=a;this.f=c}k=vf.prototype;k.cb=function(b){return b===this.J?this:new vf(b,this.l,Ua(this.f))};
k.Ab=function(){return Af?Af(this.f):Bf.call(null,this.f)};k.Xa=function(b,a,c,d){var e=this.f[a>>>b&31];return null!=e?e.Xa(b+5,a,c,d):d};k.Ja=function(b,a,c,d,e,f){var g=c>>>a&31,h=this.f[g];if(null==h)return b=pf(this,b,g,uf.Ja(b,a+5,c,d,e,f)),b.l+=1,b;a=h.Ja(b,a+5,c,d,e,f);return a===h?this:pf(this,b,g,a)};
k.Ia=function(b,a,c,d,e){var f=a>>>b&31,g=this.f[f];if(null==g)return new vf(null,this.l+1,mf(this.f,f,uf.Ia(b+5,a,c,d,e)));b=g.Ia(b+5,a,c,d,e);return b===g?this:new vf(null,this.l,mf(this.f,f,b))};
k.Bb=function(b,a,c){var d=a>>>b&31,e=this.f[d];if(null!=e){b=e.Bb(b+5,a,c);if(b===e)d=this;else if(null==b)if(8>=this.l)a:{e=this.f;b=e.length;a=Array(2*(this.l-1));c=0;for(var f=1,g=0;;)if(c<b)c!==d&&null!=e[c]&&(a[f]=e[c],f+=2,g|=1<<c),c+=1;else{d=new rf(null,g,a);break a}}else d=new vf(null,this.l-1,mf(this.f,d,b));else d=new vf(null,this.l,mf(this.f,d,b));return d}return this};k.Ga=function(){return new zf(this.f,0,null)};
function Cf(b,a,c){a*=2;for(var d=0;;)if(d<a){if(lf(c,b[d]))return d;d+=2}else return-1}function Df(b,a,c,d){this.J=b;this.Ta=a;this.l=c;this.f=d}k=Df.prototype;k.cb=function(b){if(b===this.J)return this;var a=Array(2*(this.l+1));kd(this.f,0,a,0,2*this.l);return new Df(b,this.Ta,this.l,a)};k.Ab=function(){return sf?sf(this.f):tf.call(null,this.f)};k.Xa=function(b,a,c,d){b=Cf(this.f,this.l,c);return 0>b?d:lf(c,this.f[b])?this.f[b+1]:d};
k.Ja=function(b,a,c,d,e,f){if(c===this.Ta){a=Cf(this.f,this.l,d);if(-1===a){if(this.f.length>2*this.l)return a=2*this.l,c=2*this.l+1,b=this.cb(b),b.f[a]=d,b.f[c]=e,f.ua=!0,b.l+=1,b;c=this.f.length;a=Array(c+2);kd(this.f,0,a,0,c);a[c]=d;a[c+1]=e;f.ua=!0;d=this.l+1;b===this.J?(this.f=a,this.l=d,b=this):b=new Df(this.J,this.Ta,d,a);return b}return this.f[a+1]===e?this:pf(this,b,a+1,e)}return(new rf(b,1<<(this.Ta>>>a&31),[null,this,null,null])).Ja(b,a,c,d,e,f)};
k.Ia=function(b,a,c,d,e){return a===this.Ta?(b=Cf(this.f,this.l,c),-1===b?(b=2*this.l,a=Array(b+2),kd(this.f,0,a,0,b),a[b]=c,a[b+1]=d,e.ua=!0,new Df(null,this.Ta,this.l+1,a)):pc.a(this.f[b],d)?this:new Df(null,this.Ta,this.l,mf(this.f,b+1,d))):(new rf(null,1<<(this.Ta>>>b&31),[null,this])).Ia(b,a,c,d,e)};k.Bb=function(b,a,c){b=Cf(this.f,this.l,c);return-1===b?this:1===this.l?null:new Df(null,this.Ta,this.l-1,of(this.f,td(b)))};k.Ga=function(){return new qf(this.f,0,null,null)};
function xf(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}
function yf(b,a,c,d,e,f){var g=hc(a);if(g===d)return new Df(null,g,2,[a,c,e,f]);var h=new kf;return uf.Ia(b,g,a,c,h).Ia(b,d,e,f,h)}function wf(b,a,c,d,e,f,g){var h=hc(c);if(h===e)return new Df(null,h,2,[c,d,f,g]);var l=new kf;return uf.Ja(b,a,h,c,d,l).Ja(b,a,e,f,g,l)}function Ef(b,a,c,d,e){this.o=b;this.Ya=a;this.j=c;this.B=d;this.u=e;this.i=32374860;this.A=0}k=Ef.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.o)};k.na=function(b,a){return Rc(a,this)};
k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){return null==this.B?new R(null,2,5,T,[this.Ya[this.j],this.Ya[this.j+1]],null):D(this.B)};k.wa=function(){if(null==this.B){var b=this.Ya,a=this.j+2;return Ff?Ff(b,a,null):tf.call(null,b,a,null)}var b=this.Ya,a=this.j,c=E(this.B);return Ff?Ff(b,a,c):tf.call(null,b,a,c)};k.V=function(){return this};k.M=function(b,a){return new Ef(a,this.Ya,this.j,this.B,this.u)};k.T=function(b,a){return Mc(a,this)};Ef.prototype[Ta]=function(){return rc(this)};
function tf(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}function sf(b){return Ff(b,0,null)}
function Ff(b,a,c){if(null==c)for(c=b.length;;)if(a<c){if(null!=b[a])return new Ef(null,b,a,null,null);var d=b[a+1];if(w(d)&&(d=d.Ab(),w(d)))return new Ef(null,b,a+2,d,null);a+=2}else return null;else return new Ef(null,b,a,c,null)}function Gf(b,a,c,d,e){this.o=b;this.Ya=a;this.j=c;this.B=d;this.u=e;this.i=32374860;this.A=0}k=Gf.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};
k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.o};k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.o)};k.na=function(b,a){return Rc(a,this)};
k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){return D(this.B)};k.wa=function(){var b=this.Ya,a=this.j,c=E(this.B);return Hf?Hf(null,b,a,c):Bf.call(null,null,b,a,c)};k.V=function(){return this};k.M=function(b,a){return new Gf(a,this.Ya,this.j,this.B,this.u)};k.T=function(b,a){return Mc(a,this)};Gf.prototype[Ta]=function(){return rc(this)};
function Bf(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;switch(a.length){case 1:return Af(arguments[0]);case 4:return Hf(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([x("Invalid arity: "),x(a.length)].join(""));}}function Af(b){return Hf(null,b,0,null)}function Hf(b,a,c,d){if(null==d)for(d=a.length;;)if(c<d){var e=a[c];if(w(e)&&(e=e.Ab(),w(e)))return new Gf(b,a,c+1,e,null);c+=1}else return null;else return new Gf(b,a,c,d,null)}
function If(b,a,c){this.ya=b;this.sc=a;this.bc=c}If.prototype.qa=function(){return this.bc&&this.sc.qa()};If.prototype.next=function(){if(this.bc)return this.sc.next();this.bc=!0;return this.ya};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(b,a,c,d,e,f){this.o=b;this.l=a;this.root=c;this.ta=d;this.ya=e;this.u=f;this.i=16123663;this.A=8196}k=Jf.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};
k.keys=function(){return rc(bf.b?bf.b(this):bf.call(null,this))};k.entries=function(){return new Xe(C(C(this)))};k.values=function(){return rc(cf.b?cf.b(this):cf.call(null,this))};k.has=function(b){return nd(this,b)};k.get=function(b,a){return this.L(null,b,a)};
k.forEach=function(b){for(var a=C(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=J(f,0,null),f=J(f,1,null);b.a?b.a(f,g):b.call(null,f,g);e+=1}else if(a=C(a))id(a)?(c=Qb(a),a=Rb(a),g=c,d=I(c),c=g):(c=D(a),g=J(c,0,null),f=J(c,1,null),b.a?b.a(f,g):b.call(null,f,g),a=E(a),c=null,d=0),e=0;else return null};k.R=function(b,a){return hb.c(this,a,null)};k.L=function(b,a,c){return null==a?this.ta?this.ya:c:null==this.root?c:this.root.Xa(0,hc(a),a,c)};
k.Ga=function(){var b=this.root?Xb(this.root):Yd;return this.ta?new If(this.ya,b,!1):b};k.K=function(){return this.o};k.U=function(){return this.l};k.O=function(){var b=this.u;return null!=b?b:this.u=b=vc(this)};k.v=function(b,a){return Ve(this,a)};k.kb=function(){return new Kf({},this.root,this.l,this.ta,this.ya)};k.W=function(){return xb(ff,this.o)};
k.Gb=function(b,a){if(null==a)return this.ta?new Jf(this.o,this.l-1,this.root,!1,null,null):this;if(null==this.root)return this;var c=this.root.Bb(0,hc(a),a);return c===this.root?this:new Jf(this.o,this.l-1,c,this.ta,this.ya,null)};k.jb=function(b,a,c){if(null==a)return this.ta&&c===this.ya?this:new Jf(this.o,this.ta?this.l:this.l+1,this.root,!0,c,null);b=new kf;a=(null==this.root?uf:this.root).Ia(0,hc(a),a,c,b);return a===this.root?this:new Jf(this.o,b.ua?this.l+1:this.l,a,this.ta,this.ya,null)};
k.Ob=function(b,a){return null==a?this.ta:null==this.root?!1:this.root.Xa(0,hc(a),a,ld)!==ld};k.V=function(){if(0<this.l){var b=null!=this.root?this.root.Ab():null;return this.ta?Mc(new R(null,2,5,T,[null,this.ya],null),b):b}return null};k.M=function(b,a){return new Jf(a,this.l,this.root,this.ta,this.ya,this.u)};
k.T=function(b,a){if(hd(a))return jb(this,bb.a(a,0),bb.a(a,1));for(var c=this,d=C(a);;){if(null==d)return c;var e=D(d);if(hd(e))c=jb(c,bb.a(e,0),bb.a(e,1)),d=E(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.L(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.R(null,b)};b.c=function(a,b,d){return this.L(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return this.R(null,b)};k.a=function(b,a){return this.L(null,b,a)};var ff=new Jf(null,0,null,!1,null,wc);
function Zc(b,a){for(var c=b.length,d=0,e=Kb(ff);;)if(d<c)var f=d+1,e=e.ub(null,b[d],a[d]),d=f;else return Mb(e)}Jf.prototype[Ta]=function(){return rc(this)};function Kf(b,a,c,d,e){this.J=b;this.root=a;this.count=c;this.ta=d;this.ya=e;this.i=258;this.A=56}function Lf(b,a,c){if(b.J){if(null==a)b.ya!==c&&(b.ya=c),b.ta||(b.count+=1,b.ta=!0);else{var d=new kf;a=(null==b.root?uf:b.root).Ja(b.J,0,hc(a),a,c,d);a!==b.root&&(b.root=a);d.ua&&(b.count+=1)}return b}throw Error("assoc! after persistent!");}
k=Kf.prototype;k.U=function(){if(this.J)return this.count;throw Error("count after persistent!");};k.R=function(b,a){return null==a?this.ta?this.ya:null:null==this.root?null:this.root.Xa(0,hc(a),a)};k.L=function(b,a,c){return null==a?this.ta?this.ya:c:null==this.root?c:this.root.Xa(0,hc(a),a,c)};
k.vb=function(b,a){var c;a:if(this.J)if(null!=a?a.i&2048||a.Cc||(a.i?0:Qa(nb,a)):Qa(nb,a))c=Lf(this,gf.b?gf.b(a):gf.call(null,a),hf.b?hf.b(a):hf.call(null,a));else{c=C(a);for(var d=this;;){var e=D(c);if(w(e))c=E(c),d=Lf(d,gf.b?gf.b(e):gf.call(null,e),hf.b?hf.b(e):hf.call(null,e));else{c=d;break a}}}else throw Error("conj! after persistent");return c};k.wb=function(){var b;if(this.J)this.J=null,b=new Jf(null,this.count,this.root,this.ta,this.ya,null);else throw Error("persistent! called twice");return b};
k.ub=function(b,a,c){return Lf(this,a,c)};var le=function le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return le.s(0<c.length?new lc(c.slice(0),0,null):null)};le.s=function(b){for(var a=C(b),c=Kb(ff);;)if(a){b=E(E(a));var d=D(a),a=D(E(a)),c=Nb(c,d,a),a=b}else return Mb(c)};le.F=0;le.G=function(b){return le.s(C(b))};function Mf(b,a){this.C=b;this.va=a;this.i=32374988;this.A=0}k=Mf.prototype;k.toString=function(){return Zb(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.va};k.sa=function(){var b=(null!=this.C?this.C.i&128||this.C.Hb||(this.C.i?0:Qa(fb,this.C)):Qa(fb,this.C))?this.C.sa(null):E(this.C);return null==b?null:new Mf(b,this.va)};k.O=function(){return tc(this)};
k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.va)};k.na=function(b,a){return Rc(a,this)};k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){return this.C.pa(null).Ub()};k.wa=function(){var b=(null!=this.C?this.C.i&128||this.C.Hb||(this.C.i?0:Qa(fb,this.C)):Qa(fb,this.C))?this.C.sa(null):E(this.C);return null!=b?new Mf(b,this.va):oc};k.V=function(){return this};k.M=function(b,a){return new Mf(this.C,a)};k.T=function(b,a){return Mc(a,this)};Mf.prototype[Ta]=function(){return rc(this)};
function bf(b){return(b=C(b))?new Mf(b,null):null}function gf(b){return ob(b)}function Nf(b,a){this.C=b;this.va=a;this.i=32374988;this.A=0}k=Nf.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.K=function(){return this.va};k.sa=function(){var b=(null!=this.C?this.C.i&128||this.C.Hb||(this.C.i?0:Qa(fb,this.C)):Qa(fb,this.C))?this.C.sa(null):E(this.C);return null==b?null:new Nf(b,this.va)};k.O=function(){return tc(this)};
k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.va)};k.na=function(b,a){return Rc(a,this)};k.oa=function(b,a,c){return Tc(a,c,this)};k.pa=function(){return this.C.pa(null).Vb()};k.wa=function(){var b=(null!=this.C?this.C.i&128||this.C.Hb||(this.C.i?0:Qa(fb,this.C)):Qa(fb,this.C))?this.C.sa(null):E(this.C);return null!=b?new Nf(b,this.va):oc};k.V=function(){return this};k.M=function(b,a){return new Nf(this.C,a)};k.T=function(b,a){return Mc(a,this)};Nf.prototype[Ta]=function(){return rc(this)};
function cf(b){return(b=C(b))?new Nf(b,null):null}function hf(b){return pb(b)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Of.s(0<c.length?new lc(c.slice(0),0,null):null)};Of.s=function(b){return w(fe(b))?qd(function(a,b){return Vc.a(w(a)?a:de,b)},b):null};Of.F=0;Of.G=function(b){return Of.s(C(b))};function Pf(b){this.ac=b}Pf.prototype.qa=function(){return this.ac.qa()};
Pf.prototype.next=function(){if(this.ac.qa())return this.ac.next().H[0];throw Error("No such element");};Pf.prototype.remove=function(){return Error("Unsupported operation")};function Qf(b,a,c){this.o=b;this.eb=a;this.u=c;this.i=15077647;this.A=8196}k=Qf.prototype;k.toString=function(){return Zb(this)};k.equiv=function(b){return this.v(null,b)};k.keys=function(){return rc(C(this))};k.entries=function(){return new Ye(C(C(this)))};k.values=function(){return rc(C(this))};
k.has=function(b){return nd(this,b)};k.forEach=function(b){for(var a=C(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=J(f,0,null),f=J(f,1,null);b.a?b.a(f,g):b.call(null,f,g);e+=1}else if(a=C(a))id(a)?(c=Qb(a),a=Rb(a),g=c,d=I(c),c=g):(c=D(a),g=J(c,0,null),f=J(c,1,null),b.a?b.a(f,g):b.call(null,f,g),a=E(a),c=null,d=0),e=0;else return null};k.R=function(b,a){return hb.c(this,a,null)};k.L=function(b,a,c){return ib(this.eb,a)?a:c};k.Ga=function(){return new Pf(Xb(this.eb))};k.K=function(){return this.o};
k.U=function(){return Wa(this.eb)};k.O=function(){var b=this.u;return null!=b?b:this.u=b=vc(this)};k.v=function(b,a){return ed(a)&&I(this)===I(a)&&ee(function(a){return function(b){return nd(a,b)}}(this),a)};k.kb=function(){return new Rf(Kb(this.eb))};k.W=function(){return Qc(Sf,this.o)};k.V=function(){return bf(this.eb)};k.M=function(b,a){return new Qf(a,this.eb,this.u)};k.T=function(b,a){return new Qf(this.o,Yc.c(this.eb,a,null),null)};
k.call=function(){var b=null,b=function(a,b,d){switch(arguments.length){case 2:return this.R(null,b);case 3:return this.L(null,b,d)}throw Error("Invalid arity: "+arguments.length);};b.a=function(a,b){return this.R(null,b)};b.c=function(a,b,d){return this.L(null,b,d)};return b}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return this.R(null,b)};k.a=function(b,a){return this.L(null,b,a)};var Sf=new Qf(null,de,wc);Qf.prototype[Ta]=function(){return rc(this)};
function Rf(b){this.Wa=b;this.A=136;this.i=259}k=Rf.prototype;k.vb=function(b,a){this.Wa=Nb(this.Wa,a,null);return this};k.wb=function(){return new Qf(null,Mb(this.Wa),null)};k.U=function(){return I(this.Wa)};k.R=function(b,a){return hb.c(this,a,null)};k.L=function(b,a,c){return hb.c(this.Wa,a,ld)===ld?c:a};
k.call=function(){function b(a,b,c){return hb.c(this.Wa,b,ld)===ld?c:b}function a(a,b){return hb.c(this.Wa,b,ld)===ld?null:b}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return a.call(this,0,e);case 3:return b.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.a=a;c.c=b;return c}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};k.b=function(b){return hb.c(this.Wa,b,ld)===ld?null:b};k.a=function(b,a){return hb.c(this.Wa,b,ld)===ld?a:b};
function Ed(b){if(null!=b&&(b.A&4096||b.Ec))return b.sb(null);if("string"===typeof b)return b;throw Error([x("Doesn't support name: "),x(b)].join(""));}function Tf(b,a,c){this.j=b;this.end=a;this.step=c}Tf.prototype.qa=function(){return 0<this.step?this.j<this.end:this.j>this.end};Tf.prototype.next=function(){var b=this.j;this.j+=this.step;return b};function Uf(b,a,c,d,e){this.o=b;this.start=a;this.end=c;this.step=d;this.u=e;this.i=32375006;this.A=8192}k=Uf.prototype;k.toString=function(){return Zb(this)};
k.equiv=function(b){return this.v(null,b)};k.indexOf=function(){var b=null,b=function(a,b){switch(arguments.length){case 1:return H(this,a,0);case 2:return H(this,a,b)}throw Error("Invalid arity: "+arguments.length);};b.b=function(a){return H(this,a,0)};b.a=function(a,b){return H(this,a,b)};return b}();
k.lastIndexOf=function(){function b(a){return Hc(this,a,I(this))}var a=null,a=function(a,d){switch(arguments.length){case 1:return b.call(this,a);case 2:return Hc(this,a,d)}throw Error("Invalid arity: "+arguments.length);};a.b=b;a.a=function(a,b){return Hc(this,a,b)};return a}();k.P=function(b,a){if(a<Wa(this))return this.start+a*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
k.za=function(b,a,c){return a<Wa(this)?this.start+a*this.step:this.start>this.end&&0===this.step?this.start:c};k.Ga=function(){return new Tf(this.start,this.end,this.step)};k.K=function(){return this.o};k.sa=function(){return 0<this.step?this.start+this.step<this.end?new Uf(this.o,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new Uf(this.o,this.start+this.step,this.end,this.step,null):null};k.U=function(){return Oa(Db(this))?0:Math.ceil((this.end-this.start)/this.step)};
k.O=function(){var b=this.u;return null!=b?b:this.u=b=tc(this)};k.v=function(b,a){return Lc(this,a)};k.W=function(){return Qc(oc,this.o)};k.na=function(b,a){return yc(this,a)};k.oa=function(b,a,c){for(b=this.start;;)if(0<this.step?b<this.end:b>this.end)c=a.a?a.a(c,b):a.call(null,c,b),b+=this.step;else return c};k.pa=function(){return null==Db(this)?null:this.start};k.wa=function(){return null!=Db(this)?new Uf(this.o,this.start+this.step,this.end,this.step,null):oc};
k.V=function(){return 0<this.step?this.start<this.end?this:null:0>this.step?this.start>this.end?this:null:this.start===this.end?null:this};k.M=function(b,a){return new Uf(a,this.start,this.end,this.step,this.u)};k.T=function(b,a){return Mc(a,this)};Uf.prototype[Ta]=function(){return rc(this)};function Vf(b){a:for(var a=b;;)if(C(a))a=E(a);else break a;return b}
function Wf(b,a,c,d,e,f,g){var h=Ea;Ea=null==Ea?null:Ea-1;try{if(null!=Ea&&0>Ea)return Ib(b,"#");Ib(b,c);if(0===Ma.b(f))C(g)&&Ib(b,function(){var a=Xf.b(f);return w(a)?a:"..."}());else{if(C(g)){var l=D(g);a.c?a.c(l,b,f):a.call(null,l,b,f)}for(var m=E(g),n=Ma.b(f)-1;;)if(!m||null!=n&&0===n){C(m)&&0===n&&(Ib(b,d),Ib(b,function(){var a=Xf.b(f);return w(a)?a:"..."}()));break}else{Ib(b,d);var q=D(m);c=b;g=f;a.c?a.c(q,c,g):a.call(null,q,c,g);var p=E(m);c=n-1;m=p;n=c}}return Ib(b,e)}finally{Ea=h}}
function Yf(b,a){for(var c=C(a),d=null,e=0,f=0;;)if(f<e){var g=d.P(null,f);Ib(b,g);f+=1}else if(c=C(c))d=c,id(d)?(c=Qb(d),e=Rb(d),d=c,g=I(c),c=e,e=g):(g=D(d),Ib(b,g),c=E(d),d=null,e=0),f=0;else return null}var Zf={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function $f(b){return[x('"'),x(b.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(a){return Zf[a]})),x('"')].join("")}
function ag(b,a){var c=md(B.a(b,Ka));return c?(c=null!=a?a.i&131072||a.Dc?!0:!1:!1)?null!=cd(a):c:c}
function bg(b,a,c){if(null==b)return Ib(a,"nil");if(ag(c,b)){Ib(a,"^");var d=cd(b);cg.c?cg.c(d,a,c):cg.call(null,d,a,c);Ib(a," ")}if(b.xb)return b.Kb(b,a,c);if(null!=b&&(b.i&2147483648||b.X))return b.S(null,a,c);if(!0===b||!1===b||"number"===typeof b)return Ib(a,""+x(b));if(null!=b&&b.constructor===Object)return Ib(a,"#js "),d=pe.a(function(a){return new R(null,2,5,T,[Dd.b(a),b[a]],null)},jd(b)),dg.w?dg.w(d,cg,a,c):dg.call(null,d,cg,a,c);if(Na(b))return Wf(a,cg,"#js ["," ","]",c,b);if("string"==typeof b)return w(Ja.b(c))?
Ib(a,$f(b)):Ib(a,b);if("function"==t(b)){var e=b.name;c=w(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Yf(a,Pc(["#object[",c,' "',""+x(b),'"]'],0))}if(b instanceof Date)return c=function(a,b){for(var c=""+x(a);;)if(I(c)<b)c=[x("0"),x(c)].join("");else return c},Yf(a,Pc(['#inst "',""+x(b.getUTCFullYear()),"-",c(b.getUTCMonth()+1,2),"-",c(b.getUTCDate(),2),"T",c(b.getUTCHours(),2),":",c(b.getUTCMinutes(),2),":",c(b.getUTCSeconds(),2),".",c(b.getUTCMilliseconds(),
3),"-",'00:00"'],0));if(b instanceof RegExp)return Yf(a,Pc(['#"',b.source,'"'],0));if(w(b.constructor.bb))return Yf(a,Pc(["#object[",b.constructor.bb.replace(RegExp("/","g"),"."),"]"],0));e=b.constructor.name;c=w(function(){var a=null==e;return a?a:/^[\s\xa0]*$/.test(e)}())?"Object":e;return Yf(a,Pc(["#object[",c," ",""+x(b),"]"],0))}function cg(b,a,c){var d=eg.b(c);return w(d)?(c=Yc.c(c,fg,bg),d.c?d.c(b,a,c):d.call(null,b,a,c)):bg(b,a,c)}
function dg(b,a,c,d){return Wf(c,function(b,c,d){var h=ob(b);a.c?a.c(h,c,d):a.call(null,h,c,d);Ib(c," ");b=pb(b);return a.c?a.c(b,c,d):a.call(null,b,c,d)},"{",", ","}",d,C(b))}lc.prototype.X=!0;lc.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};Fd.prototype.X=!0;Fd.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};Ef.prototype.X=!0;Ef.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};$e.prototype.X=!0;
$e.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};Ke.prototype.X=!0;Ke.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};Ad.prototype.X=!0;Ad.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};Jc.prototype.X=!0;Jc.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};Jf.prototype.X=!0;Jf.prototype.S=function(b,a,c){return dg(this,cg,a,c)};Gf.prototype.X=!0;Gf.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};Oe.prototype.X=!0;
Oe.prototype.S=function(b,a,c){return Wf(a,cg,"["," ","]",c,this)};Qf.prototype.X=!0;Qf.prototype.S=function(b,a,c){return Wf(a,cg,"#{"," ","}",c,this)};Kd.prototype.X=!0;Kd.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};ie.prototype.X=!0;ie.prototype.S=function(b,a,c){Ib(a,"#object [cljs.core.Atom ");cg(new Ha(null,1,[gg,this.state],null),a,c);return Ib(a,"]")};Nf.prototype.X=!0;Nf.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};R.prototype.X=!0;
R.prototype.S=function(b,a,c){return Wf(a,cg,"["," ","]",c,this)};wd.prototype.X=!0;wd.prototype.S=function(b,a){return Ib(a,"()")};Ha.prototype.X=!0;Ha.prototype.S=function(b,a,c){return dg(this,cg,a,c)};Uf.prototype.X=!0;Uf.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};Mf.prototype.X=!0;Mf.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};vd.prototype.X=!0;vd.prototype.S=function(b,a,c){return Wf(a,cg,"("," ",")",c,this)};function hg(){}
var ig=function ig(a){if(null!=a&&null!=a.zc)return a.zc(a);var c=ig[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=ig._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("IEncodeJS.-clj-\x3ejs",a);};
function jg(b){if(null!=b?b.yc||(b.Mc?0:Qa(hg,b)):Qa(hg,b))b=ig(b);else if("string"===typeof b||"number"===typeof b||b instanceof K||b instanceof jc)b=kg.b?kg.b(b):kg.call(null,b);else{var a=Pc([b],0);b=Ga();if(null==a||Oa(C(a)))b="";else{var c=x,d=new xa;a:{var e=new Yb(d);cg(D(a),e,b);for(var a=C(E(a)),f=null,g=0,h=0;;)if(h<g){var l=f.P(null,h);Ib(e," ");cg(l,e,b);h+=1}else if(a=C(a))f=a,id(f)?(a=Qb(f),g=Rb(f),f=a,l=I(a),a=g,g=l):(l=D(f),Ib(e," "),cg(l,e,b),a=E(f),f=null,g=0),h=0;else break a}b=
""+c(d)}}return b}
var kg=function kg(a){if(null==a)return null;if(null!=a?a.yc||(a.Mc?0:Qa(hg,a)):Qa(hg,a))return ig(a);if(a instanceof K)return Ed(a);if(a instanceof jc)return""+x(a);if(gd(a)){var c={};a=C(a);for(var d=null,e=0,f=0;;)if(f<e){var g=d.P(null,f),h=J(g,0,null),g=J(g,1,null);c[jg(h)]=kg(g);f+=1}else if(a=C(a))id(a)?(e=Qb(a),a=Rb(a),d=e,e=I(e)):(e=D(a),d=J(e,0,null),e=J(e,1,null),c[jg(d)]=kg(e),a=E(a),d=null,e=0),f=0;else break;return c}if(null==a?0:null!=a?a.i&8||a.ed||(a.i?0:Qa(Za,a)):Qa(Za,a)){c=[];
a=C(pe.a(kg,a));d=null;for(f=e=0;;)if(f<e)h=d.P(null,f),c.push(h),f+=1;else if(a=C(a))d=a,id(d)?(a=Qb(d),f=Rb(d),d=a,e=I(a),a=f):(a=D(d),c.push(a),a=E(d),d=null,e=0),f=0;else break;return c}return a},lg=null;function mg(){if(null==lg){var b=new Ha(null,3,[ng,de,og,de,pg,de],null);lg=ke?ke(b):je.call(null,b)}return lg}
function qg(b,a,c){var d=pc.a(a,c);if(!d&&!(d=nd(pg.b(b).call(null,a),c))&&(d=hd(c))&&(d=hd(a)))if(d=I(c)===I(a))for(var d=!0,e=0;;)if(d&&e!==I(c))d=qg(b,a.b?a.b(e):a.call(null,e),c.b?c.b(e):c.call(null,e)),e+=1;else return d;else return d;else return d}function rg(b){var a;a=mg();a=G.b?G.b(a):G.call(null,a);return Xd(B.a(ng.b(a),b))}function sg(b,a,c,d){oe.a(b,function(){return G.b?G.b(a):G.call(null,a)});oe.a(c,function(){return G.b?G.b(d):G.call(null,d)})}
var tg=function tg(a,c,d){var e=(G.b?G.b(d):G.call(null,d)).call(null,a),e=w(w(e)?e.b?e.b(c):e.call(null,c):e)?!0:null;if(w(e))return e;e=function(){for(var b=rg(c);;)if(0<I(b))tg(a,D(b),d),b=nc(b);else return null}();if(w(e))return e;e=function(){for(var b=rg(a);;)if(0<I(b))tg(D(b),c,d),b=nc(b);else return null}();return w(e)?e:!1};function ug(b,a,c){c=tg(b,a,c);if(w(c))b=c;else{c=qg;var d;d=mg();d=G.b?G.b(d):G.call(null,d);b=c(d,b,a)}return b}
var vg=function vg(a,c,d,e,f,g,h){var l=od(function(b,e){var g=J(e,0,null);J(e,1,null);if(qg(G.b?G.b(d):G.call(null,d),c,g)){var h;h=(h=null==b)?h:ug(g,D(b),f);h=w(h)?e:b;if(!w(ug(D(h),g,f)))throw Error([x("Multiple methods in multimethod '"),x(a),x("' match dispatch value: "),x(c),x(" -\x3e "),x(g),x(" and "),x(D(h)),x(", and neither is preferred")].join(""));return h}return b},null,G.b?G.b(e):G.call(null,e));if(w(l)){if(pc.a(G.b?G.b(h):G.call(null,h),G.b?G.b(d):G.call(null,d)))return oe.w(g,Yc,
c,D(E(l))),D(E(l));sg(g,e,h,d);return vg(a,c,d,e,f,g,h)}return null};function wg(b,a){throw Error([x("No method in multimethod '"),x(b),x("' for dispatch value: "),x(a)].join(""));}function xg(b,a,c,d,e,f,g,h){this.name=b;this.h=a;this.Nc=c;this.zb=d;this.nb=e;this.Yc=f;this.Cb=g;this.qb=h;this.i=4194305;this.A=4352}k=xg.prototype;
k.call=function(){function b(a,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F,N,Z){a=this;var ja=Wd(a.h,b,c,d,e,Pc([f,g,h,l,m,n,p,r,q,v,u,y,z,A,F,N,Z],0)),Se=yg(this,ja);w(Se)||wg(a.name,ja);return Wd(Se,b,c,d,e,Pc([f,g,h,l,m,n,p,r,q,v,u,y,z,A,F,N,Z],0))}function a(a,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F,N){a=this;var Z=a.h.ia?a.h.ia(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F,N):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F,N),ja=yg(this,Z);w(ja)||wg(a.name,Z);return ja.ia?ja.ia(b,c,d,e,f,g,h,l,m,n,p,r,q,
v,u,y,z,A,F,N):ja.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F,N)}function c(a,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F){a=this;var N=a.h.ha?a.h.ha(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F),Z=yg(this,N);w(Z)||wg(a.name,N);return Z.ha?Z.ha(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F):Z.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A,F)}function d(a,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A){a=this;var F=a.h.ga?a.h.ga(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A):a.h.call(null,
b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A),N=yg(this,F);w(N)||wg(a.name,F);return N.ga?N.ga(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A):N.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z,A)}function e(a,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z){a=this;var A=a.h.fa?a.h.fa(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z),F=yg(this,A);w(F)||wg(a.name,A);return F.fa?F.fa(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z):F.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y,z)}function f(a,b,c,d,e,f,g,h,l,m,n,p,r,q,
v,u,y){a=this;var z=a.h.ea?a.h.ea(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y),A=yg(this,z);w(A)||wg(a.name,z);return A.ea?A.ea(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y):A.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u,y)}function g(a,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u){a=this;var y=a.h.da?a.h.da(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v,u),z=yg(this,y);w(z)||wg(a.name,y);return z.da?z.da(b,c,d,e,f,g,h,l,m,n,p,r,q,v,u):z.call(null,b,c,d,e,f,g,h,l,m,n,p,
r,q,v,u)}function h(a,b,c,d,e,f,g,h,l,m,n,p,r,q,v){a=this;var u=a.h.ca?a.h.ca(b,c,d,e,f,g,h,l,m,n,p,r,q,v):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v),y=yg(this,u);w(y)||wg(a.name,u);return y.ca?y.ca(b,c,d,e,f,g,h,l,m,n,p,r,q,v):y.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q,v)}function l(a,b,c,d,e,f,g,h,l,m,n,p,r,q){a=this;var v=a.h.ba?a.h.ba(b,c,d,e,f,g,h,l,m,n,p,r,q):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,r,q),u=yg(this,v);w(u)||wg(a.name,v);return u.ba?u.ba(b,c,d,e,f,g,h,l,m,n,p,r,q):u.call(null,b,c,d,e,f,
g,h,l,m,n,p,r,q)}function m(a,b,c,d,e,f,g,h,l,m,n,p,r){a=this;var q=a.h.aa?a.h.aa(b,c,d,e,f,g,h,l,m,n,p,r):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p,r),v=yg(this,q);w(v)||wg(a.name,q);return v.aa?v.aa(b,c,d,e,f,g,h,l,m,n,p,r):v.call(null,b,c,d,e,f,g,h,l,m,n,p,r)}function n(a,b,c,d,e,f,g,h,l,m,n,p){a=this;var r=a.h.$?a.h.$(b,c,d,e,f,g,h,l,m,n,p):a.h.call(null,b,c,d,e,f,g,h,l,m,n,p),q=yg(this,r);w(q)||wg(a.name,r);return q.$?q.$(b,c,d,e,f,g,h,l,m,n,p):q.call(null,b,c,d,e,f,g,h,l,m,n,p)}function q(a,b,c,d,
e,f,g,h,l,m,n){a=this;var p=a.h.Z?a.h.Z(b,c,d,e,f,g,h,l,m,n):a.h.call(null,b,c,d,e,f,g,h,l,m,n),r=yg(this,p);w(r)||wg(a.name,p);return r.Z?r.Z(b,c,d,e,f,g,h,l,m,n):r.call(null,b,c,d,e,f,g,h,l,m,n)}function p(a,b,c,d,e,f,g,h,l,m){a=this;var n=a.h.ma?a.h.ma(b,c,d,e,f,g,h,l,m):a.h.call(null,b,c,d,e,f,g,h,l,m),p=yg(this,n);w(p)||wg(a.name,n);return p.ma?p.ma(b,c,d,e,f,g,h,l,m):p.call(null,b,c,d,e,f,g,h,l,m)}function r(a,b,c,d,e,f,g,h,l){a=this;var m=a.h.la?a.h.la(b,c,d,e,f,g,h,l):a.h.call(null,b,c,d,
e,f,g,h,l),n=yg(this,m);w(n)||wg(a.name,m);return n.la?n.la(b,c,d,e,f,g,h,l):n.call(null,b,c,d,e,f,g,h,l)}function v(a,b,c,d,e,f,g,h){a=this;var l=a.h.ka?a.h.ka(b,c,d,e,f,g,h):a.h.call(null,b,c,d,e,f,g,h),m=yg(this,l);w(m)||wg(a.name,l);return m.ka?m.ka(b,c,d,e,f,g,h):m.call(null,b,c,d,e,f,g,h)}function u(a,b,c,d,e,f,g){a=this;var h=a.h.ja?a.h.ja(b,c,d,e,f,g):a.h.call(null,b,c,d,e,f,g),l=yg(this,h);w(l)||wg(a.name,h);return l.ja?l.ja(b,c,d,e,f,g):l.call(null,b,c,d,e,f,g)}function y(a,b,c,d,e,f){a=
this;var g=a.h.I?a.h.I(b,c,d,e,f):a.h.call(null,b,c,d,e,f),h=yg(this,g);w(h)||wg(a.name,g);return h.I?h.I(b,c,d,e,f):h.call(null,b,c,d,e,f)}function A(a,b,c,d,e){a=this;var f=a.h.w?a.h.w(b,c,d,e):a.h.call(null,b,c,d,e),g=yg(this,f);w(g)||wg(a.name,f);return g.w?g.w(b,c,d,e):g.call(null,b,c,d,e)}function F(a,b,c,d){a=this;var e=a.h.c?a.h.c(b,c,d):a.h.call(null,b,c,d),f=yg(this,e);w(f)||wg(a.name,e);return f.c?f.c(b,c,d):f.call(null,b,c,d)}function N(a,b,c){a=this;var d=a.h.a?a.h.a(b,c):a.h.call(null,
b,c),e=yg(this,d);w(e)||wg(a.name,d);return e.a?e.a(b,c):e.call(null,b,c)}function Z(a,b){a=this;var c=a.h.b?a.h.b(b):a.h.call(null,b),d=yg(this,c);w(d)||wg(a.name,c);return d.b?d.b(b):d.call(null,b)}function ja(a){a=this;var b=a.h.m?a.h.m():a.h.call(null),c=yg(this,b);w(c)||wg(a.name,b);return c.m?c.m():c.call(null)}var z=null,z=function(z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca,Da,Pa,Ya,db,kb,wb,mc,Nc,dd){switch(arguments.length){case 1:return ja.call(this,z);case 2:return Z.call(this,z,M);case 3:return N.call(this,
z,M,S);case 4:return F.call(this,z,M,S,P);case 5:return A.call(this,z,M,S,P,Y);case 6:return y.call(this,z,M,S,P,Y,W);case 7:return u.call(this,z,M,S,P,Y,W,L);case 8:return v.call(this,z,M,S,P,Y,W,L,Q);case 9:return r.call(this,z,M,S,P,Y,W,L,Q,O);case 10:return p.call(this,z,M,S,P,Y,W,L,Q,O,na);case 11:return q.call(this,z,M,S,P,Y,W,L,Q,O,na,ua);case 12:return n.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za);case 13:return m.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca);case 14:return l.call(this,z,M,S,P,Y,W,L,
Q,O,na,ua,za,Ca,Da);case 15:return h.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca,Da,Pa);case 16:return g.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca,Da,Pa,Ya);case 17:return f.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca,Da,Pa,Ya,db);case 18:return e.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca,Da,Pa,Ya,db,kb);case 19:return d.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca,Da,Pa,Ya,db,kb,wb);case 20:return c.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca,Da,Pa,Ya,db,kb,wb,mc);case 21:return a.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,
Ca,Da,Pa,Ya,db,kb,wb,mc,Nc);case 22:return b.call(this,z,M,S,P,Y,W,L,Q,O,na,ua,za,Ca,Da,Pa,Ya,db,kb,wb,mc,Nc,dd)}throw Error("Invalid arity: "+arguments.length);};z.b=ja;z.a=Z;z.c=N;z.w=F;z.I=A;z.ja=y;z.ka=u;z.la=v;z.ma=r;z.Z=p;z.$=q;z.aa=n;z.ba=m;z.ca=l;z.da=h;z.ea=g;z.fa=f;z.ga=e;z.ha=d;z.ia=c;z.Tb=a;z.rb=b;return z}();k.apply=function(b,a){return this.call.apply(this,[this].concat(Ua(a)))};
k.m=function(){var b=this.h.m?this.h.m():this.h.call(null),a=yg(this,b);w(a)||wg(this.name,b);return a.m?a.m():a.call(null)};k.b=function(b){var a=this.h.b?this.h.b(b):this.h.call(null,b),c=yg(this,a);w(c)||wg(this.name,a);return c.b?c.b(b):c.call(null,b)};k.a=function(b,a){var c=this.h.a?this.h.a(b,a):this.h.call(null,b,a),d=yg(this,c);w(d)||wg(this.name,c);return d.a?d.a(b,a):d.call(null,b,a)};
k.c=function(b,a,c){var d=this.h.c?this.h.c(b,a,c):this.h.call(null,b,a,c),e=yg(this,d);w(e)||wg(this.name,d);return e.c?e.c(b,a,c):e.call(null,b,a,c)};k.w=function(b,a,c,d){var e=this.h.w?this.h.w(b,a,c,d):this.h.call(null,b,a,c,d),f=yg(this,e);w(f)||wg(this.name,e);return f.w?f.w(b,a,c,d):f.call(null,b,a,c,d)};k.I=function(b,a,c,d,e){var f=this.h.I?this.h.I(b,a,c,d,e):this.h.call(null,b,a,c,d,e),g=yg(this,f);w(g)||wg(this.name,f);return g.I?g.I(b,a,c,d,e):g.call(null,b,a,c,d,e)};
k.ja=function(b,a,c,d,e,f){var g=this.h.ja?this.h.ja(b,a,c,d,e,f):this.h.call(null,b,a,c,d,e,f),h=yg(this,g);w(h)||wg(this.name,g);return h.ja?h.ja(b,a,c,d,e,f):h.call(null,b,a,c,d,e,f)};k.ka=function(b,a,c,d,e,f,g){var h=this.h.ka?this.h.ka(b,a,c,d,e,f,g):this.h.call(null,b,a,c,d,e,f,g),l=yg(this,h);w(l)||wg(this.name,h);return l.ka?l.ka(b,a,c,d,e,f,g):l.call(null,b,a,c,d,e,f,g)};
k.la=function(b,a,c,d,e,f,g,h){var l=this.h.la?this.h.la(b,a,c,d,e,f,g,h):this.h.call(null,b,a,c,d,e,f,g,h),m=yg(this,l);w(m)||wg(this.name,l);return m.la?m.la(b,a,c,d,e,f,g,h):m.call(null,b,a,c,d,e,f,g,h)};k.ma=function(b,a,c,d,e,f,g,h,l){var m=this.h.ma?this.h.ma(b,a,c,d,e,f,g,h,l):this.h.call(null,b,a,c,d,e,f,g,h,l),n=yg(this,m);w(n)||wg(this.name,m);return n.ma?n.ma(b,a,c,d,e,f,g,h,l):n.call(null,b,a,c,d,e,f,g,h,l)};
k.Z=function(b,a,c,d,e,f,g,h,l,m){var n=this.h.Z?this.h.Z(b,a,c,d,e,f,g,h,l,m):this.h.call(null,b,a,c,d,e,f,g,h,l,m),q=yg(this,n);w(q)||wg(this.name,n);return q.Z?q.Z(b,a,c,d,e,f,g,h,l,m):q.call(null,b,a,c,d,e,f,g,h,l,m)};k.$=function(b,a,c,d,e,f,g,h,l,m,n){var q=this.h.$?this.h.$(b,a,c,d,e,f,g,h,l,m,n):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n),p=yg(this,q);w(p)||wg(this.name,q);return p.$?p.$(b,a,c,d,e,f,g,h,l,m,n):p.call(null,b,a,c,d,e,f,g,h,l,m,n)};
k.aa=function(b,a,c,d,e,f,g,h,l,m,n,q){var p=this.h.aa?this.h.aa(b,a,c,d,e,f,g,h,l,m,n,q):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q),r=yg(this,p);w(r)||wg(this.name,p);return r.aa?r.aa(b,a,c,d,e,f,g,h,l,m,n,q):r.call(null,b,a,c,d,e,f,g,h,l,m,n,q)};k.ba=function(b,a,c,d,e,f,g,h,l,m,n,q,p){var r=this.h.ba?this.h.ba(b,a,c,d,e,f,g,h,l,m,n,q,p):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p),v=yg(this,r);w(v)||wg(this.name,r);return v.ba?v.ba(b,a,c,d,e,f,g,h,l,m,n,q,p):v.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p)};
k.ca=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r){var v=this.h.ca?this.h.ca(b,a,c,d,e,f,g,h,l,m,n,q,p,r):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r),u=yg(this,v);w(u)||wg(this.name,v);return u.ca?u.ca(b,a,c,d,e,f,g,h,l,m,n,q,p,r):u.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r)};
k.da=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v){var u=this.h.da?this.h.da(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v),y=yg(this,u);w(y)||wg(this.name,u);return y.da?y.da(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v):y.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v)};
k.ea=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u){var y=this.h.ea?this.h.ea(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u),A=yg(this,y);w(A)||wg(this.name,y);return A.ea?A.ea(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u):A.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u)};
k.fa=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y){var A=this.h.fa?this.h.fa(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y),F=yg(this,A);w(F)||wg(this.name,A);return F.fa?F.fa(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y):F.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y)};
k.ga=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A){var F=this.h.ga?this.h.ga(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A),N=yg(this,F);w(N)||wg(this.name,F);return N.ga?N.ga(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A):N.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A)};
k.ha=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F){var N=this.h.ha?this.h.ha(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F),Z=yg(this,N);w(Z)||wg(this.name,N);return Z.ha?Z.ha(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F):Z.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F)};
k.ia=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N){var Z=this.h.ia?this.h.ia(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N):this.h.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N),ja=yg(this,Z);w(ja)||wg(this.name,Z);return ja.ia?ja.ia(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N):ja.call(null,b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N)};
k.Tb=function(b,a,c,d,e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z){var ja=Wd(this.h,b,a,c,d,Pc([e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z],0)),z=yg(this,ja);w(z)||wg(this.name,ja);return Wd(z,b,a,c,d,Pc([e,f,g,h,l,m,n,q,p,r,v,u,y,A,F,N,Z],0))};function zg(b,a,c){oe.w(b.nb,Yc,a,c);sg(b.Cb,b.nb,b.qb,b.zb)}
function yg(b,a){pc.a(G.b?G.b(b.qb):G.call(null,b.qb),G.b?G.b(b.zb):G.call(null,b.zb))||sg(b.Cb,b.nb,b.qb,b.zb);var c=(G.b?G.b(b.Cb):G.call(null,b.Cb)).call(null,a);if(w(c))return c;c=vg(b.name,a,b.zb,b.nb,b.Yc,b.Cb,b.qb);return w(c)?c:(G.b?G.b(b.nb):G.call(null,b.nb)).call(null,b.Nc)}k.sb=function(){return Tb(this.name)};k.tb=function(){return Ub(this.name)};k.O=function(){return this[ca]||(this[ca]=++da)};var Ag=new K(null,"y","y",-1757859776),Bg=new K(null,"shift","shift",997140064),Cg=new K(null,"dleft","dleft",-905011424),Dg=new K(null,"mouseup","mouseup",350619456),Eg=new K(null,"dpad-up","dpad-up",-581516384),Fg=new K(null,"tiling","tiling",-1693991967),Gg=new K(null,"nearest","nearest",1176353890),Hg=new K(null,"down","down",1565245570),Ig=new K(null,"origins","origins",-1970258462),Jg=new K(null,"fullscreen-fn","fullscreen-fn",1444163170),Kg=new K(null,"space","space",348133475),Lg=new K(null,
"dright","dright",142530659),Mg=new K(null,"home","home",-74557309),Ng=new K(null,"xbox","xbox",568763555),Og=new K(null,"touchmove","touchmove",1885249923),Pg=new K(null,"insert","insert",1286475395),Qg=new K(null,"f8","f8",-2141475484),Rg=new K(null,"rotation","rotation",-1728051644),Ka=new K(null,"meta","meta",1499536964),Wg=new K(null,"stage","stage",1843544772),ce=new jc(null,"meta24390","meta24390",1573897092,null),Xg=new K(null,"f1","f1",1714532389),Yg=new K(null,"left-dpad","left-dpad",-636533659),
Zg=new K(null,"bumper-right","bumper-right",-1259439995),$g=new jc(null,"blockable","blockable",-28395259,null),La=new K(null,"dup","dup",556298533),ah=new K(null,"buttonmode","buttonmode",-1800695483),bh=new K(null,"f10","f10",627525541),ch=new K(null,"A","A",-1688942394),dh=new K(null,"tl","tl",-35265210),eh=new K(null,"private","private",-558947994),fh=new K(null,"render-fn","render-fn",398796518),gh=new K(null,"alt","alt",-3214426),hh=new K(null,"trigger-right","trigger-right",840073158),ih=new K(null,
"scale","scale",-230427353),jh=new K(null,"top","top",-1856271961),kh=new K(null,"esc","esc",-1671924121),lh=new K(null,"right-dpad","right-dpad",1479486183),me=new K(null,"validator","validator",-1966190681),mh=new K(null,"highlight","highlight",-800930873),nh=new K(null,"fade-out","fade-out",-1200160760),oh=new K(null,"default","default",-1987822328),ph=new K(null,"finally-block","finally-block",832982472),qh=new K(null,"comma","comma",1699024745),rh=new K(null,"tr","tr",-1424774646),sh=new K(null,
"bl","bl",8157834),th=new K(null,"numlock","numlock",-1383996470),uh=new K(null,"ddown","ddown",-1732626293),vh=new K(null,"width","width",-384071477),wh=new K(null,"start","start",-355208981),xh=new K(null,"background","background",-863952629),yh=new K(null,"lowlight-width","lowlight-width",-984309493),zh=new K(null,"left-trigger","left-trigger",-1587109429),Ah=new K(null,"f5","f5",1587057387),Bh=new K(null,"pageup","pageup",1714543403),gg=new K(null,"val","val",128701612),U=new K(null,"recur","recur",
-437573268),Ch=new K(null,"B","B",-1422503380),Dh=new K(null,"catch-block","catch-block",1175212748),Eh=new K(null,"delete","delete",-1768633620),Fh=new K(null,"duration","duration",1444101068),fg=new K(null,"fallback-impl","fallback-impl",-1501286995),Ia=new K(null,"flush-on-newline","flush-on-newline",-151457939),Gh=new K(null,"/","/",1282502798),Hh=new jc(null,"meta26625","meta26625",-933095090,null),Ih=new K(null,"dpad-down","dpad-down",976289230),Jh=new K(null,"dpad-left","dpad-left",770792559),
Kh=new K(null,"up","up",-269712113),og=new K(null,"descendants","descendants",1824886031),Lh=new K(null,"canvas","canvas",-1798817489),Mh=new K(null,"renderer","renderer",336841071),Nh=new K(null,"tint","tint",-1286736913),Oh=new K(null,"center","center",-748944368),Ph=new K(null,"down-dpad","down-dpad",355273744),Qh=new K(null,"enter","enter",1792452624),pg=new K(null,"ancestors","ancestors",-776045424),Rh=new K(null,"backtick","backtick",44770640),Sh=new K(null,"rb","rb",1673817808),Ja=new K(null,
"readably","readably",1129599760),Th=new jc(null,"box","box",-1123515375,null),Xf=new K(null,"more-marker","more-marker",-14717935),Uh=new K(null,"world","world",-418292623),Vh=new K(null,"f11","f11",-1417398799),Wh=new K(null,"right-bumper","right-bumper",102520465),Xh=new K(null,"mousemove","mousemove",-1077794734),Zh=new K(null,"right-trigger","right-trigger",-1735119790),$h=new K(null,"border-width","border-width",-1512605390),ai=new K(null,"border-colour","border-colour",-173895822),bi=new K(null,
"lb","lb",-690221037),ci=new K(null,"layer","layer",-1601820589),di=new K(null,"tilemap","tilemap",407449043),ei=new K(null,".",".",335144435),fi=new K(null,"f3","f3",1954829043),gi=new jc(null,"val","val",1769233139,null),hi=new K(null,"quote","quote",-262615245),ii=new K(null,"ui","ui",-469653645),ji=new K(null,"tiling-width","tiling-width",-97440781),Ma=new K(null,"print-length","print-length",1931866356),ki=new K(null,"empty-colour","empty-colour",-1488420524),li=new K(null,"foo","foo",1268894036),
mi=new K(null,"f2","f2",396168596),ni=new K(null,"Y","Y",-560717356),oi=new K(null,"back","back",-417520012),pi=new K(null,"control","control",1892578036),qi=new K(null,"rt","rt",623480692),ri=new K(null,"yhandle","yhandle",608395252),si=new K(null,"catch-exception","catch-exception",-1997306795),ti=new K(null,"squareleft","squareleft",-1212370731),ui=new jc(null,"meta27696","meta27696",-711450283,null),vi=new K(null,"dpad-right","dpad-right",-519676523),wi=new K(null,"touchup","touchup",890910229),
ng=new K(null,"parents","parents",-2027538891),xi=new K(null,"scrolllock","scrolllock",-960203019),yi=new K(null,"prev","prev",-1597069226),zi=new K(null,"tiling-height","tiling-height",-1474681674),Ai=new K(null,"f12","f12",853352790),Bi=new K(null,"capslock","capslock",442493366),Ci=new K(null,"continue-block","continue-block",-1852047850),Di=new K(null,"b","b",1482224470),Ei=new K(null,"alpha","alpha",-1574982441),Fi=new K(null,"right","right",-452581833),cj=new K(null,"expand-fn","expand-fn",
492373783),dj=new K(null,"trigger-left","trigger-left",1924771607),ej=new K(null,"default-layer","default-layer",385967031),fj=new K(null,"layers","layers",1944875032),gj=new K(null,"pagedown","pagedown",-2069718984),hj=new K(null,"position","position",-2011731912),ij=new K(null,"highlight-width","highlight-width",1191874776),jj=new K(null,"image","image",-58725096),kj=new K(null,"lowlight","lowlight",2143243768),lj=new K(null,"tiles","tiles",178505240),mj=new K(null,"pause","pause",-2095325672),
nj=new K(null,"br","br",934104792),oj=new K(null,"backspace","backspace",-696007848),pj=new K(null,"f7","f7",356150168),qj=new K(null,"X","X",1705996313),rj=new K(null,"x","x",2099068185),sj=new K(null,"effect","effect",347343289),tj=new K(null,"bumper-left","bumper-left",316788185),uj=new K(null,"audio","audio",1819127321),vj=new K(null,"engine","engine",1459054265),wj=new K(null,"linear","linear",872268697),xj=new K(null,"touchupoutside","touchupoutside",2132569017),yj=new K(null,"lowlight-offset",
"lowlight-offset",-612034438),zj=new K(null,"draw-border","draw-border",-1950022342),Aj=new K(null,"left-bumper","left-bumper",2056098138),be=new jc(null,"quote","quote",1377916282,null),Bj=new K(null,"above","above",-1286866470),Cj=new K(null,"f9","f9",704633338),Dj=new K(null,"end","end",-268185958),Ej=new K(null,"full-colour","full-colour",50761434),Fj=new K(null,"mousedown","mousedown",1391242074),$d=new K(null,"arglists","arglists",1661989754),Zd=new jc(null,"nil-iter","nil-iter",1101030523,
null),Gj=new K(null,"visible","visible",-1024216805),Hj=new K(null,"hierarchy","hierarchy",-1053470341),Ij=new K(null,"tab","tab",-559583621),Jj=new K(null,"down-right","down-right",1213350619),eg=new K(null,"alt-impl","alt-impl",670969595),Kj=new K(null,"backdrop","backdrop",-1291357381),Lj=new K(null,"bg","bg",-206688421),Mj=new K(null,"lt","lt",421989243),Nj=new jc(null,"fn-handler","fn-handler",648785851,null),Oj=new K(null,"prevent-defaults","prevent-defaults",977810460),Pj=new jc(null,"meta27550",
"meta27550",408550492,null),Qj=new K(null,"f6","f6",2103080604),Rj=new K(null,"auto","auto",-566279492),Sj=new K(null,"mouseupoutside","mouseupoutside",190065436),Tj=new K(null,"f4","f4",990968764),Uj=new K(null,"expand","expand",595248157),Vj=new K(null,"below","below",-926774883),Wj=new K(null,"touchdown","touchdown",425229502),Xj=new K(null,"fullscreen-button","fullscreen-button",1597770110),Yj=new K(null,"resize-fn","resize-fn",2017140158),Zj=new K(null,"a","a",-2123407586),ak=new K(null,"highlight-offset",
"highlight-offset",-1920235650),bk=new K(null,"up-right","up-right",-546303106),ck=new K(null,"backslash","backslash",1790786526),dk=new K(null,"height","height",1025178622),ek=new K(null,"left","left",-399115937),fk=new K(null,"squareright","squareright",1890515359),gk=new K(null,"up-dpad","up-dpad",-1769393697),hk=new K(null,"fade-in","fade-in",999370239),ik=new K(null,"xhandle","xhandle",373504767),jk=new jc(null,"f","f",43394975,null);var kk,lk=function lk(a,c){if(null!=a&&null!=a.Yb)return a.Yb(0,c);var d=lk[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=lk._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("ReadPort.take!",a);},mk=function mk(a,c,d){if(null!=a&&null!=a.Zb)return a.Zb(0,c,d);var e=mk[t(null==a?null:a)];if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);e=mk._;if(null!=e)return e.c?e.c(a,c,d):e.call(null,a,c,d);throw Ra("WritePort.put!",a);},nk=function nk(a){if(null!=a&&null!=a.Jb)return a.Jb();
var c=nk[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=nk._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("Channel.close!",a);},ok=function ok(a){if(null!=a&&null!=a.nc)return!0;var c=ok[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=ok._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("Handler.active?",a);},pk=function pk(a){if(null!=a&&null!=a.oc)return a.Ea;var c=pk[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=pk._;if(null!=c)return c.b?
c.b(a):c.call(null,a);throw Ra("Handler.commit",a);},qk=function qk(a,c){if(null!=a&&null!=a.mc)return a.mc(0,c);var d=qk[t(null==a?null:a)];if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);d=qk._;if(null!=d)return d.a?d.a(a,c):d.call(null,a,c);throw Ra("Buffer.add!*",a);},rk=function rk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return rk.b(arguments[0]);case 2:return rk.a(arguments[0],arguments[1]);default:throw Error([x("Invalid arity: "),
x(c.length)].join(""));}};rk.b=function(b){return b};rk.a=function(b,a){if(null==a)throw Error("Assert failed: (not (nil? itm))");return qk(b,a)};rk.F=2;function sk(b,a,c,d,e){for(var f=0;;)if(f<e)c[d+f]=b[a+f],f+=1;else break}function tk(b,a,c,d){this.head=b;this.H=a;this.length=c;this.f=d}tk.prototype.pop=function(){if(0===this.length)return null;var b=this.f[this.H];this.f[this.H]=null;this.H=(this.H+1)%this.f.length;--this.length;return b};tk.prototype.unshift=function(b){this.f[this.head]=b;this.head=(this.head+1)%this.f.length;this.length+=1;return null};function uk(b,a){b.length+1===b.f.length&&b.resize();b.unshift(a)}
tk.prototype.resize=function(){var b=Array(2*this.f.length);return this.H<this.head?(sk(this.f,this.H,b,0,this.length),this.H=0,this.head=this.length,this.f=b):this.H>this.head?(sk(this.f,this.H,b,0,this.f.length-this.H),sk(this.f,0,b,this.f.length-this.H,this.head),this.H=0,this.head=this.length,this.f=b):this.H===this.head?(this.head=this.H=0,this.f=b):null};function vk(b,a){for(var c=b.length,d=0;;)if(d<c){var e=b.pop();(a.b?a.b(e):a.call(null,e))&&b.unshift(e);d+=1}else break}
function wk(b){if(!(0<b))throw Error([x("Assert failed: "),x("Can't create a ring buffer of size 0"),x("\n"),x("(\x3e n 0)")].join(""));return new tk(0,0,0,Array(b))}function xk(b,a){this.D=b;this.n=a;this.i=2;this.A=0}function yk(b){return b.D.length===b.n}xk.prototype.mc=function(b,a){uk(this.D,a);return this};xk.prototype.U=function(){return this.D.length};if("undefined"===typeof zk)var zk={};var Ak;a:{var Bk=aa.navigator;if(Bk){var Ck=Bk.userAgent;if(Ck){Ak=Ck;break a}}Ak=""};var Dk;
function Ek(){var b=aa.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==Ak.indexOf("Presto")&&(b=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=ga(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof b&&-1==Ak.indexOf("Trident")&&-1==Ak.indexOf("MSIE")){var a=new b,c={},d=c;a.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.fc;c.fc=null;a()}};return function(b){d.next={fc:b};d=d.next;a.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=
document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){aa.setTimeout(a,0)}};var Fk=wk(32),Gk=!1,Hk=!1;function Ik(){Gk=!0;Hk=!1;for(var b=0;;){var a=Fk.pop();if(null!=a&&(a.m?a.m():a.call(null),1024>b)){b+=1;continue}break}Gk=!1;return 0<Fk.length?Jk.m?Jk.m():Jk.call(null):null}function Jk(){var b=Hk;if(w(w(b)?Gk:b))return null;Hk=!0;"function"!=t(aa.setImmediate)||aa.Window&&aa.Window.prototype&&-1==Ak.indexOf("Edge")&&aa.Window.prototype.setImmediate==aa.setImmediate?(Dk||(Dk=Ek()),Dk(Ik)):aa.setImmediate(Ik)}function Kk(b){uk(Fk,b);Jk()};var Lk,Mk=function Mk(a){"undefined"===typeof Lk&&(Lk=function(a,b,e){this.vc=a;this.ua=b;this.Tc=e;this.i=425984;this.A=0},Lk.prototype.M=function(a,b){return new Lk(this.vc,this.ua,b)},Lk.prototype.K=function(){return this.Tc},Lk.prototype.Sb=function(){return this.ua},Lk.$b=function(){return new R(null,3,5,T,[Qc(Th,new Ha(null,1,[$d,zd(be,zd(new R(null,1,5,T,[gi],null)))],null)),gi,Hh],null)},Lk.xb=!0,Lk.bb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels26624",Lk.Kb=function(a,b){return Ib(b,
"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels26624")});return new Lk(Mk,a,de)};function Nk(b,a){this.yb=b;this.ua=a}function Ok(b){return ok(b.yb)}var Pk=function Pk(a){if(null!=a&&null!=a.lc)return a.lc();var c=Pk[t(null==a?null:a)];if(null!=c)return c.b?c.b(a):c.call(null,a);c=Pk._;if(null!=c)return c.b?c.b(a):c.call(null,a);throw Ra("MMC.abort",a);};function Qk(b,a,c,d,e,f,g){this.hb=b;this.Mb=a;this.Za=c;this.Lb=d;this.D=e;this.closed=f;this.Da=g}
Qk.prototype.lc=function(){for(;;){var b=this.Za.pop();if(null!=b){var a=b.yb;Kk(function(a){return function(){return a.b?a.b(!0):a.call(null,!0)}}(a.Ea,a,b.ua,b,this))}break}vk(this.Za,ge());return nk(this)};
Qk.prototype.Zb=function(b,a,c){var d=this;if(null==a)throw Error([x("Assert failed: "),x("Can't put nil in on a channel"),x("\n"),x("(not (nil? val))")].join(""));if(b=d.closed)return Mk(!b);if(w(function(){var a=d.D;return w(a)?Oa(yk(d.D)):a}())){for(c=xc(d.Da.a?d.Da.a(d.D,a):d.Da.call(null,d.D,a));;){if(0<d.hb.length&&0<I(d.D)){var e=d.hb.pop(),f=e.Ea,g=d.D.D.pop();Kk(function(a,b){return function(){return a.b?a.b(b):a.call(null,b)}}(f,g,e,c,b,this))}break}c&&Pk(this);return Mk(!0)}e=function(){for(;;){var a=
d.hb.pop();if(w(a)){if(w(!0))return a}else return null}}();if(w(e))return c=pk(e),Kk(function(b){return function(){return b.b?b.b(a):b.call(null,a)}}(c,e,b,this)),Mk(!0);64<d.Lb?(d.Lb=0,vk(d.Za,Ok)):d.Lb+=1;if(w(c.Xb(null))){if(!(1024>d.Za.length))throw Error([x("Assert failed: "),x([x("No more than "),x(1024),x(" pending puts are allowed on a single channel."),x(" Consider using a windowed buffer.")].join("")),x("\n"),x("(\x3c (.-length puts) impl/MAX-QUEUE-SIZE)")].join(""));uk(d.Za,new Nk(c,a))}return null};
Qk.prototype.Yb=function(b,a){var c=this;if(null!=c.D&&0<I(c.D)){for(var d=a.Ea,e=Mk(c.D.D.pop());;){if(!w(yk(c.D))){var f=c.Za.pop();if(null!=f){var g=f.yb,h=f.ua;Kk(function(a){return function(){return a.b?a.b(!0):a.call(null,!0)}}(g.Ea,g,h,f,d,e,this));xc(c.Da.a?c.Da.a(c.D,h):c.Da.call(null,c.D,h))&&Pk(this);continue}}break}return e}d=function(){for(;;){var a=c.Za.pop();if(w(a)){if(ok(a.yb))return a}else return null}}();if(w(d))return e=pk(d.yb),Kk(function(a){return function(){return a.b?a.b(!0):
a.call(null,!0)}}(e,d,this)),Mk(d.ua);if(w(c.closed))return w(c.D)&&(c.Da.b?c.Da.b(c.D):c.Da.call(null,c.D)),w(w(!0)?a.Ea:!0)?(d=function(){var a=c.D;return w(a)?0<I(c.D):a}(),d=w(d)?c.D.D.pop():null,Mk(d)):null;64<c.Mb?(c.Mb=0,vk(c.hb,ok)):c.Mb+=1;if(w(a.Xb(null))){if(!(1024>c.hb.length))throw Error([x("Assert failed: "),x([x("No more than "),x(1024),x(" pending takes are allowed on a single channel.")].join("")),x("\n"),x("(\x3c (.-length takes) impl/MAX-QUEUE-SIZE)")].join(""));uk(c.hb,a)}return null};
Qk.prototype.Jb=function(){var b=this;if(!b.closed)for(b.closed=!0,w(function(){var a=b.D;return w(a)?0===b.Za.length:a}())&&(b.Da.b?b.Da.b(b.D):b.Da.call(null,b.D));;){var a=b.hb.pop();if(null==a)break;else{var c=a.Ea,d=w(function(){var a=b.D;return w(a)?0<I(b.D):a}())?b.D.D.pop():null;Kk(function(a,b){return function(){return a.b?a.b(b):a.call(null,b)}}(c,d,a,this))}}return null};function Rk(b){console.log(b);return null}
function Sk(b,a){var c=(w(null)?null:Rk).call(null,a);return null==c?b:rk.a(b,c)}
function Tk(b){return new Qk(wk(32),0,wk(32),0,b,!1,function(){return function(a){return function(){function b(c,d){try{return a.a?a.a(c,d):a.call(null,c,d)}catch(e){return Sk(c,e)}}function d(b){try{return a.b?a.b(b):a.call(null,b)}catch(c){return Sk(b,c)}}var e=null,e=function(a,e){switch(arguments.length){case 1:return d.call(this,a);case 2:return b.call(this,a,e)}throw Error("Invalid arity: "+arguments.length);};e.b=d;e.a=b;return e}()}(w(null)?null.b?null.b(rk):null.call(null,rk):rk)}())};var Uk,Vk=function Vk(a){"undefined"===typeof Uk&&(Uk=function(a,b,e){this.Pc=a;this.Ea=b;this.Uc=e;this.i=393216;this.A=0},Uk.prototype.M=function(a,b){return new Uk(this.Pc,this.Ea,b)},Uk.prototype.K=function(){return this.Uc},Uk.prototype.nc=function(){return!0},Uk.prototype.Xb=function(){return!0},Uk.prototype.oc=function(){return this.Ea},Uk.$b=function(){return new R(null,3,5,T,[Qc(Nj,new Ha(null,2,[eh,!0,$d,zd(be,zd(new R(null,1,5,T,[jk],null)))],null)),jk,Pj],null)},Uk.xb=!0,Uk.bb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers27549",
Uk.Kb=function(a,b){return Ib(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers27549")});return new Uk(Vk,a,de)};function Wk(b){try{return b[0].call(null,b)}catch(a){throw a instanceof Object&&b[6].Jb(),a;}}function Xk(b,a,c){c=c.Yb(0,Vk(function(c){b[2]=c;b[1]=a;return Wk(b)}));return w(c)?(b[2]=G.b?G.b(c):G.call(null,c),b[1]=a,U):null}function Yk(b,a){var c=b[6];null!=a&&c.Zb(0,a,Vk(function(){return function(){return null}}(c)));c.Jb();return c}
function Zk(b,a,c,d,e,f,g,h){this.La=b;this.Ma=a;this.Oa=c;this.Na=d;this.Qa=e;this.Sa=f;this.Ba=g;this.u=h;this.i=2229667594;this.A=8192}k=Zk.prototype;k.R=function(b,a){return hb.c(this,a,null)};k.L=function(b,a,c){switch(a instanceof K?a.Ha:null){case "catch-block":return this.La;case "catch-exception":return this.Ma;case "finally-block":return this.Oa;case "continue-block":return this.Na;case "prev":return this.Qa;default:return B.c(this.Ba,a,c)}};
k.S=function(b,a,c){return Wf(a,function(){return function(b){return Wf(a,cg,""," ","",c,b)}}(this),"#cljs.core.async.impl.ioc-helpers.ExceptionFrame{",", ","}",c,Qd.a(new R(null,5,5,T,[new R(null,2,5,T,[Dh,this.La],null),new R(null,2,5,T,[si,this.Ma],null),new R(null,2,5,T,[ph,this.Oa],null),new R(null,2,5,T,[Ci,this.Na],null),new R(null,2,5,T,[yi,this.Qa],null)],null),this.Ba))};k.Ga=function(){return new We(0,this,5,new R(null,5,5,T,[Dh,si,ph,Ci,yi],null),Xb(this.Ba))};k.K=function(){return this.Sa};
k.U=function(){return 5+I(this.Ba)};k.O=function(){var b=this.u;if(null!=b)return b;a:for(var b=0,a=C(this);;)if(a)var c=D(a),b=(b+(hc(gf.b?gf.b(c):gf.call(null,c))^hc(hf.b?hf.b(c):hf.call(null,c))))%4503599627370496,a=E(a);else break a;return this.u=b};k.v=function(b,a){var c;c=w(a)?(c=this.constructor===a.constructor)?Ve(this,a):c:a;return w(c)?!0:!1};
k.Gb=function(b,a){return nd(new Qf(null,new Ha(null,5,[ph,null,Dh,null,si,null,yi,null,Ci,null],null),null),a)?$c.a(Qc(te.a(de,this),this.Sa),a):new Zk(this.La,this.Ma,this.Oa,this.Na,this.Qa,this.Sa,Xd($c.a(this.Ba,a)),null)};
k.jb=function(b,a,c){return w(Bd.a?Bd.a(Dh,a):Bd.call(null,Dh,a))?new Zk(c,this.Ma,this.Oa,this.Na,this.Qa,this.Sa,this.Ba,null):w(Bd.a?Bd.a(si,a):Bd.call(null,si,a))?new Zk(this.La,c,this.Oa,this.Na,this.Qa,this.Sa,this.Ba,null):w(Bd.a?Bd.a(ph,a):Bd.call(null,ph,a))?new Zk(this.La,this.Ma,c,this.Na,this.Qa,this.Sa,this.Ba,null):w(Bd.a?Bd.a(Ci,a):Bd.call(null,Ci,a))?new Zk(this.La,this.Ma,this.Oa,c,this.Qa,this.Sa,this.Ba,null):w(Bd.a?Bd.a(yi,a):Bd.call(null,yi,a))?new Zk(this.La,this.Ma,this.Oa,
this.Na,c,this.Sa,this.Ba,null):new Zk(this.La,this.Ma,this.Oa,this.Na,this.Qa,this.Sa,Yc.c(this.Ba,a,c),null)};k.V=function(){return C(Qd.a(new R(null,5,5,T,[new R(null,2,5,T,[Dh,this.La],null),new R(null,2,5,T,[si,this.Ma],null),new R(null,2,5,T,[ph,this.Oa],null),new R(null,2,5,T,[Ci,this.Na],null),new R(null,2,5,T,[yi,this.Qa],null)],null),this.Ba))};k.M=function(b,a){return new Zk(this.La,this.Ma,this.Oa,this.Na,this.Qa,a,this.Ba,this.u)};
k.T=function(b,a){return hd(a)?jb(this,bb.a(a,0),bb.a(a,1)):od($a,this,a)};function $k(b,a,c){b[4]=new Zk(null,null,a,c,b[4],null,null,null)}
function al(b){for(;;){var a=b[4],c=Dh.b(a),d=si.b(a),e=b[5];if(w(function(){var b=e;return w(b)?Oa(a):b}()))throw e;if(w(function(){var a=e;return w(a)?(a=c,w(a)?pc.a(oh,d)||e instanceof d:a):a}())){b[1]=c;b[2]=e;b[5]=null;b[4]=Yc.s(a,Dh,null,Pc([si,null],0));break}if(w(function(){var b=e;return w(b)?Oa(c)&&Oa(ph.b(a)):b}()))b[4]=yi.b(a);else{if(w(function(){var b=e;return w(b)?(b=Oa(c))?ph.b(a):b:b}())){b[1]=ph.b(a);b[4]=Yc.c(a,ph,null);break}if(w(function(){var b=Oa(e);return b?ph.b(a):b}())){b[1]=
ph.b(a);b[4]=Yc.c(a,ph,null);break}if(Oa(e)&&Oa(ph.b(a))){b[1]=Ci.b(a);b[4]=yi.b(a);break}throw Error("No matching clause");}}};for(var bl=Array(1),cl=0;;)if(cl<bl.length)bl[cl]=null,cl+=1;else break;function dl(b){"undefined"===typeof kk&&(kk=function(a,b,d){this.Ea=a;this.ec=b;this.Vc=d;this.i=393216;this.A=0},kk.prototype.M=function(a,b){return new kk(this.Ea,this.ec,b)},kk.prototype.K=function(){return this.Vc},kk.prototype.nc=function(){return!0},kk.prototype.Xb=function(){return this.ec},kk.prototype.oc=function(){return this.Ea},kk.$b=function(){return new R(null,3,5,T,[jk,$g,ui],null)},kk.xb=!0,kk.bb="cljs.core.async/t_cljs$core$async27695",kk.Kb=function(a,b){return Ib(b,"cljs.core.async/t_cljs$core$async27695")});
return new kk(b,!0,de)}function el(b){b=pc.a(b,0)?null:b;if(w(null)&&!w(b))throw Error([x("Assert failed: "),x("buffer must be supplied when transducer is"),x("\n"),x("buf-or-n")].join(""));b="number"===typeof b?new xk(wk(b),b):b;return Tk(b)}function fl(b,a){return gl(b,a)}function gl(b,a){var c=lk(b,dl(a));if(w(c)){var d=G.b?G.b(c):G.call(null,c);w(!0)?a.b?a.b(d):a.call(null,d):Kk(function(b){return function(){return a.b?a.b(b):a.call(null,b)}}(d,c))}return null}var hl=dl(function(){return null});
function il(b,a){var c=mk(b,a,hl);return w(c)?G.b?G.b(c):G.call(null,c):!0};if("undefined"===typeof jl)var jl=function(){var b=ke?ke(de):je.call(null,de),a=ke?ke(de):je.call(null,de),c=ke?ke(de):je.call(null,de),d=ke?ke(de):je.call(null,de),e=B.c(de,Hj,mg());return new xg(kc.a("infinitelives.utils.resources","load"),function(){return function(a){return Uc(a.split(".")).toLowerCase()}}(b,a,c,d,e),oh,e,b,a,c,d)}();
if("undefined"===typeof kl)var kl=function(){var b=ke?ke(de):je.call(null,de),a=ke?ke(de):je.call(null,de),c=ke?ke(de):je.call(null,de),d=ke?ke(de):je.call(null,de),e=B.c(de,Hj,mg());return new xg(kc.a("infinitelives.utils.resources","register!"),function(){return function(a){return Uc(a.split(".")).toLowerCase()}}(b,a,c,d,e),oh,e,b,a,c,d)}();
function ll(b,a){var c=el(null),d=I(b);Vf(pe.a(function(a,b){return function(c){return fl(jl.b?jl.b(c):jl.call(null,c),function(a){return function(b){return il(a,b)}}(a,b))}}(c,d),b));var e=el(1);Kk(function(b,c,d){return function(){var e=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!Bd(e,U)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,al(c),d=U;else throw f;}if(!Bd(d,U))return d}}function c(){var a=[null,null,null,null,null,null,
null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.m=c;d.b=b;return d}()}(function(b,c,d){return function(b){var e=b[1];if(7===e)return e=b[7],e=e<d,b[8]=b[2],b[1]=w(e)?8:9,U;if(1===e){var f=ff;b[7]=1;b[9]=f;b[2]=null;b[1]=2;return U}if(4===e){var f=b[10],g=b[11],f=b[9],g=b[2],e=J(g,0,null),g=J(g,1,null),h=kl.a?kl.a(e,g):kl.call(null,
e,g),f=Yc.c(f,e,h);b[12]=f;b[10]=g;b[11]=e;b[1]=w(a)?5:6;return U}return 6===e?(b[2]=null,b[1]=7,U):3===e?Yk(b,b[2]):2===e?Xk(b,4,c):9===e?(f=b[12],b[2]=f,b[1]=10,U):5===e?(f=b[10],e=b[7],g=b[11],e=a.w?a.w(e,d,g,f):a.call(null,e,d,g,f),b[2]=e,b[1]=7,U):10===e?(b[2]=b[2],b[1]=3,U):8===e?(f=b[12],e=b[7],b[7]=e+1,b[9]=f,b[2]=null,b[1]=2,U):null}}(b,c,d),b,c,d)}(),m=function(){var a=e.m?e.m():e.call(null);a[6]=b;return a}();return Wk(m)}}(e,c,d));return e};var ml=w(window.AudioContext)?new window.AudioContext:new window.webkitAudioContext;if("undefined"===typeof nl)var nl=ke?ke(de):je.call(null,de);function ol(b){var a=new XMLHttpRequest,c=el(null);a.open("GET",b,!0);a.responseType="arraybuffer";a.onload=function(a,c){return function(){return ml.decodeAudioData(a.response,function(a,c){return function(a){return il(c,new R(null,2,5,T,[b,a],null))}}(a,c))}}(a,c);a.send();return c}zg(jl,"ogg",function(b){return ol(b)});zg(jl,"mp3",function(b){return ol(b)});
zg(jl,"wav",function(b){return ol(b)});function pl(b,a){oe.w(nl,Yc,Dd.b(D(Uc(b.split("/")).split("."))),a);return new Ha(null,1,[uj,a],null)}zg(kl,"ogg",function(b,a){return pl(b,a)});zg(kl,"mp3",function(b,a){return pl(b,a)});zg(kl,"wav",function(b,a){return pl(b,a)});if("undefined"===typeof ql)var ql=!0;var rl=ke?ke(de):je.call(null,de);if("undefined"===typeof sl){var sl,tl=new Ha(null,1,[Oj,!0],null);sl=ke?ke(tl):je.call(null,tl)}
Of.s(Pc([Zc([Bg,Hg,Kg,Mg,Pg,Qg,Xg,bh,gh,kh,qh,th,Ah,Bh,Eh,Gh,Kh,Qh,Rh,Vh,ei,fi,hi,mi,pi,ti,xi,Ai,Bi,Fi,gj,mj,oj,pj,Cj,Dj,Ij,Qj,Tj,ck,ek,fk],[16,40,32,36,45,119,112,121,18,27,188,144,116,33,46,191,38,13,192,122,190,114,222,113,17,219,145,123,20,39,34,19,8,118,120,35,9,117,115,220,37,221]),function ul(a){return new Fd(null,function(){for(;;){var b=C(a);if(b){if(id(b)){var d=Qb(b),e=I(d),f=Jd(e);a:for(var g=0;;)if(g<e){var h=bb.a(d,g),h=new R(null,2,5,T,[Dd.b(""+x(h)),h.charCodeAt(0)-32],null);f.add(h);
g+=1}else{d=!0;break a}return d?Ld(f.ra(),ul(Rb(b))):Ld(f.ra(),null)}f=D(b);return Mc(new R(null,2,5,T,[Dd.b(""+x(f)),f.charCodeAt(0)-32],null),ul(nc(b)))}return null}},null,null)}("0123456789abcdefghijklmnopqrstuvwxyz"),function vl(a){return new Fd(null,function(){for(;;){var b=C(a);if(b){if(id(b)){var d=Qb(b),e=I(d),f=Jd(e);a:for(var g=0;;)if(g<e){var h=bb.a(d,g);f.add(new R(null,2,5,T,[h,h.charCodeAt(0)-32],null));g+=1}else{d=!0;break a}return d?Ld(f.ra(),vl(Rb(b))):Ld(f.ra(),null)}f=D(b);return Mc(new R(null,
2,5,T,[f,f.charCodeAt(0)-32],null),vl(nc(b)))}return null}},null,null)}("0123456789abcdefghijklmnopqrstuvwxyz,.;'[]-\x3d`/\\")],0));
var wl=w(window.requestAnimationFrame)?function(b){return window.requestAnimationFrame(b)}:w(window.webkitRequestAnimationFrame)?function(b){return window.webkitRequestAnimationFrame(b)}:w(window.mozRequestAnimationFrame)?function(b){return window.mozRequestAnimationFrame(b)}:w(window.oRequestAnimationFrame)?function(b){return window.oRequestAnimationFrame(b)}:w(window.msRequestAnimationFrame)?function(b){return window.msRequestAnimationFrame(b)}:function(b){return window.setTimeout(b,1E3/60)};
function xl(){var b=el(null),a=function(a){return function(){return nk(a)}}(b);wl.b?wl.b(a):wl.call(null,a);return b}var yl=ke?ke(Sf):je.call(null,Sf);function zl(){var b=el(null);oe.c(yl,Vc,b);return b}
var Al=ke?ke(Sf):je.call(null,Sf),Bl=function Bl(){wl.b?wl.b(Bl):wl.call(null,Bl);for(var a=C(G.b?G.b(Al):G.call(null,Al)),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);il(f,!0);e+=1}else if(a=C(a))c=a,id(c)?(a=Qb(c),d=Rb(c),c=a,f=I(a),a=d,d=f):(f=D(c),il(f,!0),a=E(c),c=null,d=0),e=0;else return null},Cl=w(navigator.getGamepads)?function(){return navigator.getGamepads.apply(navigator,Wc)}:w(navigator.wegkitGetGamepads)?function(){return navigator.webkitGetGamepads.apply(navigator,Wc)}:function(){return oc};
ke||je.call(null,null);ke||je.call(null,null);ke||je.call(null,null);ke||je.call(null,null);ke||je.call(null,Wc);ke||je.call(null,!1);window.addEventListener("keydown",function(b){oe.a(rl,function(a){return Yc.c(a,b.keyCode,!0)});return w(function(){if(w(ql)){var a=b.ctrlKey;return w(a)?b.shiftKey:a}return ql}())?!1:w(Oj.b(G.b?G.b(sl):G.call(null,sl)))?b.preventDefault():!1});
window.addEventListener("keyup",function(b){oe.a(rl,function(a){return $c.a(a,b.keyCode)});return w(Oj.b(G.b?G.b(sl):G.call(null,sl)))?b.preventDefault():!0});wl.b?wl.b(Bl):wl.call(null,Bl);window.addEventListener("resize",function(){for(var b=new R(null,2,5,T,[window.innerWidth,window.innerHeight],null),a=C(G.b?G.b(yl):G.call(null,yl)),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);il(f,b);e+=1}else if(a=C(a))c=a,id(c)?(a=Qb(c),d=Rb(c),c=a,f=I(a),a=d,d=f):(f=D(c),il(f,b),a=E(c),c=null,d=0),e=0;else return null});function Dl(b){this.length=b.length||b;for(var a=0;a<this.length;a++)this[a]=b[a]||0}Dl.prototype.BYTES_PER_ELEMENT=4;Dl.prototype.set=function(b,a){a=a||0;for(var c=0;c<b.length&&a+c<this.length;c++)this[a+c]=b[c]};Dl.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Dl.BYTES_PER_ELEMENT=4,Dl.prototype.BYTES_PER_ELEMENT=Dl.prototype.BYTES_PER_ELEMENT,Dl.prototype.set=Dl.prototype.set,Dl.prototype.toString=Dl.prototype.toString,ba("Float32Array",Dl));function El(b){this.length=b.length||b;for(var a=0;a<this.length;a++)this[a]=b[a]||0}El.prototype.BYTES_PER_ELEMENT=8;El.prototype.set=function(b,a){a=a||0;for(var c=0;c<b.length&&a+c<this.length;c++)this[a+c]=b[c]};El.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{El.BYTES_PER_ELEMENT=8}catch(b){}El.prototype.BYTES_PER_ELEMENT=El.prototype.BYTES_PER_ELEMENT;El.prototype.set=El.prototype.set;El.prototype.toString=El.prototype.toString;ba("Float64Array",El)};function Fl(){return new Float64Array(2)}function V(b,a){var c=Fl();c[0]=b;c[1]=a;return c};function Gl(b,a){var c=Fl.m?Fl.m():Fl.call(null);c[0]=b[0]+a[0];c[1]=b[1]+a[1];return c}function Hl(b,a){var c=Fl.m?Fl.m():Fl.call(null);c[0]=b[0]*a;c[1]=b[1]*a;return c};if("undefined"===typeof Il)var Il=ke?ke(de):je.call(null,de);function Jl(b){var a=(G.b?G.b(Il):G.call(null,Il)).call(null,b);if(w(a))return a;throw Error([x("Texture "),x(b),x(" not loaded")].join(""));}function Kl(b,a,c){var d=J(a,0,null);a=J(a,1,null);var e=J(c,0,null);c=J(c,1,null);return new PIXI.Texture(b,new PIXI.Rectangle(d,a,e,c))};function Ll(b,a){return new PIXI.Point(b,a)}
function Ml(b,a){var c=null!=a&&(a.i&64||a.Ca)?Td(le,a):a,d=B.a(c,xj),e=B.c(c,rj,0),f=B.a(c,Fj),g=B.c(c,Gj,!0),h=B.a(c,Sj),l=B.a(c,Wj),m=B.c(c,ik,.5),n=B.a(c,Dg),q=B.c(c,Ag,0),p=B.c(c,Fg,!1),r=B.a(c,Og),v=B.c(c,Rg,0),u=B.a(c,ah),y=B.c(c,ih,1),A=B.a(c,Nh),F=B.a(c,Xh),N=B.a(c,ji),Z=B.c(c,ri,.5),ja=B.a(c,wi),z=B.a(c,zi),c=B.c(c,Ei,1),p=w(p)?new PIXI.extras.TilingSprite(b instanceof K?Jl(b):b,N,z):new PIXI.Sprite(b instanceof K?Jl(b):b);if(!w(p))throw Error([x("Assert failed: "),x("creation of sprite failed and returned nil"),
x("\n"),x("s")].join(""));p.anchor=Ll(m,Z);p.x=e;p.y=q;p.rotation=v;p.visible=g;pc.a(y,1)||(p.scale="number"===typeof y?Ll(y,y):Ll(B.a(y,0),B.a(y,1)));pc.a(1,c)||(p.alpha=c);p.interactive=w(F)?F:w(f)?f:w(n)?n:w(h)?h:w(r)?r:w(l)?l:w(ja)?ja:d;w(f)&&(p.md=f);w(F)&&(p.nd=F);w(n)&&(p.od=n);w(h)&&(p.pd=h);w(l)&&(p.rd=l);w(r)&&(p.sd=r);w(ja)&&(p.td=ja);w(d)&&(p.ud=d);null!=u&&(p.buttonMode=u);w(A)&&(p.qd=A);return p}function Nl(b,a,c){b.position.x=a;return b.position.y=c};if("undefined"===typeof Ol)var Ol=ke?ke(de):je.call(null,de);
function Pl(b,a){var c=null!=a&&(a.i&64||a.Ca)?Td(le,a):a,d=B.c(c,Ej,8421504),e=B.c(c,yj,0),f=B.c(c,zj,!1),g=B.c(c,ak,0),h=B.c(c,dk,40),l=B.a(c,mh),m=B.c(c,vh,600),n=B.c(c,yh,1),q=B.c(c,ai,16777215),p=B.c(c,$h,2),r=B.c(c,ki,0),v=B.a(c,kj),c=B.c(c,ij,1),u=new PIXI.Graphics;u.beginFill(r);u.lineStyle(0,q);u.drawRect(0,0,m,h);u.lineStyle(0,q);u.beginFill(d);u.drawRect(p,p,(1>b?b:1)*(m-p-p),h-p-p);u.endFill();var d=(1>b?b:1)*m,r=p+g,g=d-g,y=p+e,e=h-p-e;0<d&&(w(l)&&(u.lineStyle(c,l),u.moveTo(r,e),u.lineTo(r,
y),u.lineTo(g,y)),w(v)&&(u.lineStyle(n,v),u.moveTo(r,e),u.lineTo(g,e),u.lineTo(g,y)));w(f)&&(u.lineStyle(p,q),u.drawRect(0,0,m,h));return u.generateTexture(!1)}function Ql(b,a){var c=Ml(Pl(0,a),Pc([ih,B.c(a,ih,1)],0));c.alpha=0;b.addChild(c);return c}function Rl(){var b=B.a(G.b?G.b(Ol):G.call(null,Ol),lj);return Gg.b?Gg.b(b):Gg.call(null,b)}function Sl(b,a){oe.w(Ol,Yc,Dd.b(D(Uc(b.split("/")).split("."))),a);return a}zg(kl,"png",function(b,a){return Sl(b,a)});
zg(kl,"gif",function(b,a){return Sl(b,a)});zg(kl,"jpg",function(b,a){return Sl(b,a)});
function Tl(b){var a=el(null),c=new Image;c.crossOrigin="";c.onload=function(a,c){return function(){return il(a,new R(null,2,5,T,[b,new Ha(null,3,[wj,new PIXI.Texture(new PIXI.BaseTexture(c,PIXI.SCALE_MODES.LINEAR)),Gg,new PIXI.Texture(new PIXI.BaseTexture(c,PIXI.SCALE_MODES.NEAREST)),jj,c],null)],null))}}(a,c);c.onerror=function(a){return function(){return il(a,new R(null,2,5,T,[b,null],null))}}(a,c);c.onabort=function(){return function(){return alert("abort")}}(a,c);c.src=b;return a}
zg(jl,"png",function(b){return Tl(b)});zg(jl,"gif",function(b){return Tl(b)});zg(jl,"jpg",function(b){return Tl(b)});
function Ul(b,a){var c=null!=a&&(a.i&64||a.Ca)?Td(le,a):a,d=B.c(c,Fh,1),e=B.c(c,wh,null),f=B.c(c,Dj,0),g=null==e?b.alpha:e,h=60*d,l=el(1);Kk(function(a,c,d,e,f,g,h,l){return function(){var A=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!Bd(e,U)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,al(c),d=U;else throw f;}if(!Bd(d,U))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=
null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.m=c;d.b=b;return d}()}(function(a,c,d,e,f,g,h,l){return function(a){var e=a[1];if(1===e)return e=d,a[7]=e,a[2]=null,a[1]=2,U;if(2===e)return e=xl(),Xk(a,4,e);if(3===e)return Yk(a,a[2]);if(4===e){var e=a[7],f=a[2],g=b.alpha=l+e/d*(c-l);a[8]=f;a[9]=g;a[1]=w(0<e)?5:6;return U}return 5===e?(e=a[7],a[7]=e-1,a[2]=null,a[1]=2,U):6===e?(a[2]=null,a[1]=7,U):
7===e?(a[2]=a[2],a[1]=3,U):null}}(a,c,d,e,f,g,h,l),a,c,d,e,f,g,h,l)}(),F=function(){var b=A.m?A.m():A.call(null);b[6]=a;return b}();return Wk(F)}}(l,g,h,a,c,d,e,f));return l}
function Vl(b,a){var c=null!=a&&(a.i&64||a.Ca)?Td(le,a):a,d=B.c(c,Fh,1),e=B.c(c,wh,0),f=B.c(c,Dj,1),g=60*d,h=el(1);Kk(function(a,c,d,e,f,g,h){return function(){var u=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!Bd(e,U)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,al(c),d=U;else throw f;}if(!Bd(d,U))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.m=c;d.b=b;return d}()}(function(a,c,d,e,f,g,h){return function(a){var d=a[1];if(1===d)return d=c,a[7]=d,a[2]=null,a[1]=2,U;if(2===d)return d=xl(),Xk(a,4,d);if(3===d)return Yk(a,a[2]);if(4===d){var d=a[7],e=a[2],f=b.alpha=g+(c-d)/c*(h-g);a[8]=e;a[9]=f;a[1]=w(0<d)?5:6;return U}return 5===d?(d=a[7],a[7]=d-1,a[2]=null,a[1]=2,U):6===d?(a[2]=null,a[1]=7,U):7===d?(a[2]=a[2],a[1]=3,U):null}}(a,c,d,e,f,g,h),a,c,d,e,f,g,h)}(),
y=function(){var b=u.m?u.m():u.call(null);b[6]=a;return b}();return Wk(y)}}(h,g,a,c,d,e,f));return h}function Wl(b){for(var a=[],c=arguments.length,d=0;;)if(d<c)a.push(arguments[d]),d+=1;else break;return Xl(arguments[0],arguments[1],arguments[2],3<a.length?new lc(a.slice(3),0,null):null)}
function Xl(b,a,c,d){var e=null!=d&&(d.i&64||d.Ca)?Td(le,d):d,f=B.c(e,hk,.5),g=B.c(e,nh,.5),h=Ql(function(){var c=ci.b(b);return a.b?a.b(c):a.call(null,c)}(),e),l=el(1);Kk(function(d,e,f,g,h,l,u){return function(){var y=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!Bd(e,U)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,al(c),d=U;else throw f;}if(!Bd(d,U))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,
null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.m=c;d.b=b;return d}()}(function(d,e,f,g,h,l,m){return function(n){var p=n[1];if(1===p){var q=Vl(e,Pc([Fh,l],0));return Xk(n,2,q)}if(2===p){var r=n[2],q=ll(c,function(){return function(a,b,c,d,e,f,g){return function(a,b){return d.tc=Pl(a/b,g)}}(r,p,d,e,f,g,h,l,m)}());n[7]=r;return Xk(n,3,q)}if(3===p){var q=n[2],u=
Ul(e,Pc([Fh,m],0));n[8]=q;return Xk(n,4,u)}if(4===p){var q=n[8],u=n[2],v=ci.b(b),v=(a.b?a.b(v):a.call(null,v)).removeChild(e);n[9]=u;n[10]=v;return Yk(n,q)}return null}}(d,e,f,g,h,l,u),d,e,f,g,h,l,u)}(),A=function(){var a=y.m?y.m():y.call(null);a[6]=d;return a}();return Wk(A)}}(l,h,d,e,e,f,g));return l};function Yl(b){var a=(Cl.m?Cl.m():Cl.call(null))[0];return w(a)?a.cd[b]:null}for(var Zl=[new R(null,2,5,T,[ek,rj],null),0,new R(null,2,5,T,[ek,Ag],null),1,new R(null,2,5,T,[Fi,rj],null),2,new R(null,2,5,T,[Fi,Ag],null),3],$l=[],am=0;;)if(am<Zl.length){var bm=Zl[am],cm=Zl[am+1];-1===Ze($l,bm)&&($l.push(bm),$l.push(cm));am+=2}else break;
var dm=Zc([Ag,Cg,Eg,Hg,Lg,Ng,Yg,Zg,La,ch,dh,hh,lh,rh,sh,uh,wh,zh,Ch,Ih,Jh,Kh,Ph,Sh,Wh,Zh,bi,ni,oi,qi,vi,Di,Fi,dj,nj,qj,rj,tj,Aj,Mj,Zj,ek,gk],[3,14,12,13,15,16,14,5,12,0,6,7,15,7,4,13,9,6,1,13,14,12,13,5,5,7,4,3,8,7,15,1,15,6,5,2,2,4,4,6,0,14,12]),em=function em(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return em.c(arguments[0],arguments[1],arguments[2]);case 2:return em.a(arguments[0],arguments[1]);case 1:return em.b(arguments[0]);
default:throw Error([x("Invalid arity: "),x(c.length)].join(""));}};em.c=function(b,a,c){return w(b)?b.buttons[B.c(dm,c,c)]:null};em.a=function(b,a){return em.c((Cl.m?Cl.m():Cl.call(null))[b],b,a)};em.b=function(b){return em.a(0,b)};em.F=3;var fm=he.c(function(b){return w(b)?.1<b:null},function(b){return w(b)?b.value:null},em);function gm(b){return b instanceof K?[x(function(){var a=Cd(b);return null==a?null:[x(a),x("/")].join("")}()),x(Ed(b))].join(""):b}
function hm(b,a){var c=I(a);if("number"!==typeof c||isNaN(c)||Infinity===c||parseFloat(c)!==parseInt(c,10))throw Error([x("Argument must be an integer: "),x(c)].join(""));if(0!==(c&1))throw Error("Assert failed: (even? (count kvs))");for(var c=b.style,d=C(ue(2,2,a)),e=null,f=0,g=0;;)if(g<f){var h=e.P(null,g),l=J(h,0,null),h=J(h,1,null);c.setProperty(gm(l),h);g+=1}else if(d=C(d))id(d)?(f=Qb(d),d=Rb(d),e=f,f=I(f)):(f=D(d),e=J(f,0,null),f=J(f,1,null),c.setProperty(gm(e),f),d=E(d),e=null,f=0),g=0;else break}
;var im;
function jm(b){var a=null!=b&&(b.i&64||b.Ca)?Td(le,b):b;b=B.c(a,Uj,!1);var c=B.c(a,rj,0),d=B.c(a,Ag,0),e=B.c(a,vh,800),f=B.c(a,dk,600),g=B.a(a,Lh),h=B.c(a,vj,Rj),l=B.c(a,xh,5242880);B.c(a,oh,!0);var a=window.innerWidth,m=window.innerHeight,n=w(b)?a:e,q=w(b)?m:f,p={backgroundColor:l,transparent:!1,imageSmoothingEnabled:!1,antialias:!1,autoResize:!1,clearBeforeRender:!0,preserveDrawingBuffer:!1,view:g,resolution:1},e=function(){switch(h instanceof K?h.Ha:null){case "webgl":return new PIXI.WebGLRenderer(n,q,
p);case "canvas":return new PIXI.CanvasRenderer(n,q,p);default:return new PIXI.autoDetectRenderer(n,q,p)}}(),f=e.view,l=f.width,r=f.height;w(g)||(hm(f,Pc([ek,w(b)?0:c,jh,w(b)?0:d,hj,"absolute"],0)),document.body.appendChild(f));e.resize(w(b)?a:l,w(b)?m:r);return new Ha(null,2,[Mh,e,Lh,w(g)?g:f],null)}
function km(b){var a=null!=b&&(b.i&64||b.Ca)?Td(le,b):b,c=B.c(a,fj,new R(null,6,5,T,[Kj,Vj,Uh,Bj,ii,sj],null)),d=B.c(a,Ig,de),e=new PIXI.Container,f=pe.a(function(){return function(){return new PIXI.Container}}(e,b,a,c,d),c);return new Ha(null,4,[Wg,e,Ig,d,fj,c,ci,te.a(de,function(){return function(a,b,c,d,e,f){return function r(v){return new Fd(null,function(){return function(){for(;;){var a=C(v);if(a){if(id(a)){var b=Qb(a),c=I(b),d=Jd(c);a:for(var e=0;;)if(e<c){var f=bb.a(b,e),g=J(f,0,null),f=J(f,
1,null);d.add(new R(null,2,5,T,[g,f],null));e+=1}else{b=!0;break a}return b?Ld(d.ra(),r(Rb(a))):Ld(d.ra(),null)}b=D(a);d=J(b,0,null);b=J(b,1,null);return Mc(new R(null,2,5,T,[d,b],null),r(nc(a)))}return null}}}(a,b,c,d,e,f),null,null)}}(e,f,b,a,c,d)(ue(2,2,se.a(c,f)))}())],null)}
function lm(b,a,c){var d=b.width;b=b.height;var e=Math.round(d/2),f=Math.round(b/2);switch(c instanceof K?c.Ha:null){case "center":return a.position.x=e,a.position.y=f;case "top":return a.position.x=e,a.position.y=0;case "bottom":return a.position.x=e,a.position.y=b;case "left":return a.position.x=0,a.position.y=f;case "right":return a.position.x=d,a.position.y=f;case "top-left":return a.position.x=0,a.position.y=0;case "top-right":return a.position.x=d,a.position.y=0;case "bottom-left":return a.position.x=
0,a.position.y=b;case "bottom-right":return a.position.x=d,a.position.y=b;default:return a.position.x=e,a.position.y=f}}
function mm(){var b=new Ha(null,3,[fj,new R(null,3,5,T,[Lj,di,ii],null),xh,nm,Uj,!0],null),a=te.a(jm(b),km(b)),c=null!=a&&(a.i&64||a.Ca)?Td(le,a):a,d=B.a(c,Mh),e=B.a(c,Lh),f=B.a(c,ci),g=B.a(c,fj),h=B.a(c,Wg),l=B.c(c,Ig,de),m=B.a(c,Xj),n=B.c(c,oh,!0),q=B.a(c,ej);Vf(pe.a(function(a,b,c,d,e,f,g,h,l){return function(a){var b=J(a,0,null);a=J(a,1,null);h.addChild(a);b=l.b?l.b(b):l.call(null,b);return lm(e,a,w(b)?b:Oh)}}(a,c,c,d,e,f,g,h,l,m,n,q),f));d.render(h);var p=function(a,b,c,d,e,f,g,h){return function(){return d.render(h)}}(a,
c,c,d,e,f,g,h,l,m,n,q),r=function(a,b,c,d,e,f,g,h,l,m,n,p,q){return function(r,u){e.resize(r,u);return Vf(pe.a(function(a,b,c,d,e,f,g,h,l,m){return function(a){var b=J(a,0,null);a=J(a,1,null);b=m.b?m.b(b):m.call(null,b);return lm(f,a,w(b)?b:Oh)}}(a,b,c,d,e,f,g,h,l,m,n,p,q),g))}}(p,a,c,c,d,e,f,g,h,l,m,n,q),v=function(a,b){return function(){return b(window.innerWidth,window.innerHeight)}}(p,r,a,c,c,d,e,f,g,h,l,m,n,q),u=function(a,b,c,d,e,f,g,h){return function(a){return w(a)?w(h.requestFullscreen)?
h.requestFullscreen():w(h.webkitRequestFullscreen)?h.webkitRequestFullscreen():w(h.mozRequestFullScreen)?h.mozRequestFullScreen():null:w(document.exitFullscreen)?document.exitFullscreen():w(document.webkitExitFullscreen)?document.webkitExitFullscreen():w(document.msExitFullscreen)?document.msExitFullscreen():w(document.mozCancelFullScreen)?document.mozCancelFullScreen():null}}(p,r,v,a,c,c,d,e,f,g,h,l,m,n,q),b=w(Uj.b(b))?function(){var b=zl(),A=el(1);Kk(function(a,b,c,d,e,f,g,h,l,m,n,p,q,r,u,v,y,A){return function(){var Da=
function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var e=a(c);if(!Bd(e,U)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,al(c),d=U;else throw f;}if(!Bd(d,U))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.m=c;d.b=b;return d}()}(function(a,b,c,d){return function(a){var e=
a[1];if(1===e)return a[2]=null,a[1]=2,U;if(2===e)return a[1]=4,U;if(3===e)return Yk(a,a[2]);if(4===e)return Xk(a,7,b);if(5===e)return a[2]=null,a[1]=6,U;if(6===e)return a[2]=a[2],a[1]=3,U;if(7===e){var f=a[2],e=J(f,0,null),f=J(f,1,null),e=d(e,f),f=c();a[7]=f;a[8]=e;a[2]=null;a[1]=2;return U}return null}}(a,b,c,d,e,f,g,h,l,m,n,p,q,r,u,v,y,A),a,b,c,d,e,f,g,h,l,m,n,p,q,r,u,v,y,A)}(),Pa=function(){var b=Da.m?Da.m():Da.call(null);b[6]=a;return b}();return Wk(Pa)}}(A,b,p,r,v,u,a,c,c,d,e,f,g,h,l,m,n,q));
return A}():null;im=function(a){return function F(){wl.b?wl.b(F):wl.call(null,F);return a()}}(p,r,v,u,b,a,c,c,d,e,f,g,h,l,m,n,q);im();u();b=te.a(c,new Ha(null,4,[fh,p,Yj,r,Jg,u,cj,v],null));w(q)||Uc(g);return b};function om(b,a,c,d,e){return b+(c-b)/(d-a)*(e-a)}function pm(b,a,c,d,e){return a+(d-a)/(c-b)*(e-b)}
function qm(b,a,c,d){var e=c-b,f=d-a,g=0<f,f=0>f,h=0<e,e=0>e;if(h&&g)for(g=b|0,e=a|0,f=new R(null,1,5,T,[new R(null,2,5,T,[g,e],null)],null);;){if(pc.a(g,Math.floor(c))&&pc.a(e,Math.floor(d)))return f;var h=om(b,a,c,d,e+1),l=pm(b,a,c,d,g+1);if(g<=h&&h<=g+1)h=g,l=e+1,f=Vc.a(f,new R(null,2,5,T,[g,e+1],null)),g=h,e=l;else if(e<=l&&l<=e+1)h=g+1,l=e,f=Vc.a(f,new R(null,2,5,T,[g+1,e],null)),g=h,e=l;else if(pc.a(h,g+1)&&pc.a(l,e+1))h=g+1,l=e+1,f=Vc.s(f,new R(null,2,5,T,[g,e+1],null),Pc([new R(null,2,5,T,
[g+1,e],null),new R(null,2,5,T,[g+1,e+1],null)],0)),g=h,e=l;else return Jj}else if(h&&f)for(g=b|0,e=a|0,f=new R(null,1,5,T,[new R(null,2,5,T,[g,e],null)],null);;){if(pc.a(g,Math.floor(c))&&pc.a(e,Math.floor(d)))return f;h=om(b,a,c,d,e);l=pm(b,a,c,d,g+1);if(g<=h&&h<=g+1)h=g,l=e-1,f=Vc.a(f,new R(null,2,5,T,[g,e-1],null)),g=h,e=l;else if(e<=l&&l<=e+1)h=g+1,l=e,f=Vc.a(f,new R(null,2,5,T,[g+1,e],null)),g=h,e=l;else if(pc.a(h,g+1)&&pc.a(l,e-1))h=g+1,l=e-1,f=Vc.s(f,new R(null,2,5,T,[g,e-1],null),Pc([new R(null,
2,5,T,[g+1,e],null),new R(null,2,5,T,[g+1,e-1],null)],0)),g=h,e=l;else return bk}else if(e&&g)for(g=b|0,e=a|0,f=new R(null,1,5,T,[new R(null,2,5,T,[g,e],null)],null);;){if(pc.a(g,Math.floor(c))&&pc.a(e,Math.floor(d)))return f;h=om(b,a,c,d,e+1);l=pm(b,a,c,d,g);if(g<=h&&h<=g+1)h=g,l=e+1,f=Vc.a(f,new R(null,2,5,T,[g,e+1],null)),g=h,e=l;else if(e<=l&&l<=e+1)h=g-1,l=e,f=Vc.a(f,new R(null,2,5,T,[g-1,e],null)),g=h,e=l;else if(pc.a(h,g-1)&&pc.a(l,e+1))h=g-1,l=e+1,f=Vc.s(f,new R(null,2,5,T,[g,e+1],null),Pc([new R(null,
2,5,T,[g-1,e],null),new R(null,2,5,T,[g-1,e+1],null)],0)),g=h,e=l;else return Jj}else if(e&&f)for(g=b|0,e=a|0,f=new R(null,1,5,T,[new R(null,2,5,T,[g,e],null)],null);;){if(pc.a(g,Math.floor(c))&&pc.a(e,Math.floor(d)))return f;h=om(b,a,c,d,e);l=pm(b,a,c,d,g);if(g<=h&&h<=g+1)h=g,l=e-1,f=Vc.a(f,new R(null,2,5,T,[g,e-1],null)),g=h,e=l;else if(e<=l&&l<=e+1)h=g-1,l=e,f=Vc.a(f,new R(null,2,5,T,[g-1,e],null)),g=h,e=l;else if(pc.a(h,g-1)&&pc.a(l,e-1))h=g-1,l=e-1,f=Vc.s(f,new R(null,2,5,T,[g,e-1],null),Pc([new R(null,
2,5,T,[g-1,e],null),new R(null,2,5,T,[g-1,e-1],null)],0)),g=h,e=l;else return bk}else if(h)for(g=b|0,e=a|0,f=new R(null,1,5,T,[new R(null,2,5,T,[g,e],null)],null);;){if(pc.a(g,Math.floor(c)))return f;l=pm(b,a,c,d,g+1);if(!(e<=l&&l<=e+1))throw Error([x("Assert failed: "),x("intersection out of range"),x("\n"),x("(\x3c\x3d y right-y (inc y))")].join(""));h=g+1;l=e;f=Vc.a(f,new R(null,2,5,T,[g+1,e],null));g=h;e=l}else if(e)for(g=b|0,e=a|0,f=new R(null,1,5,T,[new R(null,2,5,T,[g,e],null)],null);;){if(pc.a(g,
Math.floor(c)))return f;l=pm(b,a,c,d,g);if(!(e<=l&&l<=e+1))throw Error([x("Assert failed: "),x("intersection out of range"),x("\n"),x("(\x3c\x3d y left-y (inc y))")].join(""));h=g-1;l=e;f=Vc.a(f,new R(null,2,5,T,[g-1,e],null));g=h;e=l}else if(f)for(g=b|0,e=a|0,f=new R(null,1,5,T,[new R(null,2,5,T,[g,e],null)],null);;){if(pc.a(e,Math.floor(d)))return f;h=om(b,a,c,d,e);if(!(g<=h&&h<=g+1))throw Error([x("Assert failed: "),x("intersection out of range"),x("\n"),x("(\x3c\x3d x top-x (inc x))")].join(""));
h=g;l=e-1;f=Vc.a(f,new R(null,2,5,T,[g,e-1],null));g=h;e=l}else if(g)for(g=b|0,e=a|0,f=new R(null,1,5,T,[new R(null,2,5,T,[g,e],null)],null);;){if(pc.a(e,Math.floor(d)))return f;h=om(b,a,c,d,e+1);if(!(g<=h&&h<=g+1))throw Error([x("Assert failed: "),x("intersection out of range"),x("\n"),x("(\x3c\x3d x bottom-x (inc x))")].join(""));h=g;l=e+1;f=Vc.a(f,new R(null,2,5,T,[g,e+1],null));g=h;e=l}else return null};var X=Error();if("undefined"===typeof nm)var nm=2105344;var rm;
a:{var sm="-BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB-;-                                                                   -;-         c           OOOOOOOO                                      -;-       OOOO                                c                 TTTTTT-;-                            OOOOO       TTTT          p   TTT-------;-    c             OOOO              b   BBBB        TTTTOOBBBBBBBBB-;-OOOOOOOO                           TTTT          TTT----           -;-              OOOO                 ----         OBBB-BB-TT TTTOOOOO-;-                    b   c    p     ----             -  --- ---     -;-                  XXXX/XXXXXXXXXXXXBBBB        OOOOOB  BBB ---     -;-TTTTTTTTTTTTTTTTTTX   |                                    ---     -;-----.--o----------X   |                                TTTT---     -;-------------o--BBBX   | XXXXX                          BBBBBBB     -;-BBBBB----------bbb    |  0        b pb          b                  -;-     BB--------TTTXX  XXXXXXXX/XXXXXXXXXXX  XXXXXXXXX/X            -;-       BBB--------XXbb 0     p|             X        |             -;-          BBBBBBBBXXXXXXXXXXXX/XXXXXXXXXXXXXX        |             -;-                              |                      |             -;-                              |                      |             -;- p       X   X                |                      |             -;-TTTTTTT/TTTTTTTTTT           c|p            p        |             -;--------|----------TT c    OOOOOOOO     TTTTTTTTT/TTTTTT            -;-BBBBBBB|BBBBBBBBBBB-TT                 ---------|-o----            -;-       |           BB-TT p             --.------|------            -;-       |             B--TTTT  b        ---------|------            -;-       TTTTTT  p      BB----TTTTT      -------.-|------            -;-b      BBBB--TTT        BB-------O     ---------|------            -;-OO         --.--          BBBBBBB     T-----BBBB|BBBBBB           T-;-           ----.T                     ------    |                 --;- c    b    ------c    p      c        ------    X               TT--;-TTTTTTTTTTT------TTTTTTTTTTTTTTTTTTTTT------TTTTTTTTTTTTTTTTTTTT----;---------------------------------------------------------------------".split(";"),tm=
sm.length;if(32>tm)rm=new R(null,tm,5,T,sm,null);else for(var um=32,vm=(new R(null,32,5,T,sm.slice(0,32),null)).kb(null);;)if(um<tm)var wm=um+1,xm=Rd.a(vm,sm[um]),um=wm,vm=xm;else{rm=Mb(vm);break a}}
function ym(){var b=Rl(),a=Zc("T|p/-BOb.0Xoc".split(""),[new R(null,2,5,T,[16,0],null),new R(null,2,5,T,[64,16],null),new R(null,2,5,T,[16,32],null),new R(null,2,5,T,[64,0],null),new R(null,2,5,T,[0,0],null),new R(null,2,5,T,[0,16],null),new R(null,2,5,T,[16,16],null),new R(null,2,5,T,[0,32],null),new R(null,2,5,T,[32,0],null),new R(null,2,5,T,[48,16],null),new R(null,2,5,T,[48,0],null),new R(null,2,5,T,[32,16],null),new R(null,2,5,T,[32,32],null)]);return te.a(de,pe.a(function(a){return function(b){var e=
J(b,0,null);b=J(b,1,null);return new R(null,2,5,T,[e,Kl(a,b,new R(null,2,5,T,[16,16],null))],null)}}(b,a),a))}function zm(b,a){return Fc(rm.b?rm.b(a):rm.call(null,a),b)}var Am=he.a(Oa,function(b,a){return(new Qf(null,new Ha(null,5,["T",null,"-",null,"B",null,"O",null,"X",null],null),null)).call(null,zm(b,a))});
function Bm(b,a){var c=rm;return Vf(function(){return function e(f){return new Fd(null,function(){for(var g=f;;){var h=C(g);if(h){var l=h,m=D(l);if(h=C(function(e,f,g,h){return function u(l){return new Fd(null,function(e,f){return function(){for(;;){var e=C(l);if(e){if(id(e)){var g=Qb(e),h=I(g),m=Jd(h);return function(){for(var e=0;;)if(e<h){var l=bb.a(g,e),n=m,p=Fc(c.b?c.b(f):c.call(null,f),l),l=pc.a(" ",p)?null:b.addChild(Ml(a.b?a.b(p):a.call(null,p),Pc([rj,16*l,Ag,16*f,ik,0,ri,0],0)));n.add(l);
e+=1}else return!0}()?Ld(m.ra(),u(Rb(e))):Ld(m.ra(),null)}var n=D(e);return Mc(function(){var e=Fc(c.b?c.b(f):c.call(null,f),n);return pc.a(" ",e)?null:b.addChild(Ml(a.b?a.b(e):a.call(null,e),Pc([rj,16*n,Ag,16*f,ik,0,ri,0],0)))}(),u(nc(e)))}return null}}}(e,f,g,h),null,null)}}(g,m,l,h)(new Uf(null,0,I(D(c)),1,null))))return Qd.a(h,e(nc(g)));g=nc(g)}else return null}},null,null)}(new Uf(null,0,I(c),1,null))}())}if("undefined"===typeof Cm)var Cm=mm();
function Dm(b){var a=b[0];b=b[1];var c=a|0,d=b|0;return new R(null,6,5,T,[a,b,c,d,a-c,b-d],null)}
function Em(b,a){var c=Dm(a),d=J(c,0,null),e=J(c,1,null),f=J(c,2,null),g=J(c,3,null),h=J(c,4,null),l=J(c,5,null),c=Dm(b);J(c,0,null);J(c,1,null);J(c,2,null);J(c,3,null);J(c,4,null);J(c,5,null);var m=.3>h,n=.7<h,q=.4>l,c=.6<l,p=Am.a?Am.a(f,g):Am.call(null,f,g),r=function(){var a=f-1;return Am.a?Am.a(a,g):Am.call(null,a,g)}(),v=function(){var a=f+1;return Am.a?Am.a(a,g):Am.call(null,a,g)}(),u=function(){var a=g-1;return Am.a?Am.a(f,a):Am.call(null,f,a)}(),y=function(){var a=g+1;return Am.a?Am.a(f,a):
Am.call(null,f,a)}(),A=function(){var a=f-1,b=g-1;return Am.a?Am.a(a,b):Am.call(null,a,b)}(),F=function(){var a=f-1,b=g+1;return Am.a?Am.a(a,b):Am.call(null,a,b)}(),N=function(){var a=f+1,b=g-1;return Am.a?Am.a(a,b):Am.call(null,a,b)}(),Z=function(){var a=f+1,b=g+1;return Am.a?Am.a(a,b):Am.call(null,a,b)}();try{if(!0===p)try{if(!0===m)try{if(!0===r)try{if(!0===c)try{if(!1===F)try{if(!0===y){var ja=.3-h,z=l-.6;if(ja<z)return p=f+.3,V.a?V.a(p,e):V.call(null,p,e);p=g+.6;return V.a?V.a(d,p):V.call(null,
d,p)}throw X;}catch(W){if(W instanceof Error){var ia=W;if(ia===X)throw X;throw ia;}throw W;}else throw X;}catch(W){if(W instanceof Error){ia=W;if(ia===X)throw X;throw ia;}throw W;}else throw X;}catch(W){if(W instanceof Error)if(ia=W,ia===X)try{if(!0===q)try{if(!1===A)try{if(!0===u){ja=.3-h;z=.4-l;if(ja<z)return p=f+.3,V.a?V.a(p,e):V.call(null,p,e);p=g+.4;return V.a?V.a(d,p):V.call(null,d,p)}throw X;}catch(L){if(L instanceof Error){var M=L;if(M===X)throw X;throw M;}throw L;}else throw X;}catch(L){if(L instanceof
Error){M=L;if(M===X)throw X;throw M;}throw L;}else throw X;}catch(L){if(L instanceof Error){M=L;if(M===X)throw X;throw M;}throw L;}else throw ia;else throw W;}else throw X;}catch(W){if(W instanceof Error){ia=W;if(ia===X)throw X;throw ia;}throw W;}else throw X;}catch(W){if(W instanceof Error)if(ia=W,ia===X)try{if(!0===n)try{if(!0===v)try{if(!0===c)try{if(!0===y)try{if(!1===Z){ja=h-.7;z=l-.6;if(ja<z)return z=f+.7,V.a?V.a(z,e):V.call(null,z,e);z=g+.6;return V.a?V.a(d,z):V.call(null,d,z)}throw X;}catch(L){if(L instanceof
Error){M=L;if(M===X)throw X;throw M;}throw L;}else throw X;}catch(L){if(L instanceof Error){M=L;if(M===X)throw X;throw M;}throw L;}else throw X;}catch(L){if(L instanceof Error)if(M=L,M===X)try{if(!0===q)try{if(!0===u)try{if(!1===N){ja=h-.7;if(ja<.4-l)return h=f+.7,V.a?V.a(h,e):V.call(null,h,e);h=g+.4;return V.a?V.a(d,h):V.call(null,d,h)}throw X;}catch(Q){if(Q instanceof Error){var S=Q;if(S===X)throw X;throw S;}throw Q;}else throw X;}catch(Q){if(Q instanceof Error){S=Q;if(S===X)throw X;throw S;}throw Q;
}else throw X;}catch(Q){if(Q instanceof Error){S=Q;if(S===X)throw X;throw S;}throw Q;}else throw M;else throw L;}else throw X;}catch(L){if(L instanceof Error){M=L;if(M===X)throw X;throw M;}throw L;}else throw X;}catch(L){if(L instanceof Error)if(M=L,M===X)try{if(!0===m)try{if(!1===r)try{if(!0===c)try{if(!1===F)try{if(!1===y)return h=f+.3,F=g+.6,V.a?V.a(h,F):V.call(null,h,F);throw X;}catch(Q){if(Q instanceof Error){S=Q;if(S===X)throw X;throw S;}throw Q;}else throw X;}catch(Q){if(Q instanceof Error){S=
Q;if(S===X)throw X;throw S;}throw Q;}else throw X;}catch(Q){if(Q instanceof Error)if(S=Q,S===X)try{if(!0===q)try{if(!1===A)try{if(!1===u)return A=f+.3,h=g+.4,V.a?V.a(A,h):V.call(null,A,h);throw X;}catch(O){if(O instanceof Error){var P=O;if(P===X)throw X;throw P;}throw O;}else throw X;}catch(O){if(O instanceof Error){P=O;if(P===X)throw X;throw P;}throw O;}else throw X;}catch(O){if(O instanceof Error){P=O;if(P===X)throw X;throw P;}throw O;}else throw S;else throw Q;}else throw X;}catch(Q){if(Q instanceof
Error){S=Q;if(S===X)throw X;throw S;}throw Q;}else throw X;}catch(Q){if(Q instanceof Error)if(S=Q,S===X)try{if(!0===n)try{if(!1===v)try{if(!0===q)try{if(!1===u)try{if(!1===N)return N=f+.7,A=g+.4,V.a?V.a(N,A):V.call(null,N,A);throw X;}catch(O){if(O instanceof Error){P=O;if(P===X)throw X;throw P;}throw O;}else throw X;}catch(O){if(O instanceof Error){P=O;if(P===X)throw X;throw P;}throw O;}else throw X;}catch(O){if(O instanceof Error)if(P=O,P===X)try{if(!0===c)try{if(!1===y)try{if(!1===Z)return Z=f+
.7,N=g+.6,V.a?V.a(Z,N):V.call(null,Z,N);throw X;}catch(na){if(na instanceof Error){var Y=na;if(Y===X)throw X;throw Y;}throw na;}else throw X;}catch(na){if(na instanceof Error){Y=na;if(Y===X)throw X;throw Y;}throw na;}else throw X;}catch(na){if(na instanceof Error){Y=na;if(Y===X)throw X;throw Y;}throw na;}else throw P;else throw O;}else throw X;}catch(O){if(O instanceof Error){P=O;if(P===X)throw X;throw P;}throw O;}else throw X;}catch(O){if(O instanceof Error){P=O;if(P===X)throw X;throw P;}throw O;
}else throw S;else throw Q;}else throw M;else throw L;}else throw ia;else throw W;}else throw X;}catch(W){if(W instanceof Error)if(ia=W,ia===X)try{if(!0===m)try{if(!1===r)return m=f+.3,V.a?V.a(m,e):V.call(null,m,e);throw X;}catch(L){if(L instanceof Error){M=L;if(M===X)throw X;throw M;}throw L;}else throw X;}catch(L){if(L instanceof Error)if(M=L,M===X)try{if(!0===n)try{if(!1===v)return M=f+.7,V.a?V.a(M,e):V.call(null,M,e);throw X;}catch(Q){if(Q instanceof Error){S=Q;if(S===X)throw X;throw S;}throw Q;
}else throw X;}catch(Q){if(Q instanceof Error)if(S=Q,S===X)try{if(!0===q)try{if(!1===u)return e=g+.4,V.a?V.a(d,e):V.call(null,d,e);throw X;}catch(O){if(O instanceof Error){P=O;if(P===X)throw X;throw P;}throw O;}else throw X;}catch(O){if(O instanceof Error)if(P=O,P===X)try{if(!0===c)try{if(!1===y)return P=g+.6,V.a?V.a(d,P):V.call(null,d,P);throw X;}catch(na){if(na instanceof Error){Y=na;if(Y===X)throw X;throw Y;}throw na;}else throw X;}catch(na){if(na instanceof Error){Y=na;if(Y===X)return a;throw Y;
}throw na;}else throw P;else throw O;}else throw S;else throw Q;}else throw M;else throw L;}else throw ia;else throw W;}}
function Fm(b,a,c,d){var e=Dm(a);a=J(e,0,null);var f=J(e,1,null);J(e,2,null);J(e,3,null);J(e,4,null);J(e,5,null);var g=Dm(b);b=J(g,0,null);e=J(g,1,null);J(g,2,null);J(g,3,null);J(g,4,null);J(g,5,null);var h=a-b,l=f-e,g=0<l,l=0>l,m=0<h,h=0>h;return m&&g?(g=om(b,e,a,f,d),a=pm(b,e,a,f,c),c<g&&g<c+1?V.a?V.a(g,d):V.call(null,g,d):d<a&&a<d+1?V.a?V.a(c,a):V.call(null,c,a):null):h&&g?(g=om(b,e,a,f,d),a=pm(b,e,a,f,c+1),c<g&&g<c+1?V.a?V.a(g,d):V.call(null,g,d):d<a&&a<d+1?(d=c+1,c=a,V.a?V.a(d,c):V.call(null,
d,c)):null):m&&l?(g=om(b,e,a,f,d+1),a=pm(b,e,a,f,c),c<g&&g<c+1?(c=g,d+=1,V.a?V.a(c,d):V.call(null,c,d)):d<a&&a<d+1?V.a?V.a(c,a):V.call(null,c,a):null):h&&l?(g=om(b,e,a,f,d+1),a=pm(b,e,a,f,c+1),c<g&&g<c+1?(c=g,d+=1,V.a?V.a(c,d):V.call(null,c,d)):d<a&&a<d+1?(d=c+1,c=a,V.a?V.a(d,c):V.call(null,d,c)):null):h?(a=pm(b,e,a,f,c+1),d<a&&a<d+1?(d=c+1,c=a,V.a?V.a(d,c):V.call(null,d,c)):null):m?(a=pm(b,e,a,f,c),d<a&&a<d+1?V.a?V.a(c,a):V.call(null,c,a):null):l?(g=om(b,e,a,f,d+1),c<g&&g<c+1?(c=g,d+=1,V.a?V.a(c,
d):V.call(null,c,d)):null):g?(g=om(b,e,a,f,d),c<g&&g<c+1?V.a?V.a(g,d):V.call(null,g,d):null):li}function Gm(b,a,c,d){a=Fm(b,a,c,d);c=Fl.m?Fl.m():Fl.call(null);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return Gl(Hl(c,.999),b)}
function Hm(b,a){var c=Dm(b),d=J(c,0,null),e=J(c,1,null),f=J(c,2,null),g=J(c,3,null);J(c,4,null);J(c,5,null);var h=Dm(a),c=J(h,0,null),l=J(h,1,null),m=J(h,2,null),n=J(h,3,null);J(h,4,null);J(h,5,null);var h=f-m,q=g-n;if(w(fm.a?fm.a(0,rj):fm.call(null,0,rj))){var m=Pc([m,n],0),n=console,p=kg(te.a(Wc,m));console.log.apply(n,p);Uc(m)}if(2>Math.abs(h)&&2>Math.abs(q)&&w(Am.a?Am.a(f,g):Am.call(null,f,g)))return Em(a,b);d=qm(c,l,d,e);e=C(d);f=D(e);E(e);J(f,0,null);for(J(f,1,null);;)if(e=C(d),d=D(e),e=E(e),
f=d,d=J(f,0,null),f=J(f,1,null),w(Am.a?Am.a(d,f):Am.call(null,d,f))){if(0===I(e))return b;d=e}else return d=Gm(a,b,d,f),Em(a,d)}
if("undefined"===typeof Im)var Im=function(){var b=el(1);Kk(function(a){return function(){var b=function(){return function(a){return function(){function b(c){for(;;){var d;a:try{for(;;){var f=a(c);if(!Bd(f,U)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,al(c),d=U;else throw g;}if(!Bd(d,U))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.m=c;d.b=b;return d}()}(function(){return function(a){var b=a[1];if(7===b){var c=a[7],d=a[2].removeChild(c),l;a[8]=d;l=a;al(l);return U}if(20===b){var m=a[9],n=a[10],q=a[2].addChild(n),p=Ml(m,Pc([ih,4],0));a[11]=p;a[12]=q;var r=l=a;r[2]=null;r[1]=26;
return U}if(27===b){var v=a[13],u=l=a;u[2]=v;u[1]=29;return U}if(1===b){var y=Wl(Cm,ii,new R(null,1,5,T,["img/tiles.png"],null));l=a;return Xk(l,2,y)}if(24===b){var A=[x("canvas layer "),x(di),x(" not found.")].join("");throw Error(A);}if(39===b){var F=a[14],N=l=a;N[2]=F;N[1]=40;return U}if(4===b){var Z=a[15],ja=a[2],z=ci.b(Cm),ia=di.b(z);a[16]=ja;a[15]=ia;l=a;l[1]=w(ia)?5:6;return U}if(15===b){var M=[x("canvas layer "),x(di),x(" not found.")].join("");throw Error(M);}if(21===b){var S=a[2];l=a;l[2]=
S;al(l);return U}if(31===b){var P=a[2];l=a;l[2]=P;al(l);return U}if(32===b){var Y=a[17],W=l=a;W[2]=Y;W[1]=34;return U}if(40===b){var L=a[18],p=a[11],n=a[10],c=a[7],Q=a[19],O=a[20],na=a[21],ua,za=p,Ca=a[2];ua=Ca instanceof K?za.tc=Jl(Ca):za.tc=Ca;var Da=Nl(p,(O|0)+64*Q,(L|0)+64*na),Pa=Nl(n,O|0,L|0),Ya=Nl(c,-2E3+((.9*O|0)%128+128)%128,-2E3+((.9*L|0)%128+128)%128),db=xl();a[22]=Pa;a[23]=Ya;a[24]=Da;a[25]=ua;l=a;return Xk(l,41,db)}if(33===b){var kb=l=a;kb[2]=0;kb[1]=34;return U}if(13===b){var wb=a[26],
mc=a[2],Nc=ci.b(Cm),dd=di.b(Nc);a[27]=mc;a[26]=dd;l=a;l[1]=w(dd)?14:15;return U}if(22===b){var Yh=a[28],Se=a[2],Jm=ci.b(Cm),Gi=di.b(Jm);a[29]=Se;a[28]=Gi;l=a;l[1]=w(Gi)?23:24;return U}if(36===b){var Hi=l=a;Hi[2]=0;Hi[1]=37;return U}if(41===b){var ae=a[30],Sg=a[31],Kc=a[32],Km=a[2],Lm=Hl(Kc,-64),Mm=ae+1,Nm=Hl(Sg,1.5),Om=Gl(Nm,Kc),Pm=Hm(Om,Kc),yd=Lm;a[30]=Mm;a[33]=yd;a[34]=Km;a[32]=Pm;var Ii=l=a;Ii[2]=null;Ii[1]=30;return U}if(29===b){var p=a[11],Qm=a[2].addChild(p),Rm=V.a?V.a(-500,-400):V.call(null,
-500,-400),Sm=V.a?V.a(1.5,4.5):V.call(null,1.5,4.5),yd=Rm,ae=0,Kc=Sm;a[30]=ae;a[33]=yd;a[35]=Qm;a[32]=Kc;var Ji=l=a;Ji[2]=null;Ji[1]=30;return U}if(6===b){var Tm=[x("canvas layer "),x(di),x(" not found.")].join("");throw Error(Tm);}if(28===b){var Um=[x("canvas layer "),x(di),x(" not found.")].join("");throw Error(Um);}if(25===b){var p=a[11],Vm=a[2].removeChild(p);a[36]=Vm;l=a;al(l);return U}if(34===b){var Ki=a[37],nf=a[2],Li=Yl(1);a[37]=Li;a[38]=nf;l=a;l[1]=w(Li)?35:36;return U}if(17===b){var Mi=
a[39];$k(a,13,12);var Wm=ci.b(Cm),Ni=di.b(Wm);a[39]=Ni;l=a;l[1]=w(Ni)?18:19;return U}if(3===b){var Xm=a[2];l=a;return Yk(l,Xm)}if(12===b){var Ym=a[2];l=a;l[2]=Ym;al(l);return U}if(2===b){var n=a[10],c=a[7],Zm=a[2],$m=ym(),an=Rl(),bn=Kl(an,new R(null,2,5,T,[0,48],null),new R(null,2,5,T,[32,32],null)),Oi=new PIXI.TilingSprite(bn,1E3,1E3),Tg=new PIXI.ParticleContainer,cn=Rl(),m=Kl(cn,new R(null,2,5,T,[0,96],null),new R(null,2,5,T,[16,16],null)),dn=Rl(),F=Kl(dn,new R(null,2,5,T,[16,96],null),new R(null,
2,5,T,[16,16],null)),en=Bm(Tg,$m),fn=Tg.scale=Ll(4,4),gn=Oi.scale=Ll(4,4);a[40]=gn;a[9]=m;a[41]=fn;a[10]=Tg;a[7]=Oi;a[42]=Zm;a[14]=F;a[43]=en;var Pi=l=a;Pi[2]=null;Pi[1]=8;return U}if(23===b){var Yh=a[28],Qi=l=a;Qi[2]=Yh;Qi[1]=25;return U}if(35===b){var Ki=a[37],Ri=l=a;Ri[2]=Ki;Ri[1]=37;return U}if(19===b){var hn=[x("canvas layer "),x(di),x(" not found.")].join("");throw Error(hn);}if(11===b){var c=a[7],jn=a[2].addChild(c);a[44]=jn;var Si=l=a;Si[2]=null;Si[1]=17;return U}if(9===b){var Ti=a[45],Ui=
l=a;Ui[2]=Ti;Ui[1]=11;return U}if(5===b){var Z=a[15],Vi=l=a;Vi[2]=Z;Vi[1]=7;return U}if(14===b){var wb=a[26],Wi=l=a;Wi[2]=wb;Wi[1]=16;return U}if(26===b){v=a[13];$k(a,22,21);var kn=ci.b(Cm),Xi=di.b(kn);a[13]=Xi;l=a;l[1]=w(Xi)?27:28;return U}if(16===b){var n=a[10],ln=a[2].removeChild(n);a[46]=ln;l=a;al(l);return U}if(38===b){var m=a[9],Yi=l=a;Yi[2]=m;Yi[1]=40;return U}if(30===b){var yd=a[33],Q=a[19],Y=a[17],Kc=a[32],na=a[21],O=yd[0],L=yd[1],Ug=Kc[0],Vg=Kc[1],mn=Ug-(Ug|0),nn=Vg-(Vg|0),Zi=Yl(0);a[18]=
L;a[47]=mn;a[48]=nn;a[19]=Ug;a[20]=O;a[17]=Zi;a[21]=Vg;l=a;l[1]=w(Zi)?32:33;return U}if(10===b){var on=[x("canvas layer "),x(di),x(" not found.")].join("");throw Error(on);}if(18===b){var Mi=a[39],$i=l=a;$i[2]=Mi;$i[1]=20;return U}if(37===b){var ae=a[30],nf=a[38],aj=a[2],Sg=V.a?V.a(nf,aj):V.call(null,nf,aj),pn=0===((ae/10|0)%2+2)%2;a[31]=Sg;l=a;l[1]=w(pn)?38:39;return U}if(8===b){Ti=a[45];$k(a,4,3);var qn=ci.b(Cm),bj=di.b(qn);a[45]=bj;l=a;l[1]=w(bj)?9:10;return U}return null}}(a),a)}(),d=function(){var d=
b.m?b.m():b.call(null);d[6]=a;return d}();return Wk(d)}}(b));return b}();
})();
