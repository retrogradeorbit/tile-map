if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PIXI=t()}}(function(){var t;return function e(t,r,i){function n(s,a){if(!r[s]){if(!t[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return n(r?r:e)},u,u.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,r){(function(r){t("./polyfill");var i=e.exports=t("./core");i.extras=t("./extras"),i.filters=t("./filters"),i.interaction=t("./interaction"),i.loaders=t("./loaders"),i.mesh=t("./mesh"),i.loader=new i.loaders.Loader,Object.assign(i,t("./deprecation")),r.PIXI=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":29,"./deprecation":78,"./extras":85,"./filters":102,"./interaction":117,"./loaders":120,"./mesh":126,"./polyfill":130}],2:[function(e,r,i){(function(e){!function(){function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(n,arguments)}}var n,o,s={};n=this,null!=n&&(o=n.async),s.noConflict=function(){return n.async=o,s};var a=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===a.call(t)},l=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r+=1)e(t[r],r,t)},u=function(t,e){if(t.map)return t.map(e);var r=[];return l(t,function(t,i,n){r.push(e(t,i,n))}),r},c=function(t,e,r){return t.reduce?t.reduce(e,r):(l(t,function(t,i,n){r=e(r,t,i,n)}),r)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,s.setImmediate="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,r){function n(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;l(t,function(t){e(t,i(n))})},s.forEach=s.each,s.eachSeries=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0,n=function(){e(t[i],function(e){e?(r(e),r=function(){}):(i+=1,i>=t.length?r():n())})};n()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,r,i){var n=d(e);n.apply(null,[t,r,i])},s.forEachLimit=s.eachLimit;var d=function(t){return function(e,r,i){if(i=i||function(){},!e.length||0>=t)return i();var n=0,o=0,s=0;!function a(){if(n>=e.length)return i();for(;t>s&&o<e.length;)o+=1,s+=1,r(e[o-1],function(t){t?(i(t),i=function(){}):(n+=1,s-=1,n>=e.length?i():a())})}()}},f=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},v=function(t,e){return function(){var r=Array.prototype.slice.call(arguments);return e.apply(null,[d(t)].concat(r))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},m=function(t,e,r,i){if(e=u(e,function(t,e){return{index:e,value:t}}),i){var n=[];t(e,function(t,e){r(t.value,function(r,i){n[t.index]=i,e(r)})},function(t){i(t,n)})}else t(e,function(t,e){r(t.value,function(t){e(t)})})};s.map=f(m),s.mapSeries=g(m),s.mapLimit=function(t,e,r,i){return y(e)(t,r,i)};var y=function(t){return v(t,m)};s.reduce=function(t,e,r,i){s.eachSeries(t,function(t,i){r(e,t,function(t,r){e=r,i(t)})},function(t){i(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,r,i){var n=u(t,function(t){return t}).reverse();s.reduce(n,e,r,i)},s.foldr=s.reduceRight;var x=function(t,e,r,i){var n=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r&&n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=f(x),s.filterSeries=g(x),s.select=s.filter,s.selectSeries=s.filterSeries;var b=function(t,e,r,i){var n=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r||n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=f(b),s.rejectSeries=g(b);var _=function(t,e,r,i){t(e,function(t,e){r(t,function(r){r?(i(t),i=function(){}):e()})},function(t){i()})};s.detect=f(_),s.detectSeries=g(_),s.some=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t&&(r(!0),r=function(){}),i()})},function(t){r(!1)})},s.any=s.some,s.every=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t||(r(!1),r=function(){}),i()})},function(t){r(!0)})},s.all=s.every,s.sortBy=function(t,e,r){s.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){if(t)return r(t);var i=function(t,e){var r=t.criteria,i=e.criteria;return i>r?-1:r>i?1:0};r(null,u(e.sort(i),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var r=p(t),i=r.length;if(!i)return e();var n={},o=[],a=function(t){o.unshift(t)},u=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},d=function(){i--,l(o.slice(0),function(t){t()})};a(function(){if(!i){var t=e;e=function(){},t(null,n)}}),l(r,function(r){var i=h(t[r])?t[r]:[t[r]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};l(p(n),function(t){o[t]=n[t]}),o[r]=i,e(t,o),e=function(){}}else n[r]=i,s.setImmediate(d)},f=i.slice(0,Math.abs(i.length-1))||[],v=function(){return c(f,function(t,e){return t&&n.hasOwnProperty(e)},!0)&&!n.hasOwnProperty(r)};if(v())i[i.length-1](o,n);else{var g=function(){v()&&(u(g),i[i.length-1](o,n))};a(g)}})},s.retry=function(t,e,r){var i=5,n=[];"function"==typeof t&&(r=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var a=function(t,e){return function(r){t(function(t,i){r(!t||e,{err:t,result:i})},o)}};t;)n.push(a(e,!(t-=1)));s.series(n,function(t,e){e=e[e.length-1],(i||r)(e.err,e.result)})};return r?o():o},s.waterfall=function(t,e){if(e=e||function(){},!h(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();var i=function(t){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var n=Array.prototype.slice.call(arguments,1),o=t.next();n.push(o?i(o):e),s.setImmediate(function(){t.apply(null,n)})}}};i(s.iterator(t))()};var T=function(t,e,r){if(r=r||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},r);else{var i={};t.each(p(e),function(t,r){e[t](function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),i[t]=n,r(e)})},function(t){r(t,i)})}};s.parallel=function(t,e){T({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,r){T({map:y(e),each:d(e)},t,r)},s.series=function(t,e){if(e=e||function(){},h(t))s.mapSeries(t,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},e);else{var r={};s.eachSeries(p(t),function(e,i){t[e](function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),r[e]=n,i(t)})},function(t){e(t,r)})}},s.iterator=function(t){var e=function(r){var i=function(){return t.length&&t[r].apply(null,arguments),i.next()};return i.next=function(){return r<t.length-1?e(r+1):null},i};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var E=function(t,e,r,i){var n=[];t(e,function(t,e){r(t,function(t,r){n=n.concat(r||[]),e(t)})},function(t){i(t,n)})};s.concat=f(E),s.concatSeries=g(E),s.whilst=function(t,e,r){t()?e(function(i){return i?r(i):void s.whilst(t,e,r)}):r()},s.doWhilst=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?s.doWhilst(t,e,r):r()})},s.until=function(t,e,r){t()?r():e(function(i){return i?r(i):void s.until(t,e,r)})},s.doUntil=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?r():s.doUntil(t,e,r)})},s.queue=function(t,e){function r(t,e,r,i){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var n={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(n):t.tasks.push(n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var n=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(!o.paused&&n<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),n+=1;var r=function(){n-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+n===0&&o.drain(),o.process()},s=i(r);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return n},idle:function(){return o.tasks.length+n===0},pause:function(){o.paused!==!0&&(o.paused=!0,o.process())},resume:function(){o.paused!==!1&&(o.paused=!1,o.process())}};return o},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function i(t,e,r){for(var i=-1,n=t.length-1;n>i;){var o=i+(n-i+1>>>1);r(e,t[o])>=0?i=o:n=o-1}return i}function n(t,e,n,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var a={data:e,priority:n,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,a,r)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,r){n(o,t,e,r)},delete o.unshift,o},s.cargo=function(t,e){var r=!1,i=[],n={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){h(t)||(t=[t]),l(t,function(t){i.push({data:t,callback:"function"==typeof r?r:null}),n.drained=!1,n.saturated&&i.length===e&&n.saturated()}),s.setImmediate(n.process)},process:function o(){if(!r){if(0===i.length)return n.drain&&!n.drained&&n.drain(),void(n.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=u(s,function(t){return t.data});n.empty&&n.empty(),r=!0,t(a,function(){r=!1;var t=arguments;l(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return r}};return n};var S=function(t){return function(e){var r=Array.prototype.slice.call(arguments,1);e.apply(null,r.concat([function(e){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(r,function(e){console[t](e)}))}]))}};s.log=S("log"),s.dir=S("dir"),s.memoize=function(t,e){var r={},i={};e=e||function(t){return t};var n=function(){var n=Array.prototype.slice.call(arguments),o=n.pop(),a=e.apply(null,n);a in r?s.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,n.concat([function(){r[a]=arguments;var t=i[a];delete i[a];for(var e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)}])))};return n.memo=r,n.unmemoized=t,n},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.map(i,e,r)},s.timesSeries=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.mapSeries(i,e,r)},s.seq=function(){var t=arguments;return function(){var e=this,r=Array.prototype.slice.call(arguments),i=r.pop();s.reduce(t,r,function(t,r,i){r.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,r){i.apply(e,[t].concat(r))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(t,e){var r=function(){var r=this,i=Array.prototype.slice.call(arguments),n=i.pop();return t(e,function(t,e){t.apply(r,i.concat([e]))},n)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return r.apply(this,i)}return r};s.applyEach=f(A),s.applyEachSeries=g(A),s.forever=function(t,e){function r(i){if(i){if(e)return e(i);throw i}t(r)}r()},"undefined"!=typeof r&&r.exports?r.exports=s:"undefined"!=typeof t&&t.amd?t([],function(){return s}):n.async=s}()}).call(this,e("_process"))},{_process:4}],3:[function(t,e,r){(function(t){function e(t,e){for(var r=0,i=t.length-1;i>=0;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};r.resolve=function(){for(var r="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,n="/"===s.charAt(0))}return r=e(i(r.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(t){var n=r.isAbsolute(t),o="/"===s(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);for(var n=i(t.split("/")),o=i(e.split("/")),s=Math.min(n.length,o.length),a=s,h=0;s>h;h++)if(n[h]!==o[h]){a=h;break}for(var l=[],h=a;h<n.length;h++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],i=e[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return 0>e&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:4}],4:[function(t,e,r){function i(){if(!a){a=!0;for(var t,e=s.length;e;){t=s,s=[];for(var r=-1;++r<e;)t[r]();e=s.length}a=!1}}function n(){}var o=e.exports={},s=[],a=!1;o.nextTick=function(t){s.push(t),a||setTimeout(i,0)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=n,o.addListener=n,o.once=n,o.off=n,o.removeListener=n,o.removeAllListeners=n,o.emit=n,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],5:[function(e,r,i){(function(e){!function(n){function o(t){throw RangeError(B[t])}function s(t,e){for(var r=t.length;r--;)t[r]=e(t[r]);return t}function a(t,e){return s(t.split(O),e).join(".")}function h(t){for(var e,r,i=[],n=0,o=t.length;o>n;)e=t.charCodeAt(n++),e>=55296&&56319>=e&&o>n?(r=t.charCodeAt(n++),56320==(64512&r)?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--)):i.push(e);return i}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function u(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:E}function c(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function p(t,e,r){var i=0;for(t=r?I(t/C):t>>1,t+=I(t/e);t>L*A>>1;i+=E)t=I(t/L);return I(i+(L+1)*t/(t+w))}function d(t){var e,r,i,n,s,a,h,c,d,f,v=[],g=t.length,m=0,y=R,x=M;for(r=t.lastIndexOf(D),0>r&&(r=0),i=0;r>i;++i)t.charCodeAt(i)>=128&&o("not-basic"),v.push(t.charCodeAt(i));for(n=r>0?r+1:0;g>n;){for(s=m,a=1,h=E;n>=g&&o("invalid-input"),c=u(t.charCodeAt(n++)),(c>=E||c>I((T-m)/a))&&o("overflow"),m+=c*a,d=x>=h?S:h>=x+A?A:h-x,!(d>c);h+=E)f=E-d,a>I(T/f)&&o("overflow"),a*=f;e=v.length+1,x=p(m-s,e,0==s),I(m/e)>T-y&&o("overflow"),y+=I(m/e),m%=e,v.splice(m++,0,y)}return l(v)}function f(t){var e,r,i,n,s,a,l,u,d,f,v,g,m,y,x,b=[];for(t=h(t),g=t.length,e=R,r=0,s=M,a=0;g>a;++a)v=t[a],128>v&&b.push(N(v));for(i=n=b.length,n&&b.push(D);g>i;){for(l=T,a=0;g>a;++a)v=t[a],v>=e&&l>v&&(l=v);for(m=i+1,l-e>I((T-r)/m)&&o("overflow"),r+=(l-e)*m,e=l,a=0;g>a;++a)if(v=t[a],e>v&&++r>T&&o("overflow"),v==e){for(u=r,d=E;f=s>=d?S:d>=s+A?A:d-s,!(f>u);d+=E)x=u-f,y=E-f,b.push(N(c(f+x%y,0))),u=I(x/y);b.push(N(c(u,0))),s=p(r,m,i==n),r=0,++i}++r,++e}return b.join("")}function v(t){return a(t,function(t){return F.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return P.test(t)?"xn--"+f(t):t})}var m="object"==typeof i&&i,y="object"==typeof r&&r&&r.exports==m&&r,x="object"==typeof e&&e;(x.global===x||x.window===x)&&(n=x);var b,_,T=2147483647,E=36,S=1,A=26,w=38,C=700,M=72,R=128,D="-",F=/^xn--/,P=/[^ -~]/,O=/\x2E|\u3002|\uFF0E|\uFF61/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=E-S,I=Math.floor,N=String.fromCharCode;if(b={version:"1.2.4",ucs2:{decode:h,encode:l},decode:d,encode:f,toASCII:g,toUnicode:v},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return b});else if(m&&!m.nodeType)if(y)y.exports=b;else for(_ in b)b.hasOwnProperty(_)&&(m[_]=b[_]);else n.punycode=b}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var l=t.length;h>0&&l>h&&(l=h);for(var u=0;l>u;++u){var c,p,d,f,v=t[u].replace(a,"%20"),g=v.indexOf(r);g>=0?(c=v.substr(0,g),p=v.substr(g+1)):(c=v,p=""),d=decodeURIComponent(c),f=decodeURIComponent(p),i(s,d)?n(s[d])?s[d].push(f):s[d]=[s[d],f]:s[d]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],7:[function(t,e,r){"use strict";function i(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(n(s))+r;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],8:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":6,"./encode":7}],9:[function(t,e,r){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(t,e,r){if(t&&l(t)&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}function o(t){return h(t)&&(t=n(t)),t instanceof i?t.format():i.prototype.format.call(t)}function s(t,e){return n(t,!1,!0).resolve(e)}function a(t,e){return t?n(t,!1,!0).resolveObject(e):e}function h(t){return"string"==typeof t}function l(t){return"object"==typeof t&&null!==t}function u(t){return null===t}function c(t){return null==t}var p=t("punycode");r.parse=n,r.resolve=s,r.resolveObject=a,r.format=o,r.Url=i;var d=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,v=["<",">",'"',"`"," ","\r","\n","	"],g=["{","}","|","\\","^","`"].concat(v),m=["'"].concat(g),y=["%","/","?",";","#"].concat(m),x=["/","?","#"],b=255,_=/^[a-z0-9A-Z_-]{0,63}$/,T=/^([a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=t("querystring");i.prototype.parse=function(t,e,r){if(!h(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t;i=i.trim();var n=d.exec(i);if(n){n=n[0];var o=n.toLowerCase();this.protocol=o,i=i.substr(n.length)}if(r||n||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===i.substr(0,2);!s||n&&S[n]||(i=i.substr(2),this.slashes=!0)}if(!S[n]&&(s||n&&!A[n])){for(var a=-1,l=0;l<x.length;l++){var u=i.indexOf(x[l]);-1!==u&&(-1===a||a>u)&&(a=u)}var c,f;f=-1===a?i.lastIndexOf("@"):i.lastIndexOf("@",a),-1!==f&&(c=i.slice(0,f),i=i.slice(f+1),this.auth=decodeURIComponent(c)),a=-1;for(var l=0;l<y.length;l++){var u=i.indexOf(y[l]);-1!==u&&(-1===a||a>u)&&(a=u)}-1===a&&(a=i.length),this.host=i.slice(0,a),i=i.slice(a),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),l=0,C=g.length;C>l;l++){var M=g[l];if(M&&!M.match(_)){for(var R="",D=0,F=M.length;F>D;D++)R+=M.charCodeAt(D)>127?"x":M[D];if(!R.match(_)){var P=g.slice(0,l),O=g.slice(l+1),B=M.match(T);B&&(P.push(B[1]),O.unshift(B[2])),O.length&&(i="/"+O.join(".")+i),this.hostname=P.join(".");break}}}if(this.hostname=this.hostname.length>b?"":this.hostname.toLowerCase(),!v){for(var L=this.hostname.split("."),I=[],l=0;l<L.length;++l){var N=L[l];I.push(N.match(/[^A-Za-z0-9_-]/)?"xn--"+p.encode(N):N)}this.hostname=I.join(".")}var U=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+U,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!E[o])for(var l=0,C=m.length;C>l;l++){var j=m[l],X=encodeURIComponent(j);X===j&&(X=escape(j)),i=i.split(j).join(X)}var G=i.indexOf("#");-1!==G&&(this.hash=i.substr(G),i=i.slice(0,G));var Y=i.indexOf("?");if(-1!==Y?(this.search=i.substr(Y),this.query=i.substr(Y+1),e&&(this.query=w.parse(this.query)),i=i.slice(0,Y)):e&&(this.search="",this.query={}),i&&(this.pathname=i),A[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",N=this.search||"";this.path=U+N}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(o=w.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||A[e])&&n!==!1?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+n+r+s+i},i.prototype.resolve=function(t){return this.resolveObject(n(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(h(t)){var e=new i;e.parse(t,!1,!0),t=e}var r=new i;if(Object.keys(this).forEach(function(t){r[t]=this[t]},this),r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(r[e]=t[e])}),A[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r;if(t.protocol&&t.protocol!==r.protocol){if(!A[t.protocol])return Object.keys(t).forEach(function(e){r[e]=t[e]}),r.href=r.format(),r;if(r.protocol=t.protocol,t.host||S[t.protocol])r.pathname=t.pathname;else{for(var n=(t.pathname||"").split("/");n.length&&!(t.host=n.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==n[0]&&n.unshift(""),n.length<2&&n.unshift(""),r.pathname=n.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var o=r.pathname||"",s=r.search||"";r.path=o+s}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var a=r.pathname&&"/"===r.pathname.charAt(0),l=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=l||a||r.host&&t.pathname,d=p,f=r.pathname&&r.pathname.split("/")||[],n=t.pathname&&t.pathname.split("/")||[],v=r.protocol&&!A[r.protocol];if(v&&(r.hostname="",r.port=null,r.host&&(""===f[0]?f[0]=r.host:f.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===n[0]?n[0]=t.host:n.unshift(t.host)),t.host=null),p=p&&(""===n[0]||""===f[0])),l)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,f=n;else if(n.length)f||(f=[]),f.pop(),f=f.concat(n),r.search=t.search,r.query=t.query;else if(!c(t.search)){if(v){r.hostname=r.host=f.shift();var g=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return r.search=t.search,r.query=t.query,u(r.pathname)&&u(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!f.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var m=f.slice(-1)[0],y=(r.host||t.host)&&("."===m||".."===m)||""===m,x=0,b=f.length;b>=0;b--)m=f[b],"."==m?f.splice(b,1):".."===m?(f.splice(b,1),x++):x&&(f.splice(b,1),x--);if(!p&&!d)for(;x--;x)f.unshift("..");!p||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),y&&"/"!==f.join("/").substr(-1)&&f.push("");var _=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(v){r.hostname=r.host=_?"":f.length?f.shift():"";var g=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;g&&(r.auth=g.shift(),r.host=r.hostname=g.shift())}return p=p||r.host&&f.length,p&&!_&&f.unshift(""),f.length?r.pathname=f.join("/"):(r.pathname=null,r.path=null),u(r.pathname)&&u(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:5,querystring:8}],10:[function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i=e&&e.length,a=i?e[0]*r:t.length,h=o(t,n(t,0,a,r,!0)),l=[];if(!h)return l;var c,p,d,f,v,g,m;if(i&&(h=u(t,e,h,r)),t.length>80*r){c=d=t[0],p=f=t[1];for(var y=r;a>y;y+=r)v=t[y],g=t[y+1],c>v&&(c=v),p>g&&(p=g),v>d&&(d=v),g>f&&(f=g);m=Math.max(d-c,f-p)}return s(t,h,l,r,c,p,m),l}function n(t,e,r,i,n){var o,s,a,h=0;for(o=e,s=r-i;r>o;o+=i)h+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;if(n===h>0)for(o=e;r>o;o+=i)a=A(o,a);else for(o=r-i;o>=e;o-=i)a=A(o,a);return a}function o(t,e,r){r||(r=e);var i,n=e;do if(i=!1,x(t,n.i,n.next.i)||0===y(t,n.prev.i,n.i,n.next.i)){if(n.prev.next=n.next,n.next.prev=n.prev,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ),n=r=n.prev,n===n.next)return null;i=!0}else n=n.next;while(i||n!==r);return r}function s(t,e,r,i,n,u,c,p){if(e){p||void 0===n||d(t,e,n,u,c);for(var f,v,g=e;e.prev!==e.next;)if(f=e.prev,v=e.next,a(t,e,n,u,c))r.push(f.i/i),r.push(e.i/i),r.push(v.i/i),v.prev=f,f.next=v,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ),e=v.next,g=v.next;else if(e=v,e===g){p?1===p?(e=h(t,e,r,i),s(t,e,r,i,n,u,c,2)):2===p&&l(t,e,r,i,n,u,c):s(t,o(t,e),r,i,n,u,c,1);break}}}function a(t,e,r,i,n){var o=e.prev.i,s=e.i,a=e.next.i,h=t[o],l=t[o+1],u=t[s],c=t[s+1],p=t[a],d=t[a+1],f=h*c-l*u,g=h*d-l*p,m=p*c-d*u,y=f-g-m;if(0>=y)return!1;var x,b,_,T,E,S,A,w=d-l,C=h-p,M=l-c,R=u-h;if(void 0!==r){var D=u>h?p>h?h:p:p>u?u:p,F=c>l?d>l?l:d:d>c?c:d,P=h>u?h>p?h:p:u>p?u:p,O=l>c?l>d?l:d:c>d?c:d,B=v(D,F,r,i,n),L=v(P,O,r,i,n);for(A=e.nextZ;A&&A.z<=L;)if(x=A.i,A=A.nextZ,x!==o&&x!==a&&(b=t[x],_=t[x+1],T=w*b+C*_-g,T>=0&&(E=M*b+R*_+f,E>=0&&(S=y-T-E,S>=0&&(T&&E||T&&S||E&&S)))))return!1;for(A=e.prevZ;A&&A.z>=B;)if(x=A.i,A=A.prevZ,x!==o&&x!==a&&(b=t[x],_=t[x+1],T=w*b+C*_-g,T>=0&&(E=M*b+R*_+f,E>=0&&(S=y-T-E,S>=0&&(T&&E||T&&S||E&&S)))))return!1}else for(A=e.next.next;A!==e.prev;)if(x=A.i,A=A.next,b=t[x],_=t[x+1],T=w*b+C*_-g,T>=0&&(E=M*b+R*_+f,E>=0&&(S=y-T-E,S>=0&&(T&&E||T&&S||E&&S))))return!1;return!0}function h(t,e,r,i){var n=e;do{var o=n.prev,s=n.next.next;if(o.i!==s.i&&b(t,o.i,n.i,n.next.i,s.i)&&T(t,o,s)&&T(t,s,o)){r.push(o.i/i),r.push(n.i/i),r.push(s.i/i),o.next=s,s.prev=o;var a=n.prevZ,h=n.nextZ&&n.nextZ.nextZ;a&&(a.nextZ=h),h&&(h.prevZ=a),n=e=s}n=n.next}while(n!==e);return n}function l(t,e,r,i,n,a,h){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&m(t,l,u)){var c=S(l,u);return l=o(t,l,l.next),c=o(t,c,c.next),s(t,l,r,i,n,a,h),void s(t,c,r,i,n,a,h)}u=u.next}l=l.next}while(l!==e)}function u(t,e,r,i){var s,a,h,l,u,p=[];for(s=0,a=e.length;a>s;s++)h=e[s]*i,l=a-1>s?e[s+1]*i:t.length,u=o(t,n(t,h,l,i,!1)),u&&p.push(g(t,u));for(p.sort(function(e,r){return t[e.i]-t[r.i]}),s=0;s<p.length;s++)c(t,p[s],r),r=o(t,r,r.next);return r}function c(t,e,r){if(r=p(t,e,r)){var i=S(r,e);o(t,i,i.next)}}function p(t,e,r){var i,n,o,s=r,a=e.i,h=t[a],l=t[a+1],u=-(1/0);do{if(n=s.i,o=s.next.i,l<=t[n+1]&&l>=t[o+1]){var c=t[n]+(l-t[n+1])*(t[o]-t[n])/(t[o+1]-t[n+1]);h>=c&&c>u&&(u=c,i=t[n]<t[o]?s:s.next)}s=s.next}while(s!==r);if(!i)return null;var p,d,f,v,g,m,y=t[i.i],x=t[i.i+1],b=h*x-l*y,_=h*l-l*u,E=l-l,S=h-u,A=l-x,w=y-h,C=b-_-(u*x-l*y),M=0>=C?-1:1,R=i,D=1/0;for(s=i.next;s!==R;)p=t[s.i],d=t[s.i+1],f=h-p,f>=0&&p>=y&&(v=(E*p+S*d-_)*M,v>=0&&(g=(A*p+w*d+b)*M,g>=0&&C*M-v-g>=0&&(m=Math.abs(l-d)/f,D>m&&T(t,s,e)&&(i=s,D=m)))),s=s.next;return i}function d(t,e,r,i,n){var o=e;do null===o.z&&(o.z=v(t[o.i],t[o.i+1],r,i,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,f(o)}function f(t){var e,r,i,n,o,s,a,h,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;l>e&&(a++,i=i.nextZ,i);e++);for(h=l;a>0||h>0&&i;)0===a?(n=i,i=i.nextZ,h--):0!==h&&i?r.z<=i.z?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--):(n=r,r=r.nextZ,a--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,l*=2}while(s>1);return t}function v(t,e,r,i,n){return t=1e3*(t-r)/n,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=1e3*(e-i)/n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t,e){var r=e,i=e;do t[r.i]<t[i.i]&&(i=r),r=r.next;while(r!==e);return i}function m(t,e,r){return!_(t,e,e.i,r.i)&&T(t,e,r)&&T(t,r,e)&&E(t,e,e.i,r.i)}function y(t,e,r,i){var n=(t[r+1]-t[e+1])*(t[i]-t[r])-(t[r]-t[e])*(t[i+1]-t[r+1]);return n>0?1:0>n?-1:0}function x(t,e,r){return t[e]===t[r]&&t[e+1]===t[r+1]}function b(t,e,r,i,n){return y(t,e,r,i)!==y(t,e,r,n)&&y(t,i,n,e)!==y(t,i,n,r)}function _(t,e,r,i){var n=e;do{var o=n.i,s=n.next.i;if(o!==r&&s!==r&&o!==i&&s!==i&&b(t,o,s,r,i))return!0;n=n.next}while(n!==e);return!1}function T(t,e,r){return-1===y(t,e.prev.i,e.i,e.next.i)?-1!==y(t,e.i,r.i,e.next.i)&&-1!==y(t,e.i,e.prev.i,r.i):-1===y(t,e.i,r.i,e.prev.i)||-1===y(t,e.i,e.next.i,r.i)}function E(t,e,r,i){var n=e,o=!1,s=(t[r]+t[i])/2,a=(t[r+1]+t[i+1])/2;do{var h=n.i,l=n.next.i;t[h+1]>a!=t[l+1]>a&&s<(t[l]-t[h])*(a-t[h+1])/(t[l+1]-t[h+1])+t[h]&&(o=!o),n=n.next}while(n!==e);return o}function S(t,e){var r=new w(t.i),i=new w(e.i),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function A(t,e){var r=new w(t);return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function w(t){
this.i=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null}e.exports=i},{}],11:[function(t,e,r){"use strict";function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function n(){}var o="function"!=typeof Object.create?"~":!1;n.prototype._events=void 0,n.prototype.listeners=function(t,e){var r=o?o+t:t,i=this._events&&this._events[r];if(e)return!!i;if(!i)return[];if(this._events[r].fn)return[this._events[r].fn];for(var n=0,s=this._events[r].length,a=new Array(s);s>n;n++)a[n]=this._events[r][n].fn;return a},n.prototype.emit=function(t,e,r,i,n,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var h,l,u=this._events[a],c=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,n),!0;case 6:return u.fn.call(u.context,e,r,i,n,s),!0}for(l=1,h=new Array(c-1);c>l;l++)h[l-1]=arguments[l];u.fn.apply(u.context,h)}else{var p,d=u.length;for(l=0;d>l;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,r);break;default:if(!h)for(p=1,h=new Array(c-1);c>p;p++)h[p-1]=arguments[p];u[l].fn.apply(u[l].context,h)}}return!0},n.prototype.on=function(t,e,r){var n=new i(e,r||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],n]:this._events[s].push(n):this._events[s]=n,this},n.prototype.once=function(t,e,r){var n=new i(e,r||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],n]:this._events[s].push(n):this._events[s]=n,this},n.prototype.removeListener=function(t,e,r,i){var n=o?o+t:t;if(!this._events||!this._events[n])return this;var s=this._events[n],a=[];if(e)if(s.fn)(s.fn!==e||i&&!s.once||r&&s.context!==r)&&a.push(s);else for(var h=0,l=s.length;l>h;h++)(s[h].fn!==e||i&&!s[h].once||r&&s[h].context!==r)&&a.push(s[h]);return a.length?this._events[n]=1===a.length?a[0]:a:delete this._events[n],this},n.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=o,e.exports=n},{}],12:[function(t,e,r){"use strict";function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=Object.assign||function(t,e){for(var r,n,o=i(t),s=1;s<arguments.length;s++){r=arguments[s],n=Object.keys(Object(r));for(var a=0;a<n.length;a++)o[n[a]]=r[n[a]]}return o}},{}],13:[function(e,r,i){(function(e){!function(){function i(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(n,arguments)}}var n,o,s={};n=this,null!=n&&(o=n.async),s.noConflict=function(){return n.async=o,s};var a=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===a.call(t)},l=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r+=1)e(t[r],r,t)},u=function(t,e){if(t.map)return t.map(e);var r=[];return l(t,function(t,i,n){r.push(e(t,i,n))}),r},c=function(t,e,r){return t.reduce?t.reduce(e,r):(l(t,function(t,i,n){r=e(r,t,i,n)}),r)},p=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,s.setImmediate="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(t){setImmediate(t)},s.setImmediate=s.nextTick):(s.nextTick=function(t){setTimeout(t,0)},s.setImmediate=s.nextTick),s.each=function(t,e,r){function n(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;l(t,function(t){e(t,i(n))})},s.forEach=s.each,s.eachSeries=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0,n=function(){e(t[i],function(e){e?(r(e),r=function(){}):(i+=1,i>=t.length?r():n())})};n()},s.forEachSeries=s.eachSeries,s.eachLimit=function(t,e,r,i){var n=d(e);n.apply(null,[t,r,i])},s.forEachLimit=s.eachLimit;var d=function(t){return function(e,r,i){if(i=i||function(){},!e.length||0>=t)return i();var n=0,o=0,s=0;!function a(){if(n>=e.length)return i();for(;t>s&&o<e.length;)o+=1,s+=1,r(e[o-1],function(t){t?(i(t),i=function(){}):(n+=1,s-=1,n>=e.length?i():a())})}()}},f=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.each].concat(e))}},v=function(t,e){return function(){var r=Array.prototype.slice.call(arguments);return e.apply(null,[d(t)].concat(r))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[s.eachSeries].concat(e))}},m=function(t,e,r,i){if(e=u(e,function(t,e){return{index:e,value:t}}),i){var n=[];t(e,function(t,e){r(t.value,function(r,i){n[t.index]=i,e(r)})},function(t){i(t,n)})}else t(e,function(t,e){r(t.value,function(t){e(t)})})};s.map=f(m),s.mapSeries=g(m),s.mapLimit=function(t,e,r,i){return y(e)(t,r,i)};var y=function(t){return v(t,m)};s.reduce=function(t,e,r,i){s.eachSeries(t,function(t,i){r(e,t,function(t,r){e=r,i(t)})},function(t){i(t,e)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(t,e,r,i){var n=u(t,function(t){return t}).reverse();s.reduce(n,e,r,i)},s.foldr=s.reduceRight;var x=function(t,e,r,i){var n=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r&&n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.filter=f(x),s.filterSeries=g(x),s.select=s.filter,s.selectSeries=s.filterSeries;var b=function(t,e,r,i){var n=[];e=u(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){r(t.value,function(r){r||n.push(t),e()})},function(t){i(u(n.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};s.reject=f(b),s.rejectSeries=g(b);var _=function(t,e,r,i){t(e,function(t,e){r(t,function(r){r?(i(t),i=function(){}):e()})},function(t){i()})};s.detect=f(_),s.detectSeries=g(_),s.some=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t&&(r(!0),r=function(){}),i()})},function(t){r(!1)})},s.any=s.some,s.every=function(t,e,r){s.each(t,function(t,i){e(t,function(t){t||(r(!1),r=function(){}),i()})},function(t){r(!0)})},s.all=s.every,s.sortBy=function(t,e,r){s.map(t,function(t,r){e(t,function(e,i){e?r(e):r(null,{value:t,criteria:i})})},function(t,e){if(t)return r(t);var i=function(t,e){var r=t.criteria,i=e.criteria;return i>r?-1:r>i?1:0};r(null,u(e.sort(i),function(t){return t.value}))})},s.auto=function(t,e){e=e||function(){};var r=p(t),i=r.length;if(!i)return e();var n={},o=[],a=function(t){o.unshift(t)},u=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},d=function(){i--,l(o.slice(0),function(t){t()})};a(function(){if(!i){var t=e;e=function(){},t(null,n)}}),l(r,function(r){var i=h(t[r])?t[r]:[t[r]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};l(p(n),function(t){o[t]=n[t]}),o[r]=i,e(t,o),e=function(){}}else n[r]=i,s.setImmediate(d)},f=i.slice(0,Math.abs(i.length-1))||[],v=function(){return c(f,function(t,e){return t&&n.hasOwnProperty(e)},!0)&&!n.hasOwnProperty(r)};if(v())i[i.length-1](o,n);else{var g=function(){v()&&(u(g),i[i.length-1](o,n))};a(g)}})},s.retry=function(t,e,r){var i=5,n=[];"function"==typeof t&&(r=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var a=function(t,e){return function(r){t(function(t,i){r(!t||e,{err:t,result:i})},o)}};t;)n.push(a(e,!(t-=1)));s.series(n,function(t,e){e=e[e.length-1],(i||r)(e.err,e.result)})};return r?o():o},s.waterfall=function(t,e){if(e=e||function(){},!h(t)){var r=new Error("First argument to waterfall must be an array of functions");return e(r)}if(!t.length)return e();var i=function(t){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var n=Array.prototype.slice.call(arguments,1),o=t.next();n.push(o?i(o):e),s.setImmediate(function(){t.apply(null,n)})}}};i(s.iterator(t))()};var T=function(t,e,r){if(r=r||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},r);else{var i={};t.each(p(e),function(t,r){e[t](function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),i[t]=n,r(e)})},function(t){r(t,i)})}};s.parallel=function(t,e){T({map:s.map,each:s.each},t,e)},s.parallelLimit=function(t,e,r){T({map:y(e),each:d(e)},t,r)},s.series=function(t,e){if(e=e||function(){},h(t))s.mapSeries(t,function(t,e){t&&t(function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),e.call(null,t,r)})},e);else{var r={};s.eachSeries(p(t),function(e,i){t[e](function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),r[e]=n,i(t)})},function(t){e(t,r)})}},s.iterator=function(t){var e=function(r){var i=function(){return t.length&&t[r].apply(null,arguments),i.next()};return i.next=function(){return r<t.length-1?e(r+1):null},i};return e(0)},s.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var E=function(t,e,r,i){var n=[];t(e,function(t,e){r(t,function(t,r){n=n.concat(r||[]),e(t)})},function(t){i(t,n)})};s.concat=f(E),s.concatSeries=g(E),s.whilst=function(t,e,r){t()?e(function(i){return i?r(i):void s.whilst(t,e,r)}):r()},s.doWhilst=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?s.doWhilst(t,e,r):r()})},s.until=function(t,e,r){t()?r():e(function(i){return i?r(i):void s.until(t,e,r)})},s.doUntil=function(t,e,r){t(function(i){if(i)return r(i);var n=Array.prototype.slice.call(arguments,1);e.apply(null,n)?r():s.doUntil(t,e,r)})},s.queue=function(t,e){function r(t,e,r,i){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var n={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(n):t.tasks.push(n),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}void 0===e&&(e=1);var n=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){r(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(!o.paused&&n<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),n+=1;var r=function(){n-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+n===0&&o.drain(),o.process()},s=i(r);t(e.data,s)}},length:function(){return o.tasks.length},running:function(){return n},idle:function(){return o.tasks.length+n===0},pause:function(){o.paused!==!0&&(o.paused=!0,o.process())},resume:function(){o.paused!==!1&&(o.paused=!1,o.process())}};return o},s.priorityQueue=function(t,e){function r(t,e){return t.priority-e.priority}function i(t,e,r){for(var i=-1,n=t.length-1;n>i;){var o=i+(n-i+1>>>1);r(e,t[o])>=0?i=o:n=o-1}return i}function n(t,e,n,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?s.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var a={data:e,priority:n,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,a,r)+1,0,a),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),s.setImmediate(t.process)})}var o=s.queue(t,e);return o.push=function(t,e,r){n(o,t,e,r)},delete o.unshift,o},s.cargo=function(t,e){var r=!1,i=[],n={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,r){h(t)||(t=[t]),l(t,function(t){i.push({data:t,callback:"function"==typeof r?r:null}),n.drained=!1,n.saturated&&i.length===e&&n.saturated()}),s.setImmediate(n.process)},process:function o(){if(!r){if(0===i.length)return n.drain&&!n.drained&&n.drain(),void(n.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=u(s,function(t){return t.data});n.empty&&n.empty(),r=!0,t(a,function(){r=!1;var t=arguments;l(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return r}};return n};var S=function(t){return function(e){var r=Array.prototype.slice.call(arguments,1);e.apply(null,r.concat([function(e){var r=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(r,function(e){console[t](e)}))}]))}};s.log=S("log"),s.dir=S("dir"),s.memoize=function(t,e){var r={},i={};e=e||function(t){return t};var n=function(){var n=Array.prototype.slice.call(arguments),o=n.pop(),a=e.apply(null,n);a in r?s.nextTick(function(){o.apply(null,r[a])}):a in i?i[a].push(o):(i[a]=[o],t.apply(null,n.concat([function(){r[a]=arguments;var t=i[a];delete i[a];for(var e=0,n=t.length;n>e;e++)t[e].apply(null,arguments)}])))};return n.memo=r,n.unmemoized=t,n},s.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},s.times=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.map(i,e,r)},s.timesSeries=function(t,e,r){for(var i=[],n=0;t>n;n++)i.push(n);return s.mapSeries(i,e,r)},s.seq=function(){var t=arguments;return function(){var e=this,r=Array.prototype.slice.call(arguments),i=r.pop();s.reduce(t,r,function(t,r,i){r.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,r){i.apply(e,[t].concat(r))})}},s.compose=function(){return s.seq.apply(null,Array.prototype.reverse.call(arguments))};var A=function(t,e){var r=function(){var r=this,i=Array.prototype.slice.call(arguments),n=i.pop();return t(e,function(t,e){t.apply(r,i.concat([e]))},n)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return r.apply(this,i)}return r};s.applyEach=f(A),s.applyEachSeries=g(A),s.forever=function(t,e){function r(i){if(i){if(e)return e(i);throw i}t(r)}r()},"undefined"!=typeof r&&r.exports?r.exports=s:"undefined"!=typeof t&&t.amd?t([],function(){return s}):n.async=s}()}).call(this,e("_process"))},{_process:4}],14:[function(t,e,r){arguments[4][11][0].apply(r,arguments)},{dup:11}],15:[function(t,e,r){function i(t,e){a.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=n.queue(this._boundLoadResource,e),this.resources={}}var n=t("async"),o=t("url"),s=t("./Resource"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.add=i.prototype.enqueue=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._handleBaseUrl(e),this.resources[t]=new s(t,e,r),"function"==typeof i&&this.resources[t].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},i.prototype._handleBaseUrl=function(t){var e=o.parse(t);return e.protocol||0===e.pathname.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.lastIndexOf("/")!==t.length-1?this.baseUrl+"/"+t:this.baseUrl+t},i.prototype.before=i.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},i.prototype.after=i.prototype.use=function(t){return this._afterMiddleware.push(t),this},i.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},i.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},i.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(r._boundOnLoad)})},i.prototype._onComplete=function(){this.emit("complete",this,this.resources)},i.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&this._onComplete()}),t._dequeue()},i.prototype._runMiddleware=function(t,e,r){var i=this;n.eachSeries(e,function(e,r){e.call(i,t,r)},r.bind(this,t))},i.LOAD_TYPE=s.LOAD_TYPE,i.XHR_READY_STATE=s.XHR_READY_STATE,i.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},{"./Resource":16,async:13,eventemitter3:14,url:9}],16:[function(t,e,r){function i(t,e,r){if(s.call(this),r=r||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=r.crossOrigin===!0?"anonymous":null,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function n(t){return t.toString().replace("object ","")}function o(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}var s=t("eventemitter3"),a=t("url"),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},i.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this._loadImage();break;case i.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case i.LOAD_TYPE.VIDEO:this._loadElement("video");break;case i.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},i.prototype._loadElement=function(t){if(this.data=document.createElement(t),Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},i.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.responseType=this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?i.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},i.prototype._createSource=function(t,e,r){r||(r=t+"/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=r,i},i.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},i.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},i.prototype._xhrOnError=function(){this.error=new Error(n(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},i.prototype._xhrOnAbort=function(){this.error=new Error(n(this.xhr)+" Request was aborted by the user."),this.complete()},i.prototype._xdrOnTimeout=function(){this.error=new Error(n(this.xhr)+" Request timed out."),this.complete()},i.prototype._xhrOnLoad=function(){var t=this.xhr,e=void 0!==t.status?t.status:200;if(200===e||204===e||0===e&&t.responseText.length>0)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(r){this.error=new Error("Error trying to parse loaded json:",r)}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(t.responseText,"text/xml")}else{var o=document.createElement("div");o.innerHTML=t.responseText,this.data=o}this.isXml=!0}catch(r){this.error=new Error("Error trying to parse loaded xml:",r)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},i.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,l||(l=document.createElement("a")),l.href=t,t=a.parse(l.href);var r=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"},i.prototype._determineXhrType=function(){return i._xhrTypeMap[this._getExtension()]||i.XHR_RESPONSE_TYPE.TEXT},i.prototype._determineLoadType=function(){return i._loadTypeMap[this._getExtension()]||i.LOAD_TYPE.XHR},i.prototype._getExtension=function(){var t,e=this.url;if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?");-1!==i&&(e=e.substring(0,i)),t=e.substring(e.lastIndexOf(".")+1)}return t},i.prototype._getMimeFromXhrType=function(t){switch(t){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},i.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},i._loadTypeMap={gif:i.LOAD_TYPE.IMAGE,png:i.LOAD_TYPE.IMAGE,bmp:i.LOAD_TYPE.IMAGE,jpg:i.LOAD_TYPE.IMAGE,jpeg:i.LOAD_TYPE.IMAGE,tif:i.LOAD_TYPE.IMAGE,tiff:i.LOAD_TYPE.IMAGE,webp:i.LOAD_TYPE.IMAGE,tga:i.LOAD_TYPE.IMAGE},i._xhrTypeMap={xhtml:i.XHR_RESPONSE_TYPE.DOCUMENT,html:i.XHR_RESPONSE_TYPE.DOCUMENT,htm:i.XHR_RESPONSE_TYPE.DOCUMENT,xml:i.XHR_RESPONSE_TYPE.DOCUMENT,tmx:i.XHR_RESPONSE_TYPE.DOCUMENT,tsx:i.XHR_RESPONSE_TYPE.DOCUMENT,svg:i.XHR_RESPONSE_TYPE.DOCUMENT,gif:i.XHR_RESPONSE_TYPE.BLOB,png:i.XHR_RESPONSE_TYPE.BLOB,bmp:i.XHR_RESPONSE_TYPE.BLOB,jpg:i.XHR_RESPONSE_TYPE.BLOB,jpeg:i.XHR_RESPONSE_TYPE.BLOB,tif:i.XHR_RESPONSE_TYPE.BLOB,tiff:i.XHR_RESPONSE_TYPE.BLOB,webp:i.XHR_RESPONSE_TYPE.BLOB,tga:i.XHR_RESPONSE_TYPE.BLOB,json:i.XHR_RESPONSE_TYPE.JSON,text:i.XHR_RESPONSE_TYPE.TEXT,txt:i.XHR_RESPONSE_TYPE.TEXT},i.setExtensionLoadType=function(t,e){o(i._loadTypeMap,t,e)},i.setExtensionXhrType=function(t,e){o(i._xhrTypeMap,t,e)}},{eventemitter3:14,url:9}],17:[function(t,e,r){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,r="",i=new Array(4),n=0,o=0,s=0;n<t.length;){for(e=new Array(3),o=0;o<e.length;o++)e[o]=n<t.length?255&t.charCodeAt(n++):0;switch(i[0]=e[0]>>2,i[1]=(3&e[0])<<4|e[1]>>4,i[2]=(15&e[1])<<2|e[2]>>6,i[3]=63&e[2],s=n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;o++)r+=this._keyStr.charAt(i[o])}return r}}},{}],18:[function(t,e,r){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":15,"./Resource":16,"./middlewares/caching/memory":19,"./middlewares/parsing/blob":20}],19:[function(t,e,r){var i={};e.exports=function(){return function(t,e){i[t.url]?(t.data=i[t.url],t.complete()):(t.once("complete",function(){i[this.url]=this.data}),e())}}},{}],20:[function(t,e,r){var i=t("../../Resource"),n=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=r,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(r),t.data.onload=null,e()}}}else{var o=t.xhr.getResponseHeader("content-type");o&&0===o.indexOf("image")&&(t.data=new Image,t.data.src="data:"+o+";base64,"+n.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":16,"../../b64":17}],21:[function(t,e,r){e.exports={name:"pixi.js",version:"3.0.7",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:"Mat Groves",contributors:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:"https://github.com/GoodBoyDigital/pixi.js/issues",license:"MIT",repository:{type:"git",url:"https://github.com/GoodBoyDigital/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/"],dependencies:{async:"^0.9.0",brfs:"^1.4.0",earcut:"^2.0.1",eventemitter3:"^1.1.0","object-assign":"^2.0.0","resource-loader":"^1.6.1"},devDependencies:{browserify:"^10.2.3",chai:"^3.0.0",del:"^1.2.0",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.11.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.5","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.0","jshint-summary":"^0.4.0",minimist:"^1.1.1",mocha:"^2.2.5","require-dir":"^0.3.0","run-sequence":"^1.1.0",testem:"^0.8.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.2.1"},browserify:{transform:["brfs"]}}},{}],22:[function(t,e,r){var i={VERSION:t("../../package.json").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};e.exports=i},{"../../package.json":21}],23:[function(t,e,r){function i(){o.call(this),this.children=[]}var n=t("../math"),o=t("./DisplayObject"),s=t("../textures/RenderTexture"),a=new n.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}}),i.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},i.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);if(0>r||0>i)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[r]=e,this.children[i]=t}},i.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},i.prototype.setChildIndex=function(t,e){if(0>e||e>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(t);this.children.splice(r,1),this.children.splice(e,0,t)},i.prototype.getChildAt=function(t){if(0>t||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},i.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(-1!==e)return this.removeChildAt(e)},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),e.emit("removed",this),e},i.prototype.removeChildren=function(t,e){var r=t||0,i="number"==typeof e?e:this.children.length,n=i-r;if(n>0&&i>=n){for(var o=this.children.splice(r,n),s=0;s<o.length;++s)o[s].parent=null;return o}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new s(t,0|i.width,0|i.height,r,e);return a.tx=-i.x,a.ty=-i.y,n.render(this,a),n},i.prototype.updateTransform=function(){
if(this.visible){this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;e>t;++t)this.children[t].updateTransform()}},i.prototype.containerUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return n.Rectangle.EMPTY;for(var t,e,r,i=1/0,o=1/0,s=-(1/0),a=-(1/0),h=!1,l=0,u=this.children.length;u>l;++l){var c=this.children[l];c.visible&&(h=!0,t=this.children[l].getBounds(),i=i<t.x?i:t.x,o=o<t.y?o:t.y,e=t.width+t.x,r=t.height+t.y,s=s>e?s:e,a=a>r?a:r)}if(!h)return n.Rectangle.EMPTY;var p=this._bounds;p.x=i,p.y=o,p.width=s-i,p.height=a-o,this._currentBounds=p}return this._currentBounds},i.prototype.containerGetBounds=i.prototype.getBounds,i.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=n.Matrix.IDENTITY;for(var e=0,r=this.children.length;r>e;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(n.Matrix.IDENTITY)},i.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,r;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,r=this.children.length;r>e;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,r=this.children.length;r>e;++e)this.children[e].renderWebGL(t)}},i.prototype._renderWebGL=function(t){},i.prototype._renderCanvas=function(t){},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,r=this.children.length;r>e;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.prototype.destroy=function(t){if(o.prototype.destroy.call(this),t)for(var e=0,r=this.children.length;r>e;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},{"../math":32,"../textures/RenderTexture":70,"./DisplayObject":24}],24:[function(t,e,r){function i(){s.call(this),this.position=new n.Point,this.scale=new n.Point(1,1),this.pivot=new n.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new n.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new n.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cachedObject=null}var n=t("../math"),o=t("../textures/RenderTexture"),s=t("eventemitter3"),a=t("../const"),h=new n.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),i.prototype.updateTransform=function(){var t,e,r,i,n,o,s=this.parent.worldTransform,h=this.worldTransform;this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,i=this._cr*this.scale.y,n=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*t+this.pivot.y*r,o-=this.pivot.x*e+this.pivot.y*i),h.a=t*s.a+e*s.c,h.b=t*s.b+e*s.d,h.c=r*s.a+i*s.c,h.d=r*s.b+i*s.d,h.tx=n*s.a+o*s.c+s.tx,h.ty=n*s.b+o*s.d+s.ty):(t=this.scale.x,i=this.scale.y,n=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*i,h.a=t*s.a,h.b=t*s.b,h.c=i*s.c,h.d=i*s.d,h.tx=n*s.a+o*s.c+s.tx,h.ty=n*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},i.prototype.displayObjectUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(t){return n.Rectangle.EMPTY},i.prototype.getLocalBounds=function(){return this.getBounds(n.Matrix.IDENTITY)},i.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},i.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},i.prototype.renderWebGL=function(t){},i.prototype.renderCanvas=function(t){},i.prototype.generateTexture=function(t,e,r){var i=this.getLocalBounds(),n=new o(t,0|i.width,0|i.height,e,r);return h.tx=-i.x,h.ty=-i.y,n.render(this,h),n},i.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":22,"../math":32,"../textures/RenderTexture":70,eventemitter3:11}],25:[function(t,e,r){function i(){n.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=u.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new l.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var n=t("../display/Container"),o=t("../textures/Texture"),s=t("../renderers/canvas/utils/CanvasBuffer"),a=t("../renderers/canvas/utils/CanvasGraphics"),h=t("./GraphicsData"),l=t("../math"),u=t("../const"),c=new l.Point;i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{}),i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=this.dirty,t.glDirty=this.glDirty,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype.lineStyle=function(t,e,r){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===r?1:r,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new l.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},i.prototype.moveTo=function(t,e){return this.drawShape(new l.Polygon([t,e])),this},i.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},i.prototype.quadraticCurveTo=function(t,e,r,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var h=a[a.length-2],l=a[a.length-1],u=0,c=1;s>=c;++c)u=c/s,n=h+(t-h)*u,o=l+(e-l)*u,a.push(n+(t+(r-t)*u-n)*u,o+(e+(i-e)*u-o)*u);return this.dirty=this.boundsDirty=!0,this},i.prototype.bezierCurveTo=function(t,e,r,i,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,h,l,u,c=20,p=this.currentPath.shape.points,d=p[p.length-2],f=p[p.length-1],v=0,g=1;c>=g;++g)v=g/c,s=1-v,a=s*s,h=a*s,l=v*v,u=l*v,p.push(h*d+3*a*v*t+3*s*l*r+u*n,h*f+3*a*v*e+3*s*l*i+u*o);return this.dirty=this.boundsDirty=!0,this},i.prototype.arcTo=function(t,e,r,i,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],h=a-e,l=s-t,u=i-e,c=r-t,p=Math.abs(h*c-l*u);if(1e-8>p||0===n)(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e);else{var d=h*h+l*l,f=u*u+c*c,v=h*u+l*c,g=n*Math.sqrt(d)/p,m=n*Math.sqrt(f)/p,y=g*v/d,x=m*v/f,b=g*c+m*l,_=g*u+m*h,T=l*(m+y),E=h*(m+y),S=c*(g+x),A=u*(g+x),w=Math.atan2(E-_,T-b),C=Math.atan2(A-_,S-b);this.arc(b+t,_+e,n,w,C,l*u>c*h)}return this.dirty=this.boundsDirty=!0,this},i.prototype.arc=function(t,e,r,i,n,o){if(o=o||!1,i===n)return this;!o&&i>=n?n+=2*Math.PI:o&&n>=i&&(i+=2*Math.PI);var s=o?-1*(i-n):n-i,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var h=t+Math.cos(i)*r,l=e+Math.sin(i)*r;this.currentPath?o&&this.filling?this.currentPath.shape.points.push(t,e):this.currentPath.shape.points.push(h,l):o&&this.filling?this.moveTo(t,e):this.moveTo(h,l);for(var u=this.currentPath.shape.points,c=s/(2*a),p=2*c,d=Math.cos(c),f=Math.sin(c),v=a-1,g=v%1/v,m=0;v>=m;m++){var y=m+g*m,x=c+i+p*y,b=Math.cos(x),_=-Math.sin(x);u.push((d*b+f*_)*r+t,(d*-_+f*b)*r+e)}return this.dirty=this.boundsDirty=!0,this},i.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,e,r,i){return this.drawShape(new l.Rectangle(t,e,r,i)),this},i.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new l.RoundedRectangle(t,e,r,i,n)),this},i.prototype.drawCircle=function(t,e,r){return this.drawShape(new l.Circle(t,e,r)),this},i.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new l.Ellipse(t,e,r,i)),this},i.prototype.drawPolygon=function(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}return this.drawShape(new l.Polygon(e)),this},i.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.prototype.generateTexture=function(t,e,r){e=e||1;var i=this.getLocalBounds(),n=new s(i.width*e,i.height*e),h=o.fromCanvas(n.canvas,r);return h.baseTexture.resolution=e,n.context.scale(e,e),n.context.translate(-i.x,-i.y),a.renderGraphics(this,n.context),h},i.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},i.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint);var e=t.context,r=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=t.blendModes[t.currentBlendMode]);var i=t.resolution;e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),a.renderGraphics(this,e)}},i.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return l.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,r=e.x,i=e.width+e.x,n=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,h=s.b,u=s.c,c=s.d,p=s.tx,d=s.ty,f=a*i+u*o+p,v=c*o+h*i+d,g=a*r+u*o+p,m=c*o+h*r+d,y=a*r+u*n+p,x=c*n+h*r+d,b=a*i+u*n+p,_=c*n+h*i+d,T=f,E=v,S=f,A=v;S=S>g?g:S,S=S>y?y:S,S=S>b?b:S,A=A>m?m:A,A=A>x?x:A,A=A>_?_:A,T=g>T?g:T,T=y>T?y:T,T=b>T?b:T,E=m>E?m:E,E=x>E?x:E,E=_>E?_:E,this._bounds.x=S,this._bounds.width=T-S,this._bounds.y=A,this._bounds.height=E-A,this._currentBounds=this._bounds}return this._currentBounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);for(var e=this.graphicsData,r=0;r<e.length;r++){var i=e[r];if(i.fill&&i.shape&&i.shape.contains(c.x,c.y))return!0}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),r=1/0,i=-(1/0);if(this.graphicsData.length)for(var n,o,s,a,h,l,c=0;c<this.graphicsData.length;c++){var p=this.graphicsData[c],d=p.type,f=p.lineWidth;if(n=p.shape,d===u.SHAPES.RECT||d===u.SHAPES.RREC)s=n.x-f/2,a=n.y-f/2,h=n.width+f,l=n.height+f,t=t>s?s:t,e=s+h>e?s+h:e,r=r>a?a:r,i=a+l>i?a+l:i;else if(d===u.SHAPES.CIRC)s=n.x,a=n.y,h=n.radius+f/2,l=n.radius+f/2,t=t>s-h?s-h:t,e=s+h>e?s+h:e,r=r>a-l?a-l:r,i=a+l>i?a+l:i;else if(d===u.SHAPES.ELIP)s=n.x,a=n.y,h=n.width+f/2,l=n.height+f/2,t=t>s-h?s-h:t,e=s+h>e?s+h:e,r=r>a-l?a-l:r,i=a+l>i?a+l:i;else{o=n.points;for(var v=0;v<o.length;v+=2)s=o[v],a=o[v+1],t=t>s-f?s-f:t,e=s+f>e?s+f:e,r=r>a-f?a-f:r,i=a+f>i?a+f:i}}else t=0,e=0,r=0,i=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=r-g,this._localBounds.height=i-r+2*g},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new h(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===u.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},i.prototype.destroy=function(){n.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var r=0;r<this._webgl[e].data.length;++r)this._webgl[e].data[r].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/canvas/utils/CanvasGraphics":45,"../textures/Texture":71,"./GraphicsData":26}],26:[function(t,e,r){function i(t,e,r,i,n,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=r,this._lineTint=e,this.fillColor=i,this.fillAlpha=n,this._fillTint=i,this.fill=o,this.shape=s,this.type=s.type}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},i.prototype.destroy=function(){this.shape=null}},{}],27:[function(t,e,r){function i(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var n=t("../../utils"),o=t("../../math"),s=t("../../const"),a=t("../../renderers/webgl/utils/ObjectRenderer"),h=t("../../renderers/webgl/WebGLRenderer"),l=t("./WebGLGraphicsData"),u=t("earcut");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,h.registerPlugin("graphics",i),i.prototype.onContextChange=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},i.prototype.render=function(t){var e,r=this.renderer,i=r.gl,o=r.shaderManager.plugins.primitiveShader;t.dirty&&this.updateGraphics(t,i);var s=t._webGL[i.id];r.blendModeManager.setBlendMode(t.blendMode);for(var a=0;a<s.data.length;a++)1===s.data[a].mode?(e=s.data[a],r.stencilManager.pushStencil(t,e,r),i.uniform1f(r.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilManager.popStencil(t,e,r)):(e=s.data[a],o=r.shaderManager.primitiveShader,r.shaderManager.setShader(o),i.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,r.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(o.uniforms.tint._location,n.hex2rgb(t.tint)),i.uniform1f(o.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(o.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(o.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0))},i.prototype.updateGraphics=function(t){var e=this.renderer.gl,r=t._webGL[e.id];r||(r=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var i;if(t.clearDirty){for(t.clearDirty=!1,i=0;i<r.data.length;i++){var n=r.data[i];n.reset(),this.graphicsDataPool.push(n)}r.data=[],r.lastIndex=0}var o;for(i=r.lastIndex;i<t.graphicsData.length;i++){var a=t.graphicsData[i];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]!==a.points[a.points.length-2]||a.points[1]!==a.points[a.points.length-1])&&a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){o=this.switchMode(r,0);var h=this.buildPoly(a,o);h||(o=this.switchMode(r,1),this.buildComplexPoly(a,o))}else o=this.switchMode(r,1),this.buildComplexPoly(a,o);a.lineWidth>0&&(o=this.switchMode(r,0),this.buildLine(a,o))}else o=this.switchMode(r,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,o):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,o):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,o);r.lastIndex++}for(i=0;i<r.data.length;i++)o=r.data[i],o.dirty&&o.upload()},i.prototype.switchMode=function(t,e){var r;return t.data.length?(r=t.data[t.data.length-1],(r.points.length>32e4||r.mode!==e||1===e)&&(r=this.graphicsDataPool.pop()||new l(t.gl),r.mode=e,t.data.push(r))):(r=this.graphicsDataPool.pop()||new l(t.gl),r.mode=e,t.data.push(r)),r.dirty=!0,r},i.prototype.buildRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var h=n.hex2rgb(t.fillColor),l=t.fillAlpha,u=h[0]*l,c=h[1]*l,p=h[2]*l,d=e.points,f=e.indices,v=d.length/6;d.push(i,o),d.push(u,c,p,l),d.push(i+s,o),d.push(u,c,p,l),d.push(i,o+a),d.push(u,c,p,l),d.push(i+s,o+a),d.push(u,c,p,l),f.push(v,v,v+1,v+2,v+3,v+3)}if(t.lineWidth){var g=t.points;t.points=[i,o,i+s,o,i+s,o+a,i,o+a,i,o],this.buildLine(t,e),t.points=g}},i.prototype.buildRoundedRectangle=function(t,e){var r=t.shape,i=r.x,o=r.y,s=r.width,a=r.height,h=r.radius,l=[];if(l.push(i,o+h),this.quadraticBezierCurve(i,o+a-h,i,o+a,i+h,o+a,l),this.quadraticBezierCurve(i+s-h,o+a,i+s,o+a,i+s,o+a-h,l),this.quadraticBezierCurve(i+s,o+h,i+s,o,i+s-h,o,l),this.quadraticBezierCurve(i+h,o,i,o,i,o+h+1e-10,l),t.fill){var c=n.hex2rgb(t.fillColor),p=t.fillAlpha,d=c[0]*p,f=c[1]*p,v=c[2]*p,g=e.points,m=e.indices,y=g.length/6,x=u(l,null,2),b=0;for(b=0;b<x.length;b+=3)m.push(x[b]+y),m.push(x[b]+y),m.push(x[b+1]+y),m.push(x[b+2]+y),m.push(x[b+2]+y);for(b=0;b<l.length;b++)g.push(l[b],l[++b],d,f,v,p)}if(t.lineWidth){var _=t.points;t.points=l,this.buildLine(t,e),t.points=_}},i.prototype.quadraticBezierCurve=function(t,e,r,i,n,o,s){function a(t,e,r){var i=e-t;return t+i*r}for(var h,l,u,c,p,d,f=20,v=s||[],g=0,m=0;f>=m;m++)g=m/f,h=a(t,r,g),l=a(e,i,g),u=a(r,n,g),c=a(i,o,g),p=a(h,u,g),d=a(l,c,g),v.push(p,d);return v},i.prototype.buildCircle=function(t,e){var r,i,o=t.shape,a=o.x,h=o.y;t.type===s.SHAPES.CIRC?(r=o.radius,i=o.radius):(r=o.width,i=o.height);var l=40,u=2*Math.PI/l,c=0;if(t.fill){var p=n.hex2rgb(t.fillColor),d=t.fillAlpha,f=p[0]*d,v=p[1]*d,g=p[2]*d,m=e.points,y=e.indices,x=m.length/6;for(y.push(x),c=0;l+1>c;c++)m.push(a,h,f,v,g,d),m.push(a+Math.sin(u*c)*r,h+Math.cos(u*c)*i,f,v,g,d),y.push(x++,x++);y.push(x-1)}if(t.lineWidth){var b=t.points;for(t.points=[],c=0;l+1>c;c++)t.points.push(a+Math.sin(u*c)*r,h+Math.cos(u*c)*i);this.buildLine(t,e),t.points=b}},i.prototype.buildLine=function(t,e){var r=0,i=t.points;if(0!==i.length){if(t.lineWidth%2)for(r=0;r<i.length;r++)i[r]+=.5;var s=new o.Point(i[0],i[1]),a=new o.Point(i[i.length-2],i[i.length-1]);if(s.x===a.x&&s.y===a.y){i=i.slice(),i.pop(),i.pop(),a=new o.Point(i[i.length-2],i[i.length-1]);var h=a.x+.5*(s.x-a.x),l=a.y+.5*(s.y-a.y);i.unshift(h,l),i.push(h,l)}var u,c,p,d,f,v,g,m,y,x,b,_,T,E,S,A,w,C,M,R,D,F,P,O=e.points,B=e.indices,L=i.length/2,I=i.length,N=O.length/6,U=t.lineWidth/2,k=n.hex2rgb(t.lineColor),j=t.lineAlpha,X=k[0]*j,G=k[1]*j,Y=k[2]*j;for(p=i[0],d=i[1],f=i[2],v=i[3],y=-(d-v),x=p-f,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=U,x*=U,O.push(p-y,d-x,X,G,Y,j),O.push(p+y,d+x,X,G,Y,j),r=1;L-1>r;r++)p=i[2*(r-1)],d=i[2*(r-1)+1],f=i[2*r],v=i[2*r+1],g=i[2*(r+1)],m=i[2*(r+1)+1],y=-(d-v),x=p-f,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=U,x*=U,b=-(v-m),_=f-g,P=Math.sqrt(b*b+_*_),b/=P,_/=P,b*=U,_*=U,S=-x+d-(-x+v),A=-y+f-(-y+p),w=(-y+p)*(-x+v)-(-y+f)*(-x+d),C=-_+m-(-_+v),M=-b+f-(-b+g),R=(-b+g)*(-_+v)-(-b+f)*(-_+m),D=S*M-C*A,Math.abs(D)<.1?(D+=10.1,O.push(f-y,v-x,X,G,Y,j),O.push(f+y,v+x,X,G,Y,j)):(u=(A*R-M*w)/D,c=(C*w-S*R)/D,F=(u-f)*(u-f)+(c-v)+(c-v),F>19600?(T=y-b,E=x-_,P=Math.sqrt(T*T+E*E),T/=P,E/=P,T*=U,E*=U,O.push(f-T,v-E),O.push(X,G,Y,j),O.push(f+T,v+E),O.push(X,G,Y,j),O.push(f-T,v-E),O.push(X,G,Y,j),I++):(O.push(u,c),O.push(X,G,Y,j),O.push(f-(u-f),v-(c-v)),O.push(X,G,Y,j)));for(p=i[2*(L-2)],d=i[2*(L-2)+1],f=i[2*(L-1)],v=i[2*(L-1)+1],y=-(d-v),x=p-f,P=Math.sqrt(y*y+x*x),y/=P,x/=P,y*=U,x*=U,O.push(f-y,v-x),O.push(X,G,Y,j),O.push(f+y,v+x),O.push(X,G,Y,j),B.push(N),r=0;I>r;r++)B.push(N++);B.push(N-1)}},i.prototype.buildComplexPoly=function(t,e){var r=t.points.slice();if(!(r.length<6)){var i=e.indices;e.points=r,e.alpha=t.fillAlpha,e.color=n.hex2rgb(t.fillColor);for(var o,s,a=1/0,h=-(1/0),l=1/0,u=-(1/0),c=0;c<r.length;c+=2)o=r[c],s=r[c+1],a=a>o?o:a,h=o>h?o:h,l=l>s?s:l,u=s>u?s:u;r.push(a,l,h,l,h,u,a,u);var p=r.length/2;for(c=0;p>c;c++)i.push(c)}},i.prototype.buildPoly=function(t,e){var r=t.points;if(!(r.length<6)){var i=e.points,o=e.indices,s=r.length/2,a=n.hex2rgb(t.fillColor),h=t.fillAlpha,l=a[0]*h,c=a[1]*h,p=a[2]*h,d=u(r,null,2);if(!d)return!1;var f=i.length/6,v=0;for(v=0;v<d.length;v+=3)o.push(d[v]+f),o.push(d[v]+f),o.push(d[v+1]+f),o.push(d[v+2]+f),o.push(d[v+2]+f);for(v=0;s>v;v++)i.push(r[2*v],r[2*v+1],l,c,p,h);return!0}}},{"../../const":22,"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"../../utils":76,"./WebGLGraphicsData":28,earcut:10}],28:[function(t,e,r){function i(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}i.prototype.constructor=i,e.exports=i,i.prototype.reset=function(){this.points.length=0,this.indices.length=0},i.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},i.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],29:[function(t,e,r){var i=e.exports=Object.assign(t("./const"),t("./math"),{utils:t("./utils"),ticker:t("./ticker"),DisplayObject:t("./display/DisplayObject"),Container:t("./display/Container"),Sprite:t("./sprites/Sprite"),ParticleContainer:t("./particles/ParticleContainer"),SpriteRenderer:t("./sprites/webgl/SpriteRenderer"),ParticleRenderer:t("./particles/webgl/ParticleRenderer"),Text:t("./text/Text"),Graphics:t("./graphics/Graphics"),GraphicsData:t("./graphics/GraphicsData"),GraphicsRenderer:t("./graphics/webgl/GraphicsRenderer"),Texture:t("./textures/Texture"),BaseTexture:t("./textures/BaseTexture"),RenderTexture:t("./textures/RenderTexture"),VideoBaseTexture:t("./textures/VideoBaseTexture"),TextureUvs:t("./textures/TextureUvs"),CanvasRenderer:t("./renderers/canvas/CanvasRenderer"),CanvasGraphics:t("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:t("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:t("./renderers/webgl/WebGLRenderer"),ShaderManager:t("./renderers/webgl/managers/ShaderManager"),Shader:t("./renderers/webgl/shaders/Shader"),ObjectRenderer:t("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:t("./renderers/webgl/utils/RenderTarget"),AbstractFilter:t("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:t("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:t("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(t,e,r,n){return t=t||800,e=e||600,!n&&i.utils.isWebGLSupported()?new i.WebGLRenderer(t,e,r):new i.CanvasRenderer(t,e,r)}})},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":32,"./particles/ParticleContainer":38,"./particles/webgl/ParticleRenderer":40,"./renderers/canvas/CanvasRenderer":43,"./renderers/canvas/utils/CanvasBuffer":44,"./renderers/canvas/utils/CanvasGraphics":45,"./renderers/webgl/WebGLRenderer":48,"./renderers/webgl/filters/AbstractFilter":49,"./renderers/webgl/filters/FXAAFilter":50,"./renderers/webgl/filters/SpriteMaskFilter":51,"./renderers/webgl/managers/ShaderManager":55,"./renderers/webgl/shaders/Shader":60,"./renderers/webgl/utils/ObjectRenderer":62,"./renderers/webgl/utils/RenderTarget":64,"./sprites/Sprite":66,"./sprites/webgl/SpriteRenderer":67,"./text/Text":68,"./textures/BaseTexture":69,"./textures/RenderTexture":70,"./textures/Texture":71,"./textures/TextureUvs":72,"./textures/VideoBaseTexture":73,"./ticker":75,"./utils":76}],30:[function(t,e,r){function i(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var n=t("./Point");i.prototype.constructor=i,e.exports=i,i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},i.prototype.apply=function(t,e){e=e||new n;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},i.prototype.applyInverse=function(t,e){e=e||new n;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return e.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},i.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},i.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},i.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},i.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},i.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},i.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.IDENTITY=new i,i.TEMP_MATRIX=new i},{"./Point":31}],31:[function(t,e,r){function i(t,e){this.x=t||0,this.y=e||0}i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},{}],32:[function(t,e,r){e.exports={Point:t("./Point"),Matrix:t("./Matrix"),Circle:t("./shapes/Circle"),Ellipse:t("./shapes/Ellipse"),Polygon:t("./shapes/Polygon"),Rectangle:t("./shapes/Rectangle"),RoundedRectangle:t("./shapes/RoundedRectangle")}},{"./Matrix":30,"./Point":31,"./shapes/Circle":33,"./shapes/Ellipse":34,"./shapes/Polygon":35,"./shapes/Rectangle":36,"./shapes/RoundedRectangle":37}],33:[function(t,e,r){function i(t,e,r){this.x=t||0,this.y=e||0,this.radius=r||0,this.type=o.SHAPES.CIRC}var n=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,i=this.y-e,n=this.radius*this.radius;return r*=r,i*=i,n>=r+i},i.prototype.getBounds=function(){return new n(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":22,"./Rectangle":36}],34:[function(t,e,r){function i(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=o.SHAPES.ELIP}var n=t("./Rectangle"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return r*=r,i*=i,1>=r+i},i.prototype.getBounds=function(){return new n(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":22,"./Rectangle":36}],35:[function(t,e,r){function i(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}if(e[0]instanceof n){for(var i=[],s=0,a=e.length;a>s;s++)i.push(e[s].x,e[s].y);e=i}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var n=t("../Point"),o=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.points.slice())},i.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;i>n;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],l=this.points[2*o+1],u=a>e!=l>e&&(h-s)*(e-a)/(l-a)+s>t;u&&(r=!r)}return r}},{"../../const":22,"../Point":31}],36:[function(t,e,r){function i(t,e,r,i){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.type=n.SHAPES.RECT}var n=t("../../const");i.prototype.constructor=i,e.exports=i,i.EMPTY=new i(0,0,0,0),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height?!0:!1}},{"../../const":22}],37:[function(t,e,r){function i(t,e,r,i,o){this.x=t||0,this.y=e||0,this.width=r||0,this.height=i||0,this.radius=o||20,this.type=n.SHAPES.RREC}var n=t("../../const");i.prototype.constructor=i,e.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height?!0:!1}},{"../../const":22}],38:[function(t,e,r){function i(t,e){n.call(this),this._properties=[!1,!0,!1,!1,!1],this._size=t||15e3,this._buffers=null,this._updateStatic=!1,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var n=t("../display/Container"),o=t("../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},i.prototype.updateTransform=function(){
this.displayObjectUpdateTransform()},i.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},i.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this._updateStatic=!0,t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),this._updateStatic=!0,e},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,i=!0,n=0,o=0,s=0,a=0;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var h=0;h<this.children.length;++h){var l=this.children[h];if(l.visible){var u=l.texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)i&&(e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),i=!1),n=l.anchor.x*-u.width*l.scale.x+l.position.x+.5,o=l.anchor.y*-u.height*l.scale.y+l.position.y+.5,s=u.width*l.scale.x,a=u.height*l.scale.y;else{i||(i=!0),l.displayObjectUpdateTransform();var c=l.worldTransform;t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,0|c.tx,0|c.ty):e.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),n=l.anchor.x*-u.width+.5,o=l.anchor.y*-u.height+.5,s=u.width,a=u.height}e.drawImage(l.texture.baseTexture.source,u.x,u.y,u.width,u.height,n,o,s,a)}}}},i.prototype.destroy=function(){if(n.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},{"../const":22,"../display/Container":23}],39:[function(t,e,r){function i(t,e,r){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;i++){var n=e[i];n.dynamic?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}i.prototype.constructor=i,e.exports=i,i.prototype.initBuffers=function(){var t,e,r=this.gl,i=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=i,i+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),r.bufferData(r.ARRAY_BUFFER,this.dynamicData,r.DYNAMIC_DRAW);var n=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=n,n+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),r.bufferData(r.ARRAY_BUFFER,this.staticData,r.DYNAMIC_DRAW)},i.prototype.uploadDynamic=function(t,e,r){for(var i=this.gl,n=0;n<this.dynamicProperties.length;n++){var o=this.dynamicProperties[n];o.uploadFunction(t,e,r,this.dynamicData,this.dynamicStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.dynamicData)},i.prototype.uploadStatic=function(t,e,r){for(var i=this.gl,n=0;n<this.staticProperties.length;n++){var o=this.staticProperties[n];o.uploadFunction(t,e,r,this.staticData,this.staticStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.staticData)},i.prototype.bind=function(){var t,e,r=this.gl;for(r.bindBuffer(r.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(r.bindBuffer(r.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],r.vertexAttribPointer(e.attribute,e.size,r.FLOAT,!1,4*this.staticStride,4*e.offset)},i.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],40:[function(t,e,r){function i(t){n.call(this,t),this.size=15e3;var e=6*this.size;this.indices=new Uint16Array(e);for(var r=0,i=0;e>r;r+=6,i+=4)this.indices[r+0]=i+0,this.indices[r+1]=i+1,this.indices[r+2]=i+2,this.indices[r+3]=i+0,this.indices[r+4]=i+2,this.indices[r+5]=i+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new h.Matrix}var n=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("./ParticleShader"),a=t("./ParticleBuffer"),h=t("../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("particle",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,dynamic:!1,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,dynamic:!0,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,dynamic:!1,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,dynamic:!1,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,dynamic:!1,size:1,uploadFunction:this.uploadAlpha,offset:0}]},i.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},i.prototype.render=function(t){var e=t.children,r=e.length,i=t._size;if(0!==r){r>i&&(r=i),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var n=this.renderer.gl,o=t.worldTransform.copy(this.tempMatrix);o.prepend(this.renderer.currentRenderTarget.projectionMatrix),n.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,o.toArray(!0)),n.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var s=t._updateStatic,a=e[0]._texture.baseTexture;if(a._glTextures[n.id])n.bindTexture(n.TEXTURE_2D,a._glTextures[n.id]);else{if(!this.renderer.updateTexture(a))return;this.properties[0].dynamic&&this.properties[3].dynamic||(s=!0)}for(var h=0,l=0;r>l;l+=this.size){var u=r-l;u>this.size&&(u=this.size);var c=t._buffers[h++];c.uploadDynamic(e,l,u),s&&c.uploadStatic(e,l,u),c.bind(this.shader),n.drawElements(n.TRIANGLES,6*u,n.UNSIGNED_SHORT,0),this.renderer.drawCount++}t._updateStatic=!1}},i.prototype.generateBuffers=function(t){var e,r=this.renderer.gl,i=[],n=t._size;for(e=0;e<t._properties.length;e++)this.properties[e].dynamic=t._properties[e];for(e=0;n>e;e+=this.size)i.push(new a(r,this.properties,this.size,this.shader));return i},i.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s,a,h,l,u,c,p,d,f,v=0;r>v;v++)s=t[e+v],a=s._texture,l=s.scale.x,u=s.scale.y,a.trim?(h=a.trim,p=h.x-s.anchor.x*h.width,c=p+a.crop.width,f=h.y-s.anchor.y*h.height,d=f+a.crop.height):(c=a._frame.width*(1-s.anchor.x),p=a._frame.width*-s.anchor.x,d=a._frame.height*(1-s.anchor.y),f=a._frame.height*-s.anchor.y),i[o]=p*l,i[o+1]=f*u,i[o+n]=c*l,i[o+n+1]=f*u,i[o+2*n]=c*l,i[o+2*n+1]=d*u,i[o+3*n]=p*l,i[o+3*n+1]=d*u,o+=4*n},i.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},i.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},i.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},i.prototype.uploadAlpha=function(t,e,r,i,n,o){for(var s=0;r>s;s++){var a=t[e+s].alpha;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},i.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),n.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"./ParticleBuffer":39,"./ParticleShader":41}],41:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var n=t("../../renderers/webgl/shaders/TextureShader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"../../renderers/webgl/shaders/TextureShader":61}],42:[function(t,e,r){function i(t,e,r,i){if(a.call(this),n.sayHello(t),i)for(var h in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof i[h]&&(i[h]=s.DEFAULT_RENDER_OPTIONS[h]);else i=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=r||600,this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution,this.transparent=i.transparent,this.autoResize=i.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var n=t("../utils"),o=t("../math"),s=t("../const"),a=t("eventemitter3");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=n.hex2string(t),n.hex2rgb(t,this._backgroundColorRgb)}}}),i.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.prototype.destroy=function(t){t&&this.view.parent&&this.view.parent.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":22,"../math":32,"../utils":76,eventemitter3:11}],43:[function(t,e,r){function i(t,e,r){n.call(this,"Canvas",t,e,r),this.type=h.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.roundPixels=!1,this.currentScaleMode=h.SCALE_MODES.DEFAULT,this.currentBlendMode=h.BLEND_MODES.NORMAL,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var n=t("../SystemRenderer"),o=t("./utils/CanvasMaskManager"),s=t("../../utils"),a=t("../../math"),h=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,s.pluginTarget.mixin(i),i.prototype.render=function(t){var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.currentBlendMode=h.BLEND_MODES.NORMAL,this.context.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context)},i.prototype.destroy=function(t){this.destroyPlugins(),n.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.roundPixels=!1,this.currentScaleMode=0,this.currentBlendMode=0,this.smoothProperty=null},i.prototype.renderDisplayObject=function(t,e){var r=this.context;this.context=e,t.renderCanvas(this),this.context=r},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.currentScaleMode=h.SCALE_MODES.DEFAULT,this.smoothProperty&&(this.context[this.smoothProperty]=this.currentScaleMode===h.SCALE_MODES.LINEAR)},i.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[h.BLEND_MODES.SCREEN]="screen",this.blendModes[h.BLEND_MODES.OVERLAY]="overlay",this.blendModes[h.BLEND_MODES.DARKEN]="darken",this.blendModes[h.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[h.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[h.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[h.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[h.BLEND_MODES.HUE]="hue",this.blendModes[h.BLEND_MODES.SATURATION]="saturate",this.blendModes[h.BLEND_MODES.COLOR]="color",this.blendModes[h.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[h.BLEND_MODES.NORMAL]="source-over",this.blendModes[h.BLEND_MODES.ADD]="lighter",this.blendModes[h.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[h.BLEND_MODES.SCREEN]="source-over",this.blendModes[h.BLEND_MODES.OVERLAY]="source-over",this.blendModes[h.BLEND_MODES.DARKEN]="source-over",this.blendModes[h.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[h.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[h.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[h.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[h.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[h.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[h.BLEND_MODES.HUE]="source-over",this.blendModes[h.BLEND_MODES.SATURATION]="source-over",this.blendModes[h.BLEND_MODES.COLOR]="source-over",this.blendModes[h.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":22,"../../math":32,"../../utils":76,"../SystemRenderer":42,"./utils/CanvasMaskManager":46}],44:[function(t,e,r){function i(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),i.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},i.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},i.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],45:[function(t,e,r){var i=t("../../../const"),n={};e.exports=n,n.renderGraphics=function(t,e){var r=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=o.shape,a=o._fillTint,h=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.SHAPES.POLY){e.beginPath();var l=s.points;e.moveTo(l[0],l[1]);for(var u=1;u<l.length/2;u++)e.lineTo(l[2*u],l[2*u+1]);s.closed&&e.lineTo(l[0],l[1]),l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===i.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke());else if(o.type===i.SHAPES.ELIP){var c=2*s.width,p=2*s.height,d=s.x-c/2,f=s.y-p/2;e.beginPath();var v=.5522848,g=c/2*v,m=p/2*v,y=d+c,x=f+p,b=d+c/2,_=f+p/2;e.moveTo(d,_),e.bezierCurveTo(d,_-m,b-g,f,b,f),e.bezierCurveTo(b+g,f,y,_-m,y,_),e.bezierCurveTo(y,_+m,b+g,x,b,x),e.bezierCurveTo(b-g,x,d,_+m,d,_),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RREC){var T=s.x,E=s.y,S=s.width,A=s.height,w=s.radius,C=Math.min(S,A)/2|0;w=w>C?C:w,e.beginPath(),e.moveTo(T,E+w),e.lineTo(T,E+A-w),e.quadraticCurveTo(T,E+A,T+w,E+A),e.lineTo(T+S-w,E+A),e.quadraticCurveTo(T+S,E+A,T+S,E+A-w),e.lineTo(T+S,E+w),e.quadraticCurveTo(T+S,E,T+S-w,E),e.lineTo(T+w,E),e.quadraticCurveTo(T,E,T,E+w),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*r,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*r,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}}},n.renderGraphicsMask=function(t,e){var r=t.graphicsData.length;if(0!==r){e.beginPath();for(var n=0;r>n;n++){var o=t.graphicsData[n],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var l=2*s.width,u=2*s.height,c=s.x-l/2,p=s.y-u/2,d=.5522848,f=l/2*d,v=u/2*d,g=c+l,m=p+u,y=c+l/2,x=p+u/2;e.moveTo(c,x),e.bezierCurveTo(c,x-v,y-f,p,y,p),e.bezierCurveTo(y+f,p,g,x-v,g,x),e.bezierCurveTo(g,x+v,y+f,m,y,m),e.bezierCurveTo(y-f,m,c,x+v,c,x),e.closePath()}else if(o.type===i.SHAPES.RREC){var b=s.x,_=s.y,T=s.width,E=s.height,S=s.radius,A=Math.min(T,E)/2|0;S=S>A?A:S,e.moveTo(b,_+S),e.lineTo(b,_+E-S),e.quadraticCurveTo(b,_+E,b+S,_+E),e.lineTo(b+T-S,_+E),e.quadraticCurveTo(b+T,_+E,b+T,_+E-S),e.lineTo(b+T,_+S),e.quadraticCurveTo(b+T,_,b+T-S,_),e.lineTo(b+S,_),e.quadraticCurveTo(b,_,b,_+S),e.closePath()}}}},n.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,r=(t.tint>>8&255)/255,i=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*r*255<<8)+(255&s)/255*i*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*r*255<<8)+(255&a)/255*i*255}}},{"../../../const":22}],46:[function(t,e,r){function i(){}var n=t("./CanvasGraphics");i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.context.save();var r=t.alpha,i=t.worldTransform,o=e.resolution;e.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.texture||(n.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=r},i.prototype.popMask=function(t){t.context.restore()},i.prototype.destroy=function(){}},{"./CanvasGraphics":45}],47:[function(t,e,r){var i=t("../../../utils"),n={};e.exports=n,n.getTintedTexture=function(t,e){var r=t.texture;e=n.roundColor(e);var i="#"+("00000"+(0|e).toString(16)).substr(-6);if(r.tintCache=r.tintCache||{},r.tintCache[i])return r.tintCache[i];var o=n.canvas||document.createElement("canvas");if(n.tintMethod(r,e,o),n.convertTintToImage){var s=new Image;s.src=o.toDataURL(),r.tintCache[i]=s}else r.tintCache[i]=o,n.canvas=null;return o},n.tintWithMultiply=function(t,e,r){var i=r.getContext("2d"),n=t.crop;r.width=n.width,r.height=n.height,i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},n.tintWithOverlay=function(t,e,r){var i=r.getContext("2d"),n=t.crop;r.width=n.width,r.height=n.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,n.width,n.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},n.tintWithPerPixel=function(t,e,r){var n=r.getContext("2d"),o=t.crop;r.width=o.width,r.height=o.height,n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=i.hex2rgb(e),a=s[0],h=s[1],l=s[2],u=n.getImageData(0,0,o.width,o.height),c=u.data,p=0;p<c.length;p+=4)c[p+0]*=a,c[p+1]*=h,c[p+2]*=l;n.putImageData(u,0,0)},n.roundColor=function(t){var e=n.cacheStepsPerColorChannel,r=i.hex2rgb(t);return r[0]=Math.min(255,r[0]/e*e),r[1]=Math.min(255,r[1]/e*e),r[2]=Math.min(255,r[2]/e*e),i.rgb2hex(r)},n.cacheStepsPerColorChannel=8,n.convertTintToImage=!1,n.canUseMultiply=i.canUseNewCanvasBlendModes(),n.tintMethod=n.canUseMultiply?n.tintWithMultiply:n.tintWithPerPixel},{"../../../utils":76}],48:[function(t,e,r){function i(t,e,r){r=r||{},n.call(this,"WebGL",t,e,r),this.type=f.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!r.forceFXAA&&r.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),this.stencilManager=new a(this),this.filterManager=new h(this),this.blendModeManager=new l(this),this.currentRenderTarget=null,this.currentRenderer=new c(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._renderTargetStack=[]}var n=t("../SystemRenderer"),o=t("./managers/ShaderManager"),s=t("./managers/MaskManager"),a=t("./managers/StencilManager"),h=t("./managers/FilterManager"),l=t("./managers/BlendModeManager"),u=t("./utils/RenderTarget"),c=t("./utils/ObjectRenderer"),p=t("./filters/FXAAFilter"),d=t("../../utils"),f=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,d.pluginTarget.mixin(i),i.glContextId=0,i.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=i.glContextId++,t.id=this.glContextId,t.renderer=this},i.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new u(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new p])},i.prototype.render=function(t){if(!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var r=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?r.clearColor(0,0,0,0):r.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),r.clear(r.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget)}},i.prototype.renderDisplayObject=function(t,e,r){this.setRenderTarget(e),r&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},i.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},i.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},i.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},i.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===f.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},i.prototype.destroyTexture=function(t){t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&this.gl.deleteTexture(t._glTextures[this.gl.id])},i.prototype.handleContextLost=function(t){t.preventDefault()},i.prototype.handleContextRestored=function(){this._initContext();for(var t in d.BaseTextureCache)d.BaseTextureCache[t]._glTextures.length=0},i.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),n.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl=null},i.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[f.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],this.blendModes[f.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SCREEN]=[t.SRC_ALPHA,t.ONE],this.blendModes[f.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[f.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[f.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[f.DRAW_MODES.LINES]=t.LINES,this.drawModes[f.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[f.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[f.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[f.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},{"../../const":22,"../../utils":76,"../SystemRenderer":42,"./filters/FXAAFilter":50,"./managers/BlendModeManager":52,"./managers/FilterManager":53,"./managers/MaskManager":54,"./managers/ShaderManager":55,"./managers/StencilManager":56,"./utils/ObjectRenderer":62,"./utils/RenderTarget":64}],49:[function(t,e,r){function i(t,e,r){this.shaders=[],this.padding=0,this.uniforms=r||{},this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc}var n=t("../shaders/TextureShader");i.prototype.constructor=i,e.exports=i,i.prototype.getShader=function(t){var e=t.gl,r=this.shaders[e.id];return r||(r=new n(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=r),r},i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);t.filterManager.applyFilter(n,e,r,i)},i.prototype.syncUniform=function(t){for(var e=0,r=this.shaders.length;r>e;++e)this.shaders[e].syncUniform(t)}},{"../shaders/TextureShader":61}],50:[function(t,e,r){function i(){n.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{
resolution:{type:"v2",value:{x:1,y:1}}})}var n=t("./AbstractFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager,n=this.getShader(t);i.applyFilter(n,e,r)}},{"./AbstractFilter":49}],51:[function(t,e,r){function i(t){var e=new o.Matrix;n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:e.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=e}var n=t("./AbstractFilter"),o=t("../../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../../math":32,"./AbstractFilter":49}],52:[function(t,e,r){function i(t){n.call(this,t),this.currentBlendMode=99999}var n=t("./WebGLManager");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},{"./WebGLManager":57}],53:[function(t,e,r){function i(t){n.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new h.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var n=t("./WebGLManager"),o=t("../utils/RenderTarget"),s=t("../../../const"),a=t("../utils/Quad"),h=t("../../../math");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},i.prototype.setFilterStack=function(t){this.filterStack=t},i.prototype.pushFilter=function(t,e){var r=t.filterArea?t.filterArea.clone():t.getBounds();r.x=0|r.x,r.y=0|r.y,r.width=0|r.width,r.height=0|r.height;var i=0|e[0].padding;if(r.x-=i,r.y-=i,r.width+=2*i,r.height+=2*i,this.renderer.currentRenderTarget.transform){var n=this.renderer.currentRenderTarget.transform;r.x+=n.tx,r.y+=n.ty,this.capFilterArea(r),r.x-=n.tx,r.y-=n.ty}else this.capFilterArea(r);if(r.width>0&&r.height>0){this.currentFrame=r;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},i.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],r=t.renderTarget;if(t.renderTarget){var i=e.renderTarget,n=this.renderer.gl;this.currentFrame=r.frame,this.quad.map(this.textureSize,r.frame),n.bindBuffer(n.ARRAY_BUFFER,this.quad.vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,n.FLOAT,!1,0,32),n.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,n.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,r,i),this.returnRenderTarget(r);else{for(var a=r,h=this.getRenderTarget(!0),l=0;l<o.length-1;l++){var u=o[l];u.uniforms.dimensions&&(u.uniforms.dimensions.value[0]=this.renderer.width,u.uniforms.dimensions.value[1]=this.renderer.height,u.uniforms.dimensions.value[2]=this.quad.vertices[0],u.uniforms.dimensions.value[3]=this.quad.vertices[5]),u.applyFilter(this.renderer,a,h);var c=a;a=h,h=c}o[o.length-1].applyFilter(this.renderer,a,i),this.returnRenderTarget(a),this.returnRenderTarget(h)}return t.filter}},i.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},i.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},i.prototype.applyFilter=function(t,e,r,i){var n=this.renderer.gl;this.renderer.setRenderTarget(r),i&&r.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.texture),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0)},i.prototype.calculateMappedMatrix=function(t,e,r){var i=e.worldTransform.copy(h.Matrix.TEMP_MATRIX),n=e._texture.baseTexture,o=r.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),o.scale(1,s);var a=this.textureSize.width/n.width,l=this.textureSize.height/n.height;return i.tx/=n.width*a,i.ty/=n.width*a,i.invert(),o.prepend(i),o.scale(1,1/s),o.scale(a,l),o.translate(e.anchor.x,e.anchor.y),o},i.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},i.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var r=0;r<this.texturePool.length;r++)this.texturePool[r].resize(t,e)},i.prototype.destroy=function(){this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},{"../../../const":22,"../../../math":32,"../utils/Quad":63,"../utils/RenderTarget":64,"./WebGLManager":57}],54:[function(t,e,r){function i(t){n.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var n=t("./WebGLManager"),o=t("../filters/SpriteMaskFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},i.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},i.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool.pop();r||(r=[new o(e)]),r[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,r)},i.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},i.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},i.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},{"../filters/SpriteMaskFilter":51,"./WebGLManager":57}],55:[function(t,e,r){function i(t){n.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var n=t("./WebGLManager"),o=t("../shaders/TextureShader"),s=t("../shaders/ComplexPrimitiveShader"),a=t("../shaders/PrimitiveShader"),h=t("../../../utils");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,h.pluginTarget.mixin(i),e.exports=i,i.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},i.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var r in t)this.tempAttribState[t[r]]=!0;var i=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?i.enableVertexAttribArray(e):i.disableVertexAttribArray(e))},i.prototype.setShader=function(t){return this._currentId===t.uid?!1:(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},i.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":76,"../shaders/ComplexPrimitiveShader":58,"../shaders/PrimitiveShader":59,"../shaders/TextureShader":61,"./WebGLManager":57}],56:[function(t,e,r){function i(t){n.call(this,t),this.stencilMaskStack=null}var n=t("./WebGLManager"),o=t("../../../utils");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},i.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var r=this.renderer.gl,i=this.stencilMaskStack;this.bindGraphics(t,e,this.renderer),0===i.stencilStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),i.reverse=!0,i.count=0),i.stencilStack.push(e);var n=i.count;r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),1===e.mode?(r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),i.reverse?(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),i.reverse?r.stencilFunc(r.EQUAL,255-(n+1),255):r.stencilFunc(r.EQUAL,n+1,255),i.reverse=!i.reverse):(i.reverse?(r.stencilFunc(r.EQUAL,n,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,255-n,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n+1,255):r.stencilFunc(r.EQUAL,255-(n+1),255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),i.count++},i.prototype.bindGraphics=function(t,e){this._currentGraphics=t;var r,i=this.renderer.gl;1===e.mode?(r=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform3fv(r.uniforms.color._location,e.color),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,8,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(r=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(r),i.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(r.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform1f(r.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(r.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(r.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},i.prototype.popStencil=function(t,e){var r=this.renderer.gl,i=this.stencilMaskStack;if(i.stencilStack.pop(),i.count--,0===i.stencilStack.length)r.disable(r.STENCIL_TEST);else{var n=i.count;this.bindGraphics(t,e,this.renderer),r.colorMask(!1,!1,!1,!1),1===e.mode?(i.reverse=!i.reverse,i.reverse?(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(e.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,e.indices.length-4,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)):(i.reverse?(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,e.indices.length,r.UNSIGNED_SHORT,0),i.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255)),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},i.prototype.destroy=function(){n.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},i.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)},i.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)}},{"../../../utils":76,"./WebGLManager":57}],57:[function(t,e,r){function i(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}i.prototype.constructor=i,e.exports=i,i.prototype.onContextChange=function(){},i.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],58:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":60}],59:[function(t,e,r){function i(t){n.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},{"./Shader":60}],60:[function(t,e,r){function i(t,e,r,i,o){if(!e||!r)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=n.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=i||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=r,this.init()}var n=t("../../../utils");i.prototype.constructor=i,e.exports=i,i.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},i.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},i.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},i.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),r=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(i,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(i)),t.deleteProgram(i),i=null),t.deleteShader(e),t.deleteShader(r),this.program=i},i.prototype.syncUniform=function(t){var e,r,i=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(i,o?1:0);break;case"i":case"1i":s.uniform1i(i,o);break;case"f":case"1f":s.uniform1f(i,o);break;case"2f":s.uniform2f(i,o[0],o[1]);break;case"3f":s.uniform3f(i,o[0],o[1],o[2]);break;case"4f":s.uniform4f(i,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(i,o.x,o.y);break;case"v3":s.uniform3f(i,o.x,o.y,o.z);break;case"v4":s.uniform4f(i,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(i,o);break;case"2iv":s.uniform2iv(i,o);break;case"3iv":s.uniform3iv(i,o);break;case"4iv":s.uniform4iv(i,o);break;case"1fv":s.uniform1fv(i,o);break;case"2fv":s.uniform2fv(i,o);break;case"3fv":s.uniform3fv(i,o);break;case"4fv":s.uniform4fv(i,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(i,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(i,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(i,t.transpose,o);break;case"c":"number"==typeof o&&(o=n.hex2rgb(o)),s.uniform3f(i,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(i,o);break;case"iv":s.uniform3iv(i,o);break;case"fv1":s.uniform1fv(i,o);break;case"fv":s.uniform3fv(i,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,r=o.length;r>e;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(i,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,r=o.length;r>e;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(i,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,r=o.length;r>e;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(i,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},i.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},i.prototype.initSampler2D=function(t){var e=this.gl,r=t.value.baseTexture;if(r.hasLoaded)if(t.textureData){var i=t.textureData;r._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,r._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,i.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i.magFilter?i.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i.wrapT?i.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(r)},i.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},i.prototype._glCompile=function(t,e){var r=this.gl.createShader(t);return this.gl.shaderSource(r,e),this.gl.compileShader(r),this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS)?r:(console.log(this.gl.getShaderInfoLog(r)),null)}},{"../../../utils":76}],61:[function(t,e,r){function i(t,e,r,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var h in o)a[h]=o[h];var l={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var u in s)l[u]=s[u];e=e||i.defaultVertexSrc,r=r||i.defaultFragmentSrc,n.call(this,t,e,r,a,l)}var n=t("./Shader");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),i.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":60}],62:[function(t,e,r){function i(t){n.call(this,t)}var n=t("../managers/WebGLManager");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.flush=function(){},i.prototype.render=function(t){}},{"../managers/WebGLManager":57}],63:[function(t,e,r){function i(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}i.prototype.constructor=i,i.prototype.map=function(t,e){var r=0,i=0;this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.upload()},i.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},e.exports=i},{}],64:[function(t,e,r){var i=t("../../../math"),n=t("../../../utils"),o=t("../../../const"),s=t("./StencilMaskStack"),a=function(t,e,r,a,h,l){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new i.Rectangle(0,0,1,1),this.resolution=h||o.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=l,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var u=n.isPowerOfTwo(e,r);u?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,r)};a.prototype.constructor=a,e.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t=0|t,e=0|e,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t*this.resolution,e*this.resolution,0,r.RGBA,r.UNSIGNED_BYTE,null),this.stencilBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencilBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var i=this.frame||this.size;this.calculateProjection(i)}},a.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":22,"../../../math":32,"../../../utils":76,"./StencilMaskStack":65}],65:[function(t,e,r){function i(){this.stencilStack=[],this.reverse=!0,this.count=0}i.prototype.constructor=i,e.exports=i},{}],66:[function(t,e,r){function i(t){s.call(this),this.anchor=new n.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var n=t("../math"),o=t("../textures/Texture"),s=t("../display/Container"),a=t("../renderers/canvas/utils/CanvasTinter"),h=t("../utils"),l=t("../const"),u=new n.Point;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.texture._frame.width},set:function(t){this.scale.x=t/this.texture._frame.width,this._width=t}},height:{get:function(){return this.scale.y*this.texture._frame.height},set:function(t){this.scale.y=t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},i.prototype.getBounds=function(t){if(!this._currentBounds){var e,r,i,n,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),h=o*-this.anchor.x,l=s*(1-this.anchor.y),u=s*-this.anchor.y,c=t||this.worldTransform,p=c.a,d=c.b,f=c.c,v=c.d,g=c.tx,m=c.ty;if(0===d&&0===f)0>p&&(p*=-1),0>v&&(v*=-1),e=p*h+g,r=p*a+g,i=v*u+m,n=v*l+m;else{var y=p*h+f*u+g,x=v*u+d*h+m,b=p*a+f*u+g,_=v*u+d*a+m,T=p*a+f*l+g,E=v*l+d*a+m,S=p*h+f*l+g,A=v*l+d*h+m;e=y,e=e>b?b:e,e=e>T?T:e,e=e>S?S:e,i=x,i=i>_?_:i,i=i>E?E:i,i=i>A?A:i,r=y,r=b>r?b:r,r=T>r?T:r,r=S>r?S:r,n=x,n=_>n?_:n,n=E>n?E:n,n=A>n?A:n}if(this.children.length){var w=this.containerGetBounds();a=w.x,h=w.x+w.width,l=w.y,u=w.y+w.height,e=a>e?e:a,i=l>i?i:l,r=r>h?r:h,n=n>u?n:u}var C=this._bounds;C.x=e,C.width=r-e,C.y=i,C.height=n-i,this._currentBounds=C}return this._currentBounds},i.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e,r=this._texture._frame.width,i=this._texture._frame.height,n=-r*this.anchor.x;return u.x>n&&u.x<n+r&&(e=-i*this.anchor.y,u.y>e&&u.y<e+i)?!0:!1},i.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)&&(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=t.blendModes[t.currentBlendMode]),this.texture.valid)){var e,r,i,n,o=this._texture,s=this.worldTransform;if(t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.currentScaleMode!==o.baseTexture.scaleMode&&(t.currentScaleMode=o.baseTexture.scaleMode,t.context[t.smoothProperty]=t.currentScaleMode===l.SCALE_MODES.LINEAR),o.rotate){var h=s.a,u=s.b;s.a=-s.c,s.b=-s.d,s.c=h,s.d=u,i=o.crop.height,n=o.crop.width,e=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height,r=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width}else i=o.crop.width,n=o.crop.height,e=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width,r=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height;t.roundPixels?(t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution|0,s.ty*t.resolution|0),e=0|e,r=0|r):t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution,s.ty*t.resolution);var c=o.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,i*c,n*c,e*t.resolution,r*t.resolution,i*t.resolution,n*t.resolution)):t.context.drawImage(o.baseTexture.source,o.crop.x*c,o.crop.y*c,i*c,n*c,e*t.resolution,r*t.resolution,i*t.resolution,n*t.resolution)}},i.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},i.fromFrame=function(t){var e=h.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');

return new i(e)},i.fromImage=function(t,e,r){return new i(o.fromImage(t,e,r))}},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasTinter":47,"../textures/Texture":71,"../utils":76}],67:[function(t,e,r){function i(t){n.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,r=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(r);for(var i=0,o=0;r>i;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var n=t("../../renderers/webgl/utils/ObjectRenderer"),o=t("../../renderers/webgl/WebGLRenderer"),s=t("../../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,o.registerPlugin("sprite",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},i.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var r=e._uvs;if(r){var i,n,o,s,a=t.anchor.x,h=t.anchor.y;if(e.trim){var l=e.trim;n=l.x-a*l.width,i=n+e.crop.width,s=l.y-h*l.height,o=s+e.crop.height}else i=e._frame.width*(1-a),n=e._frame.width*-a,o=e._frame.height*(1-h),s=e._frame.height*-h;var u=this.currentBatchSize*this.vertByteSize,c=t.worldTransform,p=c.a,d=c.b,f=c.c,v=c.d,g=c.tx,m=c.ty,y=this.colors,x=this.positions;this.renderer.roundPixels?(x[u]=p*n+f*s+g|0,x[u+1]=v*s+d*n+m|0,x[u+5]=p*i+f*s+g|0,x[u+6]=v*s+d*i+m|0,x[u+10]=p*i+f*o+g|0,x[u+11]=v*o+d*i+m|0,x[u+15]=p*n+f*o+g|0,x[u+16]=v*o+d*n+m|0):(x[u]=p*n+f*s+g,x[u+1]=v*s+d*n+m,x[u+5]=p*i+f*s+g,x[u+6]=v*s+d*i+m,x[u+10]=p*i+f*o+g,x[u+11]=v*o+d*i+m,x[u+15]=p*n+f*o+g,x[u+16]=v*o+d*n+m),x[u+2]=r.x0,x[u+3]=r.y0,x[u+7]=r.x1,x[u+8]=r.y1,x[u+12]=r.x2,x[u+13]=r.y2,x[u+17]=r.x3,x[u+18]=r.y3;var b=t.tint;y[u+4]=y[u+9]=y[u+14]=y[u+19]=(b>>16)+(65280&b)+((255&b)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},i.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var r=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,r)}for(var i,n,o,s,a=0,h=0,l=null,u=this.renderer.blendModeManager.currentBlendMode,c=null,p=!1,d=!1,f=0,v=this.currentBatchSize;v>f;f++)s=this.sprites[f],i=s._texture.baseTexture,n=s.blendMode,o=s.shader||this.shader,p=u!==n,d=c!==o,(l!==i||p||d)&&(this.renderBatch(l,a,h),h=f,a=0,l=i,p&&(u=n,this.renderer.blendModeManager.setBlendMode(u)),d&&(c=o,t=c.shaders?c.shaders[e.id]:c,t||(t=c.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(l,a,h),this.currentBatchSize=0}},i.prototype.renderBatch=function(t,e,r){if(0!==e){var i=this.renderer.gl;t._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,t._glTextures[i.id]):this.renderer.updateTexture(t),i.drawElements(i.TRIANGLES,6*e,i.UNSIGNED_SHORT,6*r*2),this.renderer.drawCount++}},i.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},i.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":22,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62}],68:[function(t,e,r){function i(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||h.RESOLUTION,this._text=null,this._style=null;var i=o.fromCanvas(this.canvas);i.trim=new s.Rectangle,n.call(this,i),this.text=t,this.style=e}var n=t("../sprites/Sprite"),o=t("../textures/Texture"),s=t("../math"),a=t("../utils"),h=t("../const");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.fontPropertiesCache={},i.fontPropertiesCanvas=document.createElement("canvas"),i.fontPropertiesContext=i.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(i.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||5,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,r=e.split(/(?:\r\n|\r|\n)/),i=new Array(r.length),n=0,o=this.determineFontProperties(t.font),s=0;s<r.length;s++){var a=this.context.measureText(r[s]).width;i[s]=a,n=Math.max(n,a)}var h=n+t.strokeThickness;t.dropShadow&&(h+=t.dropShadowDistance),this.canvas.width=(h+this.context.lineWidth)*this.resolution;var l=this.style.lineHeight||o.fontSize+t.strokeThickness,u=l*r.length;t.dropShadow&&(u+=t.dropShadowDistance),this.canvas.height=(u+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var c,p;if(t.dropShadow){this.context.fillStyle=t.dropShadowColor;var d=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,f=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<r.length;s++)c=t.strokeThickness/2,p=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?c+=n-i[s]:"center"===t.align&&(c+=(n-i[s])/2),t.fill&&this.context.fillText(r[s],c+d,p+f+this._style.padding)}for(this.context.fillStyle=t.fill,s=0;s<r.length;s++)c=t.strokeThickness/2,p=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?c+=n-i[s]:"center"===t.align&&(c+=(n-i[s])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(r[s],c,p+this._style.padding),t.fill&&this.context.fillText(r[s],c,p+this._style.padding);this.updateTexture()},i.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},i.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),n.prototype.renderWebGL.call(this,t)},i.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),n.prototype._renderCanvas.call(this,t)},i.prototype.determineFontProperties=function(t){var e=i.fontPropertiesCache[t];if(!e){e={};var r=i.fontPropertiesCanvas,n=i.fontPropertiesContext;n.font=t;var o=Math.ceil(n.measureText("|Mq").width),s=Math.ceil(n.measureText("M").width),a=2*s;s=1.4*s|0,r.width=o,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|Mq",0,s);var h,l,u=n.getImageData(0,0,o,a).data,c=u.length,p=4*o,d=0,f=!1;for(h=0;s>h;h++){for(l=0;p>l;l+=4)if(255!==u[d+l]){f=!0;break}if(f)break;d+=p}for(e.ascent=s-h,d=c-p,f=!1,h=a;h>s;h--){for(l=0;p>l;l+=4)if(255!==u[d+l]){f=!0;break}if(f)break;d-=p}e.descent=h-s,e.fontSize=e.ascent+e.descent,i.fontPropertiesCache[t]=e}return e},i.prototype.wordWrap=function(t){for(var e="",r=t.split("\n"),i=this._style.wordWrapWidth,n=0;n<r.length;n++){for(var o=i,s=r[n].split(" "),a=0;a<s.length;a++){var h=this.context.measureText(s[a]).width,l=h+this.context.measureText(" ").width;0===a||l>o?(a>0&&(e+="\n"),e+=s[a],o=i-h):(o-=l,e+=" "+s[a])}n<r.length-1&&(e+="\n")}return e},i.prototype.getBounds=function(t){return this.dirty&&this.updateText(),n.prototype.getBounds.call(this,t)},i.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t?!0:t)}},{"../const":22,"../math":32,"../sprites/Sprite":66,"../textures/Texture":71,"../utils":76}],69:[function(t,e,r){function i(t,e,r){s.call(this),this.uid=n.uid(),this.resolution=r||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],t&&this.loadSource(t)}var n=t("../utils"),o=t("../const"),s=t("eventemitter3");i.prototype=Object.create(s.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},i.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var r=this;t.onload=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),r.emit("loaded",r))},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},i.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},i.prototype.destroy=function(){this.imageUrl?(delete n.BaseTextureCache[this.imageUrl],delete n.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete n.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},i.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},i.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},i.fromImage=function(t,e,r){var o=n.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),o=new i(s,r),o.imageUrl=t,s.src=t,n.BaseTextureCache[t]=o,o.resolution=n.getResolutionOfUrl(t)}return o},i.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+n.uid());var r=n.BaseTextureCache[t._pixiId];return r||(r=new i(t,e),n.BaseTextureCache[t._pixiId]=r),r}},{"../const":22,"../utils":76,eventemitter3:11}],70:[function(t,e,r){function i(t,e,r,i,c){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,r=r||100,c=c||u.RESOLUTION;var p=new n;if(p.width=e,p.height=r,p.resolution=c,p.scaleMode=i||u.SCALE_MODES.DEFAULT,p.hasLoaded=!0,o.call(this,p,new l.Rectangle(0,0,e,r)),this.width=e,this.height=r,this.resolution=c,this.render=null,this.renderer=t,this.renderer.type===u.RENDERER_TYPE.WEBGL){var d=this.renderer.gl;this.textureBuffer=new s(d,this.width,this.height,p.scaleMode,this.resolution),this.baseTexture._glTextures[d.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,r),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new h(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var n=t("./BaseTexture"),o=t("./Texture"),s=t("../renderers/webgl/utils/RenderTarget"),a=t("../renderers/webgl/managers/FilterManager"),h=t("../renderers/canvas/utils/CanvasBuffer"),l=t("../math"),u=t("../const"),c=new l.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.resize=function(t,e,r){(t!==this.width||e!==this.height)&&(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,r&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},i.prototype.clear=function(){this.valid&&(this.renderer.type===u.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.prototype.renderWebGL=function(t,e,r,i){if(this.valid){if(i=void 0!==i?i:!0,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,i){t.worldTransform.identity(),t.currentBounds=null;var n,o,s=t.children;for(n=0,o=s.length;o>n;++n)s[n].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,r),this.renderer.filterManager=a}},i.prototype.renderCanvas=function(t,e,r,i){if(this.valid){i=!!i;var n=t.worldTransform,o=c;o.identity(),e&&o.append(e),t.worldTransform=o,t.worldAlpha=1;var s,a,h=t.children;for(s=0,a=h.length;a>s;++s)h[s].updateTransform();r&&this.textureBuffer.clear(),t.worldTransform=n;var l=this.textureBuffer.context,u=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,l),this.renderer.resolution=u}},i.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},i.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.prototype.getCanvas=function(){if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,r=this.textureBuffer.size.height,i=new Uint8Array(4*e*r);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,r,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=new h(e,r),o=n.context.getImageData(0,0,e,r);return o.data.set(i),n.context.putImageData(o,0,0),n.canvas}return this.textureBuffer.canvas},i.prototype.getPixels=function(){var t,e;if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var r=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var i=new Uint8Array(4*t*e);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(0,0,t,e,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},i.prototype.getPixel=function(t,e){if(this.renderer.type===u.RENDERER_TYPE.WEBGL){var r=this.renderer.gl,i=new Uint8Array(4);return r.bindFramebuffer(r.FRAMEBUFFER,this.textureBuffer.frameBuffer),r.readPixels(t,e,1,1,r.RGBA,r.UNSIGNED_BYTE,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},{"../const":22,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/webgl/managers/FilterManager":53,"../renderers/webgl/utils/RenderTarget":64,"./BaseTexture":69,"./Texture":71}],71:[function(t,e,r){function i(t,e,r,n,o){a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new h.Rectangle(0,0,1,1)),t instanceof i&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||e,this.rotate=!!o,t.hasLoaded?(this.noFrame&&(e=new h.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var n=t("./BaseTexture"),o=t("./VideoBaseTexture"),s=t("./TextureUvs"),a=t("eventemitter3"),h=t("../math"),l=t("../utils");i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}}}),i.prototype.update=function(){this.baseTexture.update()},i.prototype.onBaseTextureLoaded=function(t){this.frame=this.noFrame?new h.Rectangle(0,0,t.width,t.height):this._frame,this.emit("update",this)},i.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},i.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1},i.prototype.clone=function(){return new i(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},i.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},i.fromImage=function(t,e,r){var o=l.TextureCache[t];return o||(o=new i(n.fromImage(t,e,r)),l.TextureCache[t]=o),o},i.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},i.fromCanvas=function(t,e){return new i(n.fromCanvas(t,e))},i.fromVideo=function(t,e){return"string"==typeof t?i.fromVideoUrl(t,e):new i(o.fromVideo(t,e))},i.fromVideoUrl=function(t,e){return new i(o.fromUrl(t,e))},i.addTextureToCache=function(t,e){l.TextureCache[e]=t},i.removeTextureFromCache=function(t){var e=l.TextureCache[t];return delete l.TextureCache[t],delete l.BaseTextureCache[t],e},i.EMPTY=new i(new n)},{"../math":32,"../utils":76,"./BaseTexture":69,"./TextureUvs":72,"./VideoBaseTexture":73,eventemitter3:11}],72:[function(t,e,r){function i(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}e.exports=i,i.prototype.set=function(t,e,r){var i=e.width,n=e.height;r?(this.x0=(t.x+t.height)/i,this.y0=t.y/n,this.x1=(t.x+t.height)/i,this.y1=(t.y+t.width)/n,this.x2=t.x/i,this.y2=(t.y+t.width)/n,this.x3=t.x/i,this.y3=t.y/n):(this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n)}},{}],73:[function(t,e,r){function i(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function n(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var r=document.createElement("source");return r.src=t,r.type=e,r}var o=t("./BaseTexture"),s=t("../utils");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},i.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},i.prototype._onPlayStop=function(){this.autoUpdate=!1},i.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},i.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},i.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var r=s.BaseTextureCache[t._pixiId];return r||(r=new i(t,e),s.BaseTextureCache[t._pixiId]=r),r},i.fromUrl=function(t,e){var r=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)r.appendChild(n(t.src||t,t.mime));else r.appendChild(n(t.src||t,t.mime));return r.load(),r.play(),i.fromVideo(r,e)},i.fromUrls=i.fromUrl},{"../utils":76,"./BaseTexture":69}],74:[function(t,e,r){function i(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/n.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var n=t("../const"),o=t("eventemitter3"),s="tick";Object.defineProperties(i.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,n.TARGET_FPMS);this._maxElapsedMS=1/e}}}),i.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},i.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},i.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*n.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},e.exports=i},{"../const":22,eventemitter3:11}],75:[function(t,e,r){var i=t("./Ticker"),n=new i;n.autoStart=!0,e.exports={shared:n,Ticker:i}},{"./Ticker":74}],76:[function(t,e,r){var i=t("../const"),n=e.exports={_uid:0,_saidHello:!1,pluginTarget:t("./pluginTarget"),async:t("async"),uid:function(){return++n._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",r=new Image;r.src=t+"AP804Oa6"+e;var i=new Image;i.src=t+"/wCKxvRF"+e;var n=document.createElement("canvas");n.width=6,n.height=1;var o=n.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(r,0,0),o.drawImage(i,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;t>e;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=i.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!n._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+i.VERSION+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+i.VERSION+" - "+t+" - http://www.pixijs.com/");n._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!r||!r.getContextAttributes().stencil)}catch(i){return!1}},TextureCache:{},BaseTextureCache:{}}},{"../const":22,"./pluginTarget":77,async:2}],77:[function(t,e,r){function i(t){t.__plugins={},t.registerPlugin=function(e,r){t.__plugins[e]=r},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.exports={mixin:function(t){i(t)}}},{}],78:[function(t,e,r){var i=t("./core"),n=t("./mesh"),o=t("./extras"),s=t("./filters");i.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},i.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(i,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),i.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),i.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),n.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),n.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),i.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),i.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),i.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),i.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),i}}}),i.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},i.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},i.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},i.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),i.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),i.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),i.SpriteMaskFilter}}}),i.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),i.utils.uid()}},{"./core":29,"./extras":85,"./filters":102,"./mesh":126}],79:[function(t,e,r){function i(t,e){n.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.dirty=!1,this.updateText()}var n=t("../core");i.prototype=Object.create(n.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{tint:{get:function(){return this._font.tint},set:function(t){
this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):i.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){for(var t=i.fonts[this._font.name],e=new n.Point,r=null,o=[],s=0,a=0,h=[],l=0,u=this._font.size/t.size,c=-1,p=0;p<this.text.length;p++){var d=this.text.charCodeAt(p);if(c=/(\s)/.test(this.text.charAt(p))?p:c,/(?:\r\n|\r|\n)/.test(this.text.charAt(p)))h.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,r=null;else if(-1!==c&&this.maxWidth>0&&e.x*u>this.maxWidth)o.splice(c,p-c),p=c,c=-1,h.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,r=null;else{var f=t.chars[d];f&&(r&&f.kerning[r]&&(e.x+=f.kerning[r]),o.push({texture:f.texture,line:l,charCode:d,position:new n.Point(e.x+f.xOffset,e.y+f.yOffset)}),s=e.x+(f.texture.width+f.xOffset),e.x+=f.xAdvance,r=d)}}h.push(s),a=Math.max(a,s);var v=[];for(p=0;l>=p;p++){var g=0;"right"===this._font.align?g=a-h[p]:"center"===this._font.align&&(g=(a-h[p])/2),v.push(g)}var m=o.length,y=this.tint;for(p=0;m>p;p++){var x=this._glyphs[p];x?x.texture=o[p].texture:(x=new n.Sprite(o[p].texture),this._glyphs.push(x)),x.position.x=(o[p].position.x+v[o[p].line])*u,x.position.y=o[p].position.y*u,x.scale.x=x.scale.y=u,x.tint=y,x.parent||this.addChild(x)}for(p=m;p<this._glyphs.length;++p)this.removeChild(this._glyphs[p]);this.textWidth=a*u,this.textHeight=(e.y+t.lineHeight)*u},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),n.Container.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.fonts={}},{"../core":29}],80:[function(t,e,r){function i(t){n.Sprite.call(this,t[0]),this._textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var n=t("../core");i.prototype=Object.create(n.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){this._textures=t,this.texture=this._textures[Math.floor(this._currentTime)%this._textures.length]}},currentFrame:{get:function(){return Math.floor(this._currentTime)%this._textures.length}}}),i.prototype.stop=function(){this.playing&&(this.playing=!1,n.ticker.shared.remove(this.update,this))},i.prototype.play=function(){this.playing||(this.playing=!0,n.ticker.shared.add(this.update,this))},i.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t;var e=Math.floor(this._currentTime);this._texture=this._textures[e%this._textures.length]},i.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},i.prototype.update=function(t){this._currentTime+=this.animationSpeed*t;var e=Math.floor(this._currentTime);0>e?this.loop?this._texture=this._textures[this._textures.length-1+e%this._textures.length]:(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this.loop||e<this._textures.length?this._texture=this._textures[e%this._textures.length]:e>=this._textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())},i.prototype.destroy=function(){this.stop(),n.Sprite.prototype.destroy.call(this)},i.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new n.Texture.fromFrame(t[r]));return new i(e)},i.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(new n.Texture.fromImage(t[r]));return new i(e)}},{"../core":29}],81:[function(t,e,r){function i(t,e,r){n.Sprite.call(this,t),this.tileScale=new n.Point(1,1),this.tilePosition=new n.Point(0,0),this._width=e||100,this._height=r||100,this._uvs=new n.TextureUvs,this._canvasPattern=null,this.shader=new n.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var n=t("../core"),o=new n.Point;i.prototype=Object.create(n.Sprite.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),i.prototype._onTextureUpdate=function(){},i.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var r=e._uvs,i=e._frame.width,n=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=r.x0,this.shader.uniforms.uFrame.value[1]=r.y0,this.shader.uniforms.uFrame.value[2]=r.x1-r.x0,this.shader.uniforms.uFrame.value[3]=r.y2-r.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(i*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(n*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=r,e._frame.width=i,e._frame.height=n}},i.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,i=this.worldTransform,o=t.resolution,s=e.baseTexture,a=this.tilePosition.x%(e._frame.width*this.tileScale.x),h=this.tilePosition.y%(e._frame.height*this.tileScale.y);if(!this._canvasPattern){var l=new n.CanvasBuffer(e._frame.width,e._frame.height);l.context.drawImage(s.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),r.scale(this.tileScale.x,this.tileScale.y),r.translate(a+this.anchor.x*-this._width,h+this.anchor.y*-this._height),this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,r.globalCompositeOperation=t.blendModes[t.currentBlendMode]),r.fillStyle=this._canvasPattern,r.fillRect(-a,-h,this._width/this.tileScale.x,this._height/this.tileScale.y)}},i.prototype.getBounds=function(){var t,e,r,i,n=this._width,o=this._height,s=n*(1-this.anchor.x),a=n*-this.anchor.x,h=o*(1-this.anchor.y),l=o*-this.anchor.y,u=this.worldTransform,c=u.a,p=u.b,d=u.c,f=u.d,v=u.tx,g=u.ty,m=c*a+d*l+v,y=f*l+p*a+g,x=c*s+d*l+v,b=f*l+p*s+g,_=c*s+d*h+v,T=f*h+p*s+g,E=c*a+d*h+v,S=f*h+p*a+g;t=m,t=t>x?x:t,t=t>_?_:t,t=t>E?E:t,r=y,r=r>b?b:r,r=r>T?T:r,r=r>S?S:r,e=m,e=x>e?x:e,e=_>e?_:e,e=E>e?E:e,i=y,i=b>i?b:i,i=T>i?T:i,i=S>i?S:i;var A=this._bounds;return A.x=t,A.width=e-t,A.y=r,A.height=i-r,this._currentBounds=A,A},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,r=this._width,i=this._height,n=-r*this.anchor.x;return o.x>n&&o.x<n+r&&(e=-i*this.anchor.y,o.y>e&&o.y<e+i)?!0:!1},i.prototype.destroy=function(){n.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},i.fromFrame=function(t,e,r){var o=n.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new i(o,e,r)},i.fromImage=function(t,e,r,o,s){return new i(n.Texture.fromImage(t,o,s),e,r)}},{"../core":29}],82:[function(t,e,r){var i=t("../core"),n=i.DisplayObject,o=new i.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._originalRenderWebGL=null,n.prototype._originalRenderCanvas=null,n.prototype._originalUpdateTransform=null,n.prototype._originalHitTest=null,n.prototype._originalDestroy=null,n.prototype._cachedSprite=null,Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),n.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},n.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;e.x-=r,e.y-=r,e.width+=2*r,e.height+=2*r}var n=t.currentRenderTarget,s=t.filterManager.filterStack,a=new i.RenderTexture(t,0|e.width,0|e.height),h=o;h.tx=-e.x,h.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,h,!0,!0),t.setRenderTarget(n),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},n.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),r=t.context,n=new i.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,n.render(this,s,!0),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(n),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},n.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},n.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":29}],83:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":29}],84:[function(t,e,r){var i=t("../core");i.DisplayObject.prototype.getGlobalPosition=function(t){return t=t||new i.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":29}],85:[function(t,e,r){t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition"),e.exports={MovieClip:t("./MovieClip"),TilingSprite:t("./TilingSprite"),BitmapText:t("./BitmapText")}},{"./BitmapText":79,"./MovieClip":80,"./TilingSprite":81,"./cacheAsBitmap":82,"./getChildByName":83,"./getGlobalPosition":84}],86:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],87:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new n.AbstractFilter}var n=t("../../core"),o=t("../blur/BlurXFilter"),s=t("../blur/BlurYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,r),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(n.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,i,r),t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"../blur/BlurXFilter":90,"../blur/BlurYFilter":91}],88:[function(t,e,r){function i(t,e){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:e||0}}),this.defaultFilter=new n.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=e||0,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(n,e,o,i);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(n,o,o,i);t.filterManager.applyFilter(n,o,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})},{"../../core":29}],89:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var n=t("../../core"),o=t("./BlurXFilter"),s=t("./BlurYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,i),this.blurYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},{"../../core":29,"./BlurXFilter":90,"./BlurYFilter":91}],90:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],91:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})},{"../../core":29}],92:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],93:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype._loadMatrix=function(t,e){e=!!e;var r=t;e&&(this._multiply(r,this.uniforms.m.value,t),r=this._colorMatrix(r)),this.uniforms.m.value=r},i.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19],t},i.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},i.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.grayscale=i.prototype.greyscale,i.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=.213,o=.715,s=.072,a=[n+r*(1-n)+i*-n,o+r*-o+i*-o,s+r*-s+i*(1-s),0,0,n+r*-n+.143*i,o+r*(1-o)+.14*i,s+r*-s+i*-.283,0,0,n+r*-n+i*-(1-n),o+r*-o+i*o,s+r*(1-s)+i*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},i.prototype.contrast=function(t,e){var r=(t||0)+1,i=-128*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.saturate=function(t,e){var r=2*(t||0)/3+1,i=(r-1)*-.5,n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.desaturate=function(t){this.saturate(-1)},i.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.colorTone=function(t,e,r,i,n){t=t||.2,e=e||.15,r=r||16770432,i=i||3375104;var o=(r>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=(i>>16&255)/255,l=(i>>8&255)/255,u=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t,0,h,l,u,e,0,o-h,s-l,a-u,0,0];this._loadMatrix(c,n)},i.prototype.night=function(t,e){t=t||.1;var r=[-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})},{"../../core":29}],94:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t;

}}})},{"../../core":29}],95:[function(t,e,r){function i(t,e,r){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/e,y:1/r}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})},{"../../core":29}],96:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i},{"../../core":29}],97:[function(t,e,r){function i(t){var e=new n.Matrix;t.renderable=!1,n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 original =  texture2D(uSampler, vTextureCoord);\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:e.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=e,this.scale=new n.Point(20,20)}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager;i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var n=this.getShader(t);i.applyFilter(n,e,r)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})},{"../../core":29}],98:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],99:[function(t,e,r){function i(){n.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r,i){var n=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(n,e,r,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,h=0;h<this.passes-1;h++){t.filterManager.applyFilter(n,s,a,i);var l=a;a=s,s=l}t.filterManager.applyFilter(n,s,r,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})},{"../../core":29}],100:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new n.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=n.BLEND_MODES.MULTIPLY}var n=t("../../core"),o=t("../blur/BlurXFilter"),s=t("./BlurYTintFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,i,r),t.blendModeManager.setBlendMode(n.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return n.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=n.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},{"../../core":29,"../blur/BlurXFilter":90,"./BlurYTintFilter":99}],101:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})},{"../../core":29}],102:[function(t,e,r){e.exports={AsciiFilter:t("./ascii/AsciiFilter"),BloomFilter:t("./bloom/BloomFilter"),BlurFilter:t("./blur/BlurFilter"),BlurXFilter:t("./blur/BlurXFilter"),BlurYFilter:t("./blur/BlurYFilter"),BlurDirFilter:t("./blur/BlurDirFilter"),ColorMatrixFilter:t("./color/ColorMatrixFilter"),ColorStepFilter:t("./color/ColorStepFilter"),ConvolutionFilter:t("./convolution/ConvolutionFilter"),CrossHatchFilter:t("./crosshatch/CrossHatchFilter"),DisplacementFilter:t("./displacement/DisplacementFilter"),DotScreenFilter:t("./dot/DotScreenFilter"),GrayFilter:t("./gray/GrayFilter"),DropShadowFilter:t("./dropshadow/DropShadowFilter"),InvertFilter:t("./invert/InvertFilter"),NoiseFilter:t("./noise/NoiseFilter"),NormalMapFilter:t("./normal/NormalMapFilter"),PixelateFilter:t("./pixelate/PixelateFilter"),RGBSplitFilter:t("./rgb/RGBSplitFilter"),ShockwaveFilter:t("./shockwave/ShockwaveFilter"),SepiaFilter:t("./sepia/SepiaFilter"),SmartBlurFilter:t("./blur/SmartBlurFilter"),TiltShiftFilter:t("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:t("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:t("./tiltshift/TiltShiftYFilter"),TwistFilter:t("./twist/TwistFilter")}},{"./ascii/AsciiFilter":86,"./bloom/BloomFilter":87,"./blur/BlurDirFilter":88,"./blur/BlurFilter":89,"./blur/BlurXFilter":90,"./blur/BlurYFilter":91,"./blur/SmartBlurFilter":92,"./color/ColorMatrixFilter":93,"./color/ColorStepFilter":94,"./convolution/ConvolutionFilter":95,"./crosshatch/CrossHatchFilter":96,"./displacement/DisplacementFilter":97,"./dot/DotScreenFilter":98,"./dropshadow/DropShadowFilter":100,"./gray/GrayFilter":101,"./invert/InvertFilter":103,"./noise/NoiseFilter":104,"./normal/NormalMapFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],103:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})},{"../../core":29}],104:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})},{"../../core":29}],105:[function(t,e,r){function i(t){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D displacementMap;\nuniform sampler2D uSampler;\n\nuniform vec4 dimensions;\n\nconst vec2 Resolution = vec2(1.0,1.0);      //resolution of screen\nuniform vec3 LightPos;    //light position, normalized\nconst vec4 LightColor = vec4(1.0, 1.0, 1.0, 1.0);      //light RGBA -- alpha is intensity\nconst vec4 AmbientColor = vec4(1.0, 1.0, 1.0, 0.5);    //ambient RGBA -- alpha is intensity\nconst vec3 Falloff = vec3(0.0, 1.0, 0.2);         //attenuation coefficients\n\nuniform vec3 LightDir; // = vec3(1.0, 0.0, 1.0);\n\nuniform vec2 mapDimensions; // = vec2(256.0, 256.0);\n\n\nvoid main(void)\n{\n    vec2 mapCords = vTextureCoord.xy;\n\n    vec4 color = texture2D(uSampler, vTextureCoord.st);\n    vec3 nColor = texture2D(displacementMap, vTextureCoord.st).rgb;\n\n\n    mapCords *= vec2(dimensions.x/512.0, dimensions.y/512.0);\n\n    mapCords.y *= -1.0;\n    mapCords.y += 1.0;\n\n    // RGBA of our diffuse color\n    vec4 DiffuseColor = texture2D(uSampler, vTextureCoord);\n\n    // RGB of our normal map\n    vec3 NormalMap = texture2D(displacementMap, mapCords).rgb;\n\n    // The delta position of light\n    // vec3 LightDir = vec3(LightPos.xy - (gl_FragCoord.xy / Resolution.xy), LightPos.z);\n    vec3 LightDir = vec3(LightPos.xy - (mapCords.xy), LightPos.z);\n\n    // Correct for aspect ratio\n    // LightDir.x *= Resolution.x / Resolution.y;\n\n    // Determine distance (used for attenuation) BEFORE we normalize our LightDir\n    float D = length(LightDir);\n\n    // normalize our vectors\n    vec3 N = normalize(NormalMap * 2.0 - 1.0);\n    vec3 L = normalize(LightDir);\n\n    // Pre-multiply light color with intensity\n    // Then perform 'N dot L' to determine our diffuse term\n    vec3 Diffuse = (LightColor.rgb * LightColor.a) * max(dot(N, L), 0.0);\n\n    // pre-multiply ambient color with intensity\n    vec3 Ambient = AmbientColor.rgb * AmbientColor.a;\n\n    // calculate attenuation\n    float Attenuation = 1.0 / ( Falloff.x + (Falloff.y*D) + (Falloff.z*D*D) );\n\n    // the calculation which brings it all together\n    vec3 Intensity = Ambient + Diffuse * Attenuation;\n    vec3 FinalColor = DiffuseColor.rgb * Intensity;\n    gl_FragColor = vColor * vec4(FinalColor, DiffuseColor.a);\n\n    // gl_FragColor = vec4(1.0, 0.0, 0.0, Attenuation); // vColor * vec4(FinalColor, DiffuseColor.a);\n\n/*\n    // normalise color\n    vec3 normal = normalize(nColor * 2.0 - 1.0);\n\n    vec3 deltaPos = vec3( (light.xy - gl_FragCoord.xy) / resolution.xy, light.z );\n\n    float lambert = clamp(dot(normal, lightDir), 0.0, 1.0);\n\n    float d = sqrt(dot(deltaPos, deltaPos));\n    float att = 1.0 / ( attenuation.x + (attenuation.y*d) + (attenuation.z*d*d) );\n\n    vec3 result = (ambientColor * ambientIntensity) + (lightColor.rgb * lambert) * att;\n    result *= color.rgb;\n\n    gl_FragColor = vec4(result, 1.0);\n*/\n}\n",{displacementMap:{type:"sampler2D",value:t},scale:{type:"2f",value:{x:15,y:15}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:1}},dimensions:{type:"4f",value:[0,0,0,0]},LightPos:{type:"3f",value:[0,1,0]}}),t.baseTexture._powerOf2=!0,t.baseTexture.hasLoaded?this.onTextureLoaded():t.baseTexture.once("loaded",this.onTextureLoaded,this)}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}},scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})},{"../../core":29}],106:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})},{"../../core":29}],107:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})},{"../../core":29}],108:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})},{"../../core":29}],109:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})},{"../../core":29}],110:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(i.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})},{"../../core":29}],111:[function(t,e,r){function i(){n.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var n=t("../../core"),o=t("./TiltShiftXFilter"),s=t("./TiltShiftYFilter");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.applyFilter=function(t,e,r){var i=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,i),this.tiltShiftYFilter.applyFilter(t,i,r),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(t,e,r){function i(){n.call(this)}var n=t("./TiltShiftAxisFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/r,this.uniforms.delta.value.y=e/r}},{"./TiltShiftAxisFilter":110}],113:[function(t,e,r){function i(){n.call(this)}var n=t("./TiltShiftAxisFilter");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,r=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/r,this.uniforms.delta.value.y=t/r}},{"./TiltShiftAxisFilter":110}],114:[function(t,e,r){function i(){n.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var n=t("../../core");i.prototype=Object.create(n.AbstractFilter.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})},{"../../core":29}],115:[function(t,e,r){function i(){this.global=new n.Point,this.target=null,this.originalEvent=null}var n=t("../core");i.prototype.constructor=i,e.exports=i,i.prototype.getLocalPosition=function(t,e,r){var i=t.worldTransform,o=r?r:this.global,s=i.a,a=i.c,h=i.tx,l=i.b,u=i.d,c=i.ty,p=1/(s*u+a*-l);return e=e||new n.Point,e.x=u*p*o.x+-a*p*o.x+(c*a-h*u)*p,e.y=s*p*o.y+-l*p*o.y+(-c*s+h*l)*p,e}},{"../core":29}],116:[function(t,e,r){function i(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0!==e.autoPreventDefault?e.autoPreventDefault:!0,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new n.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var n=t("../core"),o=t("./InteractionData");Object.assign(n.DisplayObject.prototype,t("./interactiveTarget")),i.prototype.constructor=i,e.exports=i,i.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),
this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},i.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.target=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},i.prototype.mapPositionToPoint=function(t,e,r){var i=this.interactionDOMElement.getBoundingClientRect();t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)/this.resolution,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)/this.resolution},i.prototype.processInteractive=function(t,e,r,i,n){if(!e.visible)return!1;var o=e.children,s=!1;if(n=n||e.interactive,e.interactiveChildren)for(var a=o.length-1;a>=0;a--)!s&&i?s=this.processInteractive(t,o[a],r,!0,n):this.processInteractive(t,o[a],r,!1,!1);return n&&(i&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),s=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(s=e.containsPoint(t))),e.interactive&&r(e,s)),s},i.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},i.prototype.processMouseDown=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which;e&&(t[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",this.eventData))},i.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},i.prototype.processMouseUp=function(t,e){var r=this.mouse.originalEvent,i=2===r.button||3===r.which,n=i?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,i?"rightup":"mouseup",this.eventData),t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightclick":"click",this.eventData))):t[n]&&(t[n]=!1,this.dispatchEvent(t,i?"rightupoutside":"mouseupoutside",this.eventData))},i.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},i.prototype.processMouseMove=function(t,e){this.dispatchEvent(t,"mousemove",this.eventData),this.processMouseOverOut(t,e)},i.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},i.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},i.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},i.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},i.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},i.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},i.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,r=e.length,i=0;r>i;i++){var n=e[i],o=this.getTouchData(n);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,!1),this.returnTouchData(o)}},i.prototype.processTouchMove=function(t,e){e=e,this.dispatchEvent(t,"touchmove",this.eventData)},i.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},i.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},i.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},n.WebGLRenderer.registerPlugin("interaction",i),n.CanvasRenderer.registerPlugin("interaction",i)},{"../core":29,"./InteractionData":115,"./interactiveTarget":118}],117:[function(t,e,r){e.exports={InteractionData:t("./InteractionData"),InteractionManager:t("./InteractionManager"),interactiveTarget:t("./interactiveTarget")}},{"./InteractionData":115,"./InteractionManager":116,"./interactiveTarget":118}],118:[function(t,e,r){var i={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};e.exports=i},{}],119:[function(t,e,r){function i(t,e){var r={},i=t.data.getElementsByTagName("info")[0],n=t.data.getElementsByTagName("common")[0];r.font=i.getAttribute("face"),r.size=parseInt(i.getAttribute("size"),10),r.lineHeight=parseInt(n.getAttribute("lineHeight"),10),r.chars={};for(var a=t.data.getElementsByTagName("char"),h=0;h<a.length;h++){var l=parseInt(a[h].getAttribute("id"),10),u=new o.Rectangle(parseInt(a[h].getAttribute("x"),10)+e.frame.x,parseInt(a[h].getAttribute("y"),10)+e.frame.y,parseInt(a[h].getAttribute("width"),10),parseInt(a[h].getAttribute("height"),10));r.chars[l]={xOffset:parseInt(a[h].getAttribute("xoffset"),10),yOffset:parseInt(a[h].getAttribute("yoffset"),10),xAdvance:parseInt(a[h].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,u)}}var c=t.data.getElementsByTagName("kerning");for(h=0;h<c.length;h++){var p=parseInt(c[h].getAttribute("first"),10),d=parseInt(c[h].getAttribute("second"),10),f=parseInt(c[h].getAttribute("amount"),10);r.chars[d].kerning[p]=f}t.bitmapFont=r,s.BitmapText.fonts[r.font]=r}var n=t("resource-loader").Resource,o=t("../core"),s=t("../extras"),a=t("path");e.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var r=a.dirname(t.url);"."===r&&(r=""),this.baseUrl&&r&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/"),r=r.replace(this.baseUrl,"")),r&&"/"!==r.charAt(r.length-1)&&(r+="/");var s=r+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])i(t,o.utils.TextureCache[s]),e();else{var h={crossOrigin:t.crossOrigin,loadType:n.LOAD_TYPE.IMAGE};this.add(t.name+"_image",s,h,function(r){i(t,r.texture),e()})}}}},{"../core":29,"../extras":85,path:3,"resource-loader":18}],120:[function(t,e,r){e.exports={Loader:t("./loader"),bitmapFontParser:t("./bitmapFontParser"),spritesheetParser:t("./spritesheetParser"),textureParser:t("./textureParser"),Resource:t("resource-loader").Resource}},{"./bitmapFontParser":119,"./loader":121,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],121:[function(t,e,r){function i(t,e){n.call(this,t,e);for(var r=0;r<i._pixiMiddleware.length;++r)this.use(i._pixiMiddleware[r]())}var n=t("resource-loader"),o=t("./textureParser"),s=t("./spritesheetParser"),a=t("./bitmapFontParser");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i._pixiMiddleware=[n.middleware.parsing.blob,o,s,a],i.addPixiMiddleware=function(t){i._pixiMiddleware.push(t)};var h=n.Resource;h.setExtensionXhrType("fnt",h.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":119,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],122:[function(t,e,r){var i=t("resource-loader").Resource,n=t("path"),o=t("../core");e.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var r={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE},s=n.dirname(t.url.replace(this.baseUrl,"")),a=o.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",s+"/"+t.data.meta.image,r,function(r){t.textures={};var i=t.data.frames;for(var n in i){var s=i[n].frame;if(s){var h=null,l=null;if(h=i[n].rotated?new o.Rectangle(s.x,s.y,s.h,s.w):new o.Rectangle(s.x,s.y,s.w,s.h),i[n].trimmed&&(l=new o.Rectangle(i[n].spriteSourceSize.x/a,i[n].spriteSourceSize.y/a,i[n].sourceSize.w/a,i[n].sourceSize.h/a)),i[n].rotated){var u=h.width;h.width=h.height,h.height=u}h.x/=a,h.y/=a,h.width/=a,h.height/=a,t.textures[n]=new o.Texture(r.texture.baseTexture,h,h.clone(),l,i[n].rotated),o.utils.TextureCache[n]=t.textures[n]}}e()})}}},{"../core":29,path:3,"resource-loader":18}],123:[function(t,e,r){var i=t("../core");e.exports=function(){return function(t,e){t.data&&t.isImage&&(t.texture=new i.Texture(new i.BaseTexture(t.data,null,i.utils.getResolutionOfUrl(t.url))),i.utils.TextureCache[t.url]=t.texture),e()}}},{"../core":29}],124:[function(t,e,r){function i(t,e,r,o,s){n.Container.call(this),this._texture=null,this.uvs=r||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=n.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||i.DRAW_MODES.TRIANGLE_MESH,this.texture=t}var n=t("../core"),o=new n.Point,s=new n.Polygon;i.prototype=Object.create(n.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},i.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform;t.roundPixels?e.setTransform(r.a,r.b,r.c,r.d,0|r.tx,0|r.ty):e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),this.drawMode===i.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},i.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,r=this.uvs,i=e.length/2,n=0;i-2>n;n++){var o=2*n;this._renderCanvasDrawTriangle(t,e,r,o,o+2,o+4)}},i.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,r=this.uvs,i=this.indices,n=i.length,o=0;n>o;o+=3){var s=2*i[o],a=2*i[o+1],h=2*i[o+2];this._renderCanvasDrawTriangle(t,e,r,s,a,h)}},i.prototype._renderCanvasDrawTriangle=function(t,e,r,i,n,o){var s=this._texture.baseTexture.source,a=this._texture.baseTexture.width,h=this._texture.baseTexture.height,l=e[i],u=e[n],c=e[o],p=e[i+1],d=e[n+1],f=e[o+1],v=r[i]*a,g=r[n]*a,m=r[o]*a,y=r[i+1]*h,x=r[n+1]*h,b=r[o+1]*h;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,T=this.canvasPadding/this.worldTransform.d,E=(l+u+c)/3,S=(p+d+f)/3,A=l-E,w=p-S,C=Math.sqrt(A*A+w*w);l=E+A/C*(C+_),p=S+w/C*(C+T),A=u-E,w=d-S,C=Math.sqrt(A*A+w*w),u=E+A/C*(C+_),d=S+w/C*(C+T),A=c-E,w=f-S,C=Math.sqrt(A*A+w*w),c=E+A/C*(C+_),f=S+w/C*(C+T)}t.save(),t.beginPath(),t.moveTo(l,p),t.lineTo(u,d),t.lineTo(c,f),t.closePath(),t.clip();var M=v*x+y*m+g*b-x*m-y*g-v*b,R=l*x+y*c+u*b-x*c-y*u-l*b,D=v*u+l*m+g*c-u*m-l*g-v*c,F=v*x*c+y*u*m+l*g*b-l*x*m-y*g*c-v*u*b,P=p*x+y*f+d*b-x*f-y*d-p*b,O=v*d+p*m+g*f-d*m-p*g-v*f,B=v*x*f+y*d*m+p*g*b-p*x*m-y*g*f-v*d*b;t.transform(R/M,P/M,D/M,O/M,F/M,B/M),t.drawImage(s,0,0),t.restore()},i.prototype.renderMeshFlat=function(t){var e=this.context,r=t.vertices,i=r.length/2;e.beginPath();for(var n=1;i-2>n;n++){var o=2*n,s=r[o],a=r[o+2],h=r[o+4],l=r[o+1],u=r[o+3],c=r[o+5];e.moveTo(s,l),e.lineTo(a,u),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.prototype._onTextureUpdate=function(){this.updateFrame=!0},i.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,r=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,h=e.ty,l=-(1/0),u=-(1/0),c=1/0,p=1/0,d=this.vertices,f=0,v=d.length;v>f;f+=2){var g=d[f],m=d[f+1],y=r*g+o*m+a,x=s*m+i*g+h;c=c>y?y:c,p=p>x?x:p,l=y>l?y:l,u=x>u?x:u}if(c===-(1/0)||u===1/0)return n.Rectangle.EMPTY;var b=this._bounds;b.x=c,b.width=l-c,b.y=p,b.height=u-p,this._currentBounds=b}return this._currentBounds},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);var e,r,n=this.vertices,a=s.points;if(this.drawMode===i.DRAW_MODES.TRIANGLES){var h=this.indices;for(r=this.indices.length,e=0;r>e;e+=3){var l=2*h[e],u=2*h[e+1],c=2*h[e+2];if(a[0]=n[l],a[1]=n[l+1],a[2]=n[u],a[3]=n[u+1],a[4]=n[c],a[5]=n[c+1],s.contains(o.x,o.y))return!0}}else for(r=n.length,e=0;r>e;e+=6)if(a[0]=n[e],a[1]=n[e+1],a[2]=n[e+2],a[3]=n[e+3],a[4]=n[e+4],a[5]=n[e+5],s.contains(o.x,o.y))return!0;return!1},i.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":29}],125:[function(t,e,r){function i(t,e){n.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var n=t("./Mesh"),o=t("../core");i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,r=this.indices,i=this.colors,n=this._texture._uvs,s=new o.Point(n.x0,n.y0),a=new o.Point(n.x2-n.x0,n.y2-n.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,i[0]=1,i[1]=1,r[0]=0,r[1]=1;for(var h,l,u,c=t.length,p=1;c>p;p++)h=t[p],l=4*p,u=p/(c-1),e[l]=u*a.x+s.x,e[l+1]=0+s.y,e[l+2]=u*a.x+s.x,e[l+3]=1*a.y+s.y,l=2*p,i[l]=1,i[l+1]=1,l=2*p,r[l]=l,r[l+1]=l+1;this.dirty=!0}},i.prototype._onTextureUpdate=function(){n.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},i.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,r,i,n,o,s,a=t[0],h=0,l=0,u=this.vertices,c=t.length,p=0;c>p;p++)r=t[p],i=4*p,e=p<t.length-1?t[p+1]:r,l=-(e.x-a.x),h=e.y-a.y,n=10*(1-p/(c-1)),n>1&&(n=1),o=Math.sqrt(h*h+l*l),s=this._texture.height/2,h/=o,l/=o,h*=s,l*=s,u[i]=r.x+h,u[i+1]=r.y+l,u[i+2]=r.x-h,u[i+3]=r.y-l,a=r;this.containerUpdateTransform()}}},{"../core":29,"./Mesh":124}],126:[function(t,e,r){e.exports={Mesh:t("./Mesh"),Rope:t("./Rope"),MeshRenderer:t("./webgl/MeshRenderer"),MeshShader:t("./webgl/MeshShader")}},{"./Mesh":124,"./Rope":125,"./webgl/MeshRenderer":127,"./webgl/MeshShader":128}],127:[function(t,e,r){function i(t){n.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,r=0;15e3>e;e+=6,r+=4)this.indices[e+0]=r+0,this.indices[e+1]=r+1,this.indices[e+2]=r+2,this.indices[e+3]=r+0,this.indices[e+4]=r+2,this.indices[e+5]=r+3}var n=t("../../core"),o=t("../Mesh");i.prototype=Object.create(n.ObjectRenderer.prototype),i.prototype.constructor=i,e.exports=i,n.WebGLRenderer.registerPlugin("mesh",i),i.prototype.onContextChange=function(){},i.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,r=e.gl,i=t._texture.baseTexture,n=e.shaderManager.plugins.meshShader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?r.TRIANGLE_STRIP:r.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),r.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),r.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,e.currentRenderTarget.projectionMatrix.toArray(!0)),r.uniform1f(n.uniforms.alpha._location,t.worldAlpha),t.dirty?(t.dirty=!1,r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferData(r.ARRAY_BUFFER,t.vertices,r.STATIC_DRAW),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.bufferData(r.ARRAY_BUFFER,t.uvs,r.STATIC_DRAW),r.vertexAttribPointer(n.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.indices,r.STATIC_DRAW)):(r.bindBuffer(r.ARRAY_BUFFER,t._vertexBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,t.vertices),r.vertexAttribPointer(n.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,t._uvBuffer),r.vertexAttribPointer(n.attributes.aTextureCoord,2,r.FLOAT,!1,0,0),r.activeTexture(r.TEXTURE0),i._glTextures[r.id]?r.bindTexture(r.TEXTURE_2D,i._glTextures[r.id]):this.renderer.updateTexture(i),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t._indexBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,t.indices)),r.drawElements(s,t.indices.length,r.UNSIGNED_SHORT,0)},i.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},i.prototype.flush=function(){},i.prototype.start=function(){var t=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(t)},i.prototype.destroy=function(){}},{"../../core":29,"../Mesh":124}],128:[function(t,e,r){function i(t){n.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var n=t("../../core");i.prototype=Object.create(n.Shader.prototype),i.prototype.constructor=i,e.exports=i,n.ShaderManager.registerPlugin("meshShader",i)},{"../../core":29}],129:[function(t,e,r){Object.assign||(Object.assign=t("object-assign"))},{"object-assign":12}],130:[function(t,e,r){t("./Object.assign"),t("./requestAnimationFrame")},{"./Object.assign":129,"./requestAnimationFrame":131}],131:[function(t,e,r){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[i[n]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[n]+"CancelAnimationFrame"]||t[i[n]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return 0>i&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});
;(function(){
var l,aa=this;function ea(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}function la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function ma(a,b,c){ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return ma.apply(null,arguments)};function na(a,b){for(var c in a)b.call(void 0,a[c],c,a)};function oa(a,b){this.ca=[];this.jb=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.ca[d]=e,c=!1)}}var pa={};function qa(a){if(-128<=a&&128>a){var b=pa[a];if(b)return b}b=new oa([a|0],0>a?-1:0);-128<=a&&128>a&&(pa[a]=b);return b}function ra(a){if(isNaN(a)||!isFinite(a))return sa;if(0>a)return ra(-a).Ba();for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=ta;return new oa(b,0)}var ta=4294967296,sa=qa(0),wa=qa(1),xa=qa(16777216);l=oa.prototype;
l.ed=function(){return 0<this.ca.length?this.ca[0]:this.jb};l.Hb=function(){if(this.Ja())return-this.Ba().Hb();for(var a=0,b=1,c=0;c<this.ca.length;c++)var d=ya(this,c),a=a+(0<=d?d:ta+d)*b,b=b*ta;return a};
l.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.Xa())return"0";if(this.Ja())return"-"+this.Ba().toString(a);for(var b=ra(Math.pow(a,6)),c=this,d="";;){var e=za(c,b),f=(c.gc(e.multiply(b)).ed()>>>0).toString(a),c=e;if(c.Xa())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};function ya(a,b){return 0>b?0:b<a.ca.length?a.ca[b]:a.jb}l.Xa=function(){if(0!=this.jb)return!1;for(var a=0;a<this.ca.length;a++)if(0!=this.ca[a])return!1;return!0};
l.Ja=function(){return-1==this.jb};l.Tc=function(a){return 0<this.compare(a)};l.Uc=function(a){return 0<=this.compare(a)};l.uc=function(){return 0>this.compare(xa)};l.vc=function(a){return 0>=this.compare(a)};l.compare=function(a){a=this.gc(a);return a.Ja()?-1:a.Xa()?0:1};l.Ba=function(){return this.$c().add(wa)};
l.add=function(a){for(var b=Math.max(this.ca.length,a.ca.length),c=[],d=0,e=0;e<=b;e++){var f=d+(ya(this,e)&65535)+(ya(a,e)&65535),g=(f>>>16)+(ya(this,e)>>>16)+(ya(a,e)>>>16),d=g>>>16,f=f&65535,g=g&65535;c[e]=g<<16|f}return new oa(c,c[c.length-1]&-2147483648?-1:0)};l.gc=function(a){return this.add(a.Ba())};
l.multiply=function(a){if(this.Xa()||a.Xa())return sa;if(this.Ja())return a.Ja()?this.Ba().multiply(a.Ba()):this.Ba().multiply(a).Ba();if(a.Ja())return this.multiply(a.Ba()).Ba();if(this.uc()&&a.uc())return ra(this.Hb()*a.Hb());for(var b=this.ca.length+a.ca.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.ca.length;d++)for(var e=0;e<a.ca.length;e++){var f=ya(this,d)>>>16,g=ya(this,d)&65535,k=ya(a,e)>>>16,m=ya(a,e)&65535;c[2*d+2*e]+=g*m;Aa(c,2*d+2*e);c[2*d+2*e+1]+=f*m;Aa(c,2*d+2*e+1);c[2*d+2*e+1]+=
g*k;Aa(c,2*d+2*e+1);c[2*d+2*e+2]+=f*k;Aa(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new oa(c,0)};function Aa(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535}
function za(a,b){if(b.Xa())throw Error("division by zero");if(a.Xa())return sa;if(a.Ja())return b.Ja()?za(a.Ba(),b.Ba()):za(a.Ba(),b).Ba();if(b.Ja())return za(a,b.Ba()).Ba();if(30<a.ca.length){if(a.Ja()||b.Ja())throw Error("slowDivide_ only works with positive integers.");for(var c=wa,d=b;d.vc(a);)c=c.shiftLeft(1),d=d.shiftLeft(1);for(var e=c.sb(1),f=d.sb(1),g,d=d.sb(2),c=c.sb(2);!d.Xa();)g=f.add(d),g.vc(a)&&(e=e.add(c),f=g),d=d.sb(1),c=c.sb(1);return e}c=sa;for(d=a;d.Uc(b);){e=Math.max(1,Math.floor(d.Hb()/
b.Hb()));f=Math.ceil(Math.log(e)/Math.LN2);f=48>=f?1:Math.pow(2,f-48);g=ra(e);for(var k=g.multiply(b);k.Ja()||k.Tc(d);)e-=f,g=ra(e),k=g.multiply(b);g.Xa()&&(g=wa);c=c.add(g);d=d.gc(k)}return c}l.$c=function(){for(var a=this.ca.length,b=[],c=0;c<a;c++)b[c]=~this.ca[c];return new oa(b,~this.jb)};l.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.ca.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?ya(this,e-b)<<a|ya(this,e-b-1)>>>32-a:ya(this,e-b);return new oa(d,this.jb)};
l.sb=function(a){var b=a>>5;a%=32;for(var c=this.ca.length-b,d=[],e=0;e<c;e++)d[e]=0<a?ya(this,e+b)>>>a|ya(this,e+b+1)<<32-a:ya(this,e+b);return new oa(d,this.jb)};function Ca(a,b){null!=a&&this.append.apply(this,arguments)}l=Ca.prototype;l.eb="";l.set=function(a){this.eb=""+a};l.append=function(a,b,c){this.eb+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.eb+=arguments[d];return this};l.clear=function(){this.eb=""};l.toString=function(){return this.eb};var Da;if("undefined"===typeof Ea)var Ea=function(){throw Error("No *print-fn* fn set for evaluation environment");};if("undefined"===typeof Fa)var Fa=function(){throw Error("No *print-err-fn* fn set for evaluation environment");};var Ga=null;if("undefined"===typeof Ha)var Ha=null;function Ia(){return new Ja(null,5,[La,!0,Ma,!0,Na,!1,Oa,!1,Pa,null],null)}function r(a){return null!=a&&!1!==a}function Qa(a){return a instanceof Array}function Ra(a){return null==a?!0:!1===a?!0:!1}
function Sa(a,b){return a[fa(null==b?null:b)]?!0:a._?!0:!1}function Ta(a,b){var c=null==b?null:b.constructor,c=r(r(c)?c.Ab:c)?c.fb:fa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ua(a){var b=a.fb;return r(b)?b:""+t(a)}var Va="undefined"!==typeof Symbol&&"function"===fa(Symbol)?Symbol.iterator:"@@iterator";function Wa(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Xa(){}
var Za=function Za(b){if(null!=b&&null!=b.Z)return b.Z(b);var c=Za[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Za._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("ICounted.-count",b);},$a=function $a(b){if(null!=b&&null!=b.aa)return b.aa(b);var c=$a[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=$a._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IEmptyableCollection.-empty",b);};function ab(){}
var bb=function bb(b,c){if(null!=b&&null!=b.Y)return b.Y(b,c);var d=bb[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=bb._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("ICollection.-conj",b);};function cb(){}
var db=function db(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return db.a(arguments[0],arguments[1]);case 3:return db.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
db.a=function(a,b){if(null!=a&&null!=a.L)return a.L(a,b);var c=db[fa(null==a?null:a)];if(null!=c)return c.a?c.a(a,b):c.call(null,a,b);c=db._;if(null!=c)return c.a?c.a(a,b):c.call(null,a,b);throw Ta("IIndexed.-nth",a);};db.c=function(a,b,c){if(null!=a&&null!=a.Da)return a.Da(a,b,c);var d=db[fa(null==a?null:a)];if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);d=db._;if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);throw Ta("IIndexed.-nth",a);};db.C=3;
var eb=function eb(b){if(null!=b&&null!=b.ua)return b.ua(b);var c=eb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=eb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("ISeq.-first",b);},fb=function fb(b){if(null!=b&&null!=b.Aa)return b.Aa(b);var c=fb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=fb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("ISeq.-rest",b);};function gb(){}function hb(){}
var ib=function ib(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return ib.a(arguments[0],arguments[1]);case 3:return ib.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
ib.a=function(a,b){if(null!=a&&null!=a.T)return a.T(a,b);var c=ib[fa(null==a?null:a)];if(null!=c)return c.a?c.a(a,b):c.call(null,a,b);c=ib._;if(null!=c)return c.a?c.a(a,b):c.call(null,a,b);throw Ta("ILookup.-lookup",a);};ib.c=function(a,b,c){if(null!=a&&null!=a.M)return a.M(a,b,c);var d=ib[fa(null==a?null:a)];if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);d=ib._;if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);throw Ta("ILookup.-lookup",a);};ib.C=3;
var jb=function jb(b,c){if(null!=b&&null!=b.Sb)return b.Sb(b,c);var d=jb[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=jb._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("IAssociative.-contains-key?",b);},lb=function lb(b,c,d){if(null!=b&&null!=b.mb)return b.mb(b,c,d);var e=lb[fa(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=lb._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw Ta("IAssociative.-assoc",b);};function mb(){}
var nb=function nb(b,c){if(null!=b&&null!=b.Jb)return b.Jb(b,c);var d=nb[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=nb._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("IMap.-dissoc",b);};function ob(){}
var pb=function pb(b){if(null!=b&&null!=b.Yb)return b.Yb();var c=pb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=pb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IMapEntry.-key",b);},qb=function qb(b){if(null!=b&&null!=b.Zb)return b.Zb();var c=qb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=qb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IMapEntry.-val",b);};function rb(){}function sb(){}
var tb=function tb(b,c,d){if(null!=b&&null!=b.$b)return b.$b(b,c,d);var e=tb[fa(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=tb._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw Ta("IVector.-assoc-n",b);},wb=function wb(b){if(null!=b&&null!=b.Wb)return b.Wb(b);var c=wb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=wb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IDeref.-deref",b);};function xb(){}
var yb=function yb(b){if(null!=b&&null!=b.K)return b.K(b);var c=yb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=yb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IMeta.-meta",b);},Ab=function Ab(b,c){if(null!=b&&null!=b.O)return b.O(b,c);var d=Ab[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=Ab._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("IWithMeta.-with-meta",b);};function Bb(){}
var Cb=function Cb(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Cb.a(arguments[0],arguments[1]);case 3:return Cb.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
Cb.a=function(a,b){if(null!=a&&null!=a.sa)return a.sa(a,b);var c=Cb[fa(null==a?null:a)];if(null!=c)return c.a?c.a(a,b):c.call(null,a,b);c=Cb._;if(null!=c)return c.a?c.a(a,b):c.call(null,a,b);throw Ta("IReduce.-reduce",a);};Cb.c=function(a,b,c){if(null!=a&&null!=a.ta)return a.ta(a,b,c);var d=Cb[fa(null==a?null:a)];if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);d=Cb._;if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);throw Ta("IReduce.-reduce",a);};Cb.C=3;
var Db=function Db(b,c){if(null!=b&&null!=b.v)return b.v(b,c);var d=Db[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=Db._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("IEquiv.-equiv",b);},Eb=function Eb(b){if(null!=b&&null!=b.R)return b.R(b);var c=Eb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Eb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IHash.-hash",b);};function Fb(){}
var Hb=function Hb(b){if(null!=b&&null!=b.$)return b.$(b);var c=Hb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Hb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("ISeqable.-seq",b);};function Ib(){}function Jb(){}function Kb(){}
var Lb=function Lb(b){if(null!=b&&null!=b.Lb)return b.Lb(b);var c=Lb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Lb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IReversible.-rseq",b);},Nb=function Nb(b,c){if(null!=b&&null!=b.oc)return b.oc(0,c);var d=Nb[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=Nb._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("IWriter.-write",b);},Ob=function Ob(b,c,d){if(null!=b&&null!=b.nc)return b.nc(0,c,
d);var e=Ob[fa(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=Ob._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw Ta("IWatchable.-notify-watches",b);},Pb=function Pb(b){if(null!=b&&null!=b.nb)return b.nb(b);var c=Pb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Pb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IEditableCollection.-as-transient",b);},Qb=function Qb(b,c){if(null!=b&&null!=b.yb)return b.yb(b,c);var d=Qb[fa(null==b?null:
b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=Qb._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("ITransientCollection.-conj!",b);},Sb=function Sb(b){if(null!=b&&null!=b.zb)return b.zb(b);var c=Sb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Sb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("ITransientCollection.-persistent!",b);},Ub=function Ub(b,c,d){if(null!=b&&null!=b.xb)return b.xb(b,c,d);var e=Ub[fa(null==b?null:b)];if(null!=e)return e.c?e.c(b,
c,d):e.call(null,b,c,d);e=Ub._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw Ta("ITransientAssociative.-assoc!",b);},Vb=function Vb(b,c,d){if(null!=b&&null!=b.mc)return b.mc(0,c,d);var e=Vb[fa(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=Vb._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw Ta("ITransientVector.-assoc-n!",b);},Wb=function Wb(b){if(null!=b&&null!=b.kc)return b.kc();var c=Wb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,
b);c=Wb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IChunk.-drop-first",b);},Xb=function Xb(b){if(null!=b&&null!=b.Ub)return b.Ub(b);var c=Xb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Xb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IChunkedSeq.-chunked-first",b);},Yb=function Yb(b){if(null!=b&&null!=b.Vb)return b.Vb(b);var c=Yb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Yb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IChunkedSeq.-chunked-rest",
b);},Zb=function Zb(b){if(null!=b&&null!=b.Tb)return b.Tb(b);var c=Zb[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Zb._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IChunkedNext.-chunked-next",b);},ac=function ac(b){if(null!=b&&null!=b.vb)return b.vb(b);var c=ac[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=ac._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("INamed.-name",b);},bc=function bc(b){if(null!=b&&null!=b.wb)return b.wb(b);var c=bc[fa(null==
b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=bc._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("INamed.-namespace",b);},cc=function cc(b,c){if(null!=b&&null!=b.Jc)return b.Jc(b,c);var d=cc[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=cc._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("IReset.-reset!",b);},dc=function dc(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return dc.a(arguments[0],
arguments[1]);case 3:return dc.c(arguments[0],arguments[1],arguments[2]);case 4:return dc.w(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return dc.I(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};
dc.a=function(a,b){if(null!=a&&null!=a.Lc)return a.Lc(a,b);var c=dc[fa(null==a?null:a)];if(null!=c)return c.a?c.a(a,b):c.call(null,a,b);c=dc._;if(null!=c)return c.a?c.a(a,b):c.call(null,a,b);throw Ta("ISwap.-swap!",a);};dc.c=function(a,b,c){if(null!=a&&null!=a.Mc)return a.Mc(a,b,c);var d=dc[fa(null==a?null:a)];if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);d=dc._;if(null!=d)return d.c?d.c(a,b,c):d.call(null,a,b,c);throw Ta("ISwap.-swap!",a);};
dc.w=function(a,b,c,d){if(null!=a&&null!=a.Nc)return a.Nc(a,b,c,d);var e=dc[fa(null==a?null:a)];if(null!=e)return e.w?e.w(a,b,c,d):e.call(null,a,b,c,d);e=dc._;if(null!=e)return e.w?e.w(a,b,c,d):e.call(null,a,b,c,d);throw Ta("ISwap.-swap!",a);};dc.I=function(a,b,c,d,e){if(null!=a&&null!=a.Oc)return a.Oc(a,b,c,d,e);var f=dc[fa(null==a?null:a)];if(null!=f)return f.I?f.I(a,b,c,d,e):f.call(null,a,b,c,d,e);f=dc._;if(null!=f)return f.I?f.I(a,b,c,d,e):f.call(null,a,b,c,d,e);throw Ta("ISwap.-swap!",a);};
dc.C=5;var ec=function ec(b){if(null!=b&&null!=b.Ka)return b.Ka(b);var c=ec[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=ec._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IIterable.-iterator",b);};function jc(a){this.cd=a;this.i=1073741824;this.A=0}jc.prototype.oc=function(a,b){return this.cd.append(b)};function kc(a){var b=new Ca;a.U(null,new jc(b),Ia());return""+t(b)}
var lc="undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function mc(a){a=lc(a|0,-862048943);return lc(a<<15|a>>>-15,461845907)}function nc(a,b){var c=(a|0)^(b|0);return lc(c<<13|c>>>-13,5)+-430675100|0}function oc(a,b){var c=(a|0)^b,c=lc(c^c>>>16,-2048144789),c=lc(c^c>>>13,-1028477387);return c^c>>>16}
function pc(a){var b;a:{b=1;for(var c=0;;)if(b<a.length){var d=b+2,c=nc(c,mc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16));b=d}else{b=c;break a}}b=1===(a.length&1)?b^mc(a.charCodeAt(a.length-1)):b;return oc(b,lc(2,a.length))}var qc={},rc=0;function sc(a){255<rc&&(qc={},rc=0);if(null==a)return 0;var b=qc[a];if("number"!==typeof b){a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)var e=c+1,d=lc(31,d)+a.charCodeAt(c),c=e;else{b=d;break a}else b=0;else b=0;qc[a]=b;rc+=1}return a=b}
function tc(a){if(null!=a&&(a.i&4194304||a.jd))return a.R(null);if("number"===typeof a){if(r(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1:!1===a?a=0:"string"===typeof a?(a=sc(a),0!==a&&(a=mc(a),a=nc(0,a),a=oc(a,4))):a=a instanceof Date?a.valueOf():null==a?0:Eb(a),a}function uc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function vc(a,b,c,d,e){this.rb=a;this.name=b;this.cb=c;this.lb=d;this.za=e;this.i=2154168321;this.A=4096}l=vc.prototype;l.toString=function(){return this.cb};l.equiv=function(a){return this.v(null,a)};l.v=function(a,b){return b instanceof vc?this.cb===b.cb:!1};
l.call=function(){function a(b,a,c){return v.c?v.c(a,this,c):v.call(null,a,this,c)}function b(b,a){return v.a?v.a(a,this):v.call(null,a,this)}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return b.call(this,0,e);case 3:return a.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.a=b;c.c=a;return c}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return v.a?v.a(a,this):v.call(null,a,this)};
l.a=function(a,b){return v.c?v.c(a,this,b):v.call(null,a,this,b)};l.K=function(){return this.za};l.O=function(a,b){return new vc(this.rb,this.name,this.cb,this.lb,b)};l.R=function(){var a=this.lb;return null!=a?a:this.lb=a=uc(pc(this.name),sc(this.rb))};l.vb=function(){return this.name};l.wb=function(){return this.rb};l.U=function(a,b){return Nb(b,this.cb)};
var xc=function xc(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return xc.b(arguments[0]);case 2:return xc.a(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};xc.b=function(a){if(a instanceof vc)return a;var b=a.indexOf("/");return 1>b?xc.a(null,a):xc.a(a.substring(0,b),a.substring(b+1,a.length))};xc.a=function(a,b){var c=null!=a?[t(a),t("/"),t(b)].join(""):b;return new vc(a,b,c,null,null)};
xc.C=2;function w(a){if(null==a)return null;if(null!=a&&(a.i&8388608||a.Kc))return a.$(null);if(Qa(a)||"string"===typeof a)return 0===a.length?null:new yc(a,0,null);if(Sa(Fb,a))return Hb(a);throw Error([t(a),t(" is not ISeqable")].join(""));}function x(a){if(null==a)return null;if(null!=a&&(a.i&64||a.V))return a.ua(null);a=w(a);return null==a?null:eb(a)}function zc(a){return null!=a?null!=a&&(a.i&64||a.V)?a.Aa(null):(a=w(a))?fb(a):Ac:Ac}
function A(a){return null==a?null:null!=a&&(a.i&128||a.Kb)?a.wa(null):w(zc(a))}var B=function B(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return B.b(arguments[0]);case 2:return B.a(arguments[0],arguments[1]);default:return B.s(arguments[0],arguments[1],new yc(c.slice(2),0,null))}};B.b=function(){return!0};B.a=function(a,b){return null==a?null==b:a===b||Db(a,b)};
B.s=function(a,b,c){for(;;)if(B.a(a,b))if(A(c))a=b,b=x(c),c=A(c);else return B.a(b,x(c));else return!1};B.G=function(a){var b=x(a),c=A(a);a=x(c);c=A(c);return B.s(b,a,c)};B.C=2;function Bc(a){this.B=a}Bc.prototype.next=function(){if(null!=this.B){var a=x(this.B);this.B=A(this.B);return{value:a,done:!1}}return{value:null,done:!0}};function Cc(a){return new Bc(w(a))}function Dc(a,b){var c=mc(a),c=nc(0,c);return oc(c,b)}
function Ec(a){var b=0,c=1;for(a=w(a);;)if(null!=a)b+=1,c=lc(31,c)+tc(x(a))|0,a=A(a);else return Dc(c,b)}var Fc=Dc(1,0);function Gc(a){var b=0,c=0;for(a=w(a);;)if(null!=a)b+=1,c=c+tc(x(a))|0,a=A(a);else return Dc(c,b)}var Hc=Dc(0,0);Xa["null"]=!0;Za["null"]=function(){return 0};Date.prototype.v=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Db.number=function(a,b){return a===b};xb["function"]=!0;yb["function"]=function(){return null};Eb._=function(a){return a[ia]||(a[ia]=++ja)};
function Ic(a){return a+1}function Jc(){return!1}function D(a){return wb(a)}function Kc(a,b){var c=Za(a);if(0===c)return b.j?b.j():b.call(null);for(var d=db.a(a,0),e=1;;)if(e<c)var f=db.a(a,e),d=b.a?b.a(d,f):b.call(null,d,f),e=e+1;else return d}function Lc(a,b,c){var d=Za(a),e=c;for(c=0;;)if(c<d){var f=db.a(a,c),e=b.a?b.a(e,f):b.call(null,e,f);c+=1}else return e}
function Mc(a,b){var c=a.length;if(0===a.length)return b.j?b.j():b.call(null);for(var d=a[0],e=1;;)if(e<c)var f=a[e],d=b.a?b.a(d,f):b.call(null,d,f),e=e+1;else return d}function Nc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c],e=b.a?b.a(e,f):b.call(null,e,f);c+=1}else return e}function Oc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.a?b.a(c,f):b.call(null,c,f);d+=1}else return c}function Pc(a){return null!=a?a.i&2||a.zc?!0:a.i?!1:Sa(Xa,a):Sa(Xa,a)}
function Qc(a){return null!=a?a.i&16||a.lc?!0:a.i?!1:Sa(cb,a):Sa(cb,a)}function G(a,b,c){var d=H.b?H.b(a):H.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(B.a(Yc?Yc(a,c):Zc.call(null,a,c),b))return c;c+=1}else return-1}function $c(a,b,c){var d=H.b?H.b(a):H.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(B.a(Yc?Yc(a,c):Zc.call(null,a,c),b))return c;--c}else return-1}function ad(a,b){this.f=a;this.l=b}
ad.prototype.va=function(){return this.l<this.f.length};ad.prototype.next=function(){var a=this.f[this.l];this.l+=1;return a};function yc(a,b,c){this.f=a;this.l=b;this.o=c;this.i=166592766;this.A=8192}l=yc.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};
l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H.b?H.b(this):H.call(null,this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.L=function(a,b){var c=b+this.l;return c<this.f.length?this.f[c]:null};l.Da=function(a,b,c){a=b+this.l;return a<this.f.length?this.f[a]:c};l.Ka=function(){return new ad(this.f,this.l)};l.K=function(){return this.o};
l.wa=function(){return this.l+1<this.f.length?new yc(this.f,this.l+1,null):null};l.Z=function(){var a=this.f.length-this.l;return 0>a?0:a};l.Lb=function(){var a=Za(this);return 0<a?new bd(this,a-1,null):null};l.R=function(){return Ec(this)};l.v=function(a,b){return cd.a?cd.a(this,b):cd.call(null,this,b)};l.aa=function(){return Ac};l.sa=function(a,b){return Oc(this.f,b,this.f[this.l],this.l+1)};l.ta=function(a,b,c){return Oc(this.f,b,c,this.l)};l.ua=function(){return this.f[this.l]};
l.Aa=function(){return this.l+1<this.f.length?new yc(this.f,this.l+1,null):Ac};l.$=function(){return this.l<this.f.length?this:null};l.O=function(a,b){return new yc(this.f,this.l,b)};l.Y=function(a,b){return dd.a?dd.a(b,this):dd.call(null,b,this)};yc.prototype[Va]=function(){return Cc(this)};function jd(a,b){return b<a.length?new yc(a,b,null):null}
function kd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return jd(arguments[0],0);case 2:return jd(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}function bd(a,b,c){this.Ib=a;this.l=b;this.o=c;this.i=32374990;this.A=8192}l=bd.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};
l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H.b?H.b(this):H.call(null,this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.wa=function(){return 0<this.l?new bd(this.Ib,this.l-1,null):null};l.Z=function(){return this.l+1};l.R=function(){return Ec(this)};
l.v=function(a,b){return cd.a?cd.a(this,b):cd.call(null,this,b)};l.aa=function(){var a=this.o;return ld.a?ld.a(Ac,a):ld.call(null,Ac,a)};l.sa=function(a,b){return md?md(b,this):nd.call(null,b,this)};l.ta=function(a,b,c){return pd?pd(b,c,this):nd.call(null,b,c,this)};l.ua=function(){return db.a(this.Ib,this.l)};l.Aa=function(){return 0<this.l?new bd(this.Ib,this.l-1,null):Ac};l.$=function(){return this};l.O=function(a,b){return new bd(this.Ib,this.l,b)};
l.Y=function(a,b){return dd.a?dd.a(b,this):dd.call(null,b,this)};bd.prototype[Va]=function(){return Cc(this)};function qd(a){return x(A(a))}function rd(a){for(;;){var b=A(a);if(null!=b)a=b;else return x(a)}}Db._=function(a,b){return a===b};
var sd=function sd(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return sd.j();case 1:return sd.b(arguments[0]);case 2:return sd.a(arguments[0],arguments[1]);default:return sd.s(arguments[0],arguments[1],new yc(c.slice(2),0,null))}};sd.j=function(){return td};sd.b=function(a){return a};sd.a=function(a,b){return null!=a?bb(a,b):bb(Ac,b)};sd.s=function(a,b,c){for(;;)if(r(c))a=sd.a(a,b),b=x(c),c=A(c);else return sd.a(a,b)};
sd.G=function(a){var b=x(a),c=A(a);a=x(c);c=A(c);return sd.s(b,a,c)};sd.C=2;function H(a){if(null!=a)if(null!=a&&(a.i&2||a.zc))a=a.Z(null);else if(Qa(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.i&8388608||a.Kc))a:{a=w(a);for(var b=0;;){if(Pc(a)){a=b+Za(a);break a}a=A(a);b+=1}}else a=Za(a);else a=0;return a}function ud(a,b,c){for(;;){if(null==a)return c;if(0===b)return w(a)?x(a):c;if(Qc(a))return db.c(a,b,c);if(w(a))a=A(a),--b;else return c}}
function Zc(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return Yc(arguments[0],arguments[1]);case 3:return I(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}
function Yc(a,b){if("number"!==typeof b)throw Error("index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.i&16||a.lc))return a.L(null,b);if(Qa(a))return b<a.length?a[b]:null;if("string"===typeof a)return b<a.length?a.charAt(b):null;if(null!=a&&(a.i&64||a.V)){var c;a:{c=a;for(var d=b;;){if(null==c)throw Error("Index out of bounds");if(0===d){if(w(c)){c=x(c);break a}throw Error("Index out of bounds");}if(Qc(c)){c=db.a(c,d);break a}if(w(c))c=A(c),--d;else throw Error("Index out of bounds");
}}return c}if(Sa(cb,a))return db.a(a,b);throw Error([t("nth not supported on this type "),t(Ua(null==a?null:a.constructor))].join(""));}
function I(a,b,c){if("number"!==typeof b)throw Error("index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.i&16||a.lc))return a.Da(null,b,c);if(Qa(a))return b<a.length?a[b]:c;if("string"===typeof a)return b<a.length?a.charAt(b):c;if(null!=a&&(a.i&64||a.V))return ud(a,b,c);if(Sa(cb,a))return db.a(a,b);throw Error([t("nth not supported on this type "),t(Ua(null==a?null:a.constructor))].join(""));}
var v=function v(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return v.a(arguments[0],arguments[1]);case 3:return v.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};v.a=function(a,b){return null==a?null:null!=a&&(a.i&256||a.Dc)?a.T(null,b):Qa(a)?b<a.length?a[b|0]:null:"string"===typeof a?b<a.length?a[b|0]:null:Sa(hb,a)?ib.a(a,b):null};
v.c=function(a,b,c){return null!=a?null!=a&&(a.i&256||a.Dc)?a.M(null,b,c):Qa(a)?b<a.length?a[b]:c:"string"===typeof a?b<a.length?a[b]:c:Sa(hb,a)?ib.c(a,b,c):c:c};v.C=3;var vd=function vd(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return vd.c(arguments[0],arguments[1],arguments[2]);default:return vd.s(arguments[0],arguments[1],arguments[2],new yc(c.slice(3),0,null))}};vd.c=function(a,b,c){return null!=a?lb(a,b,c):wd([b],[c])};
vd.s=function(a,b,c,d){for(;;)if(a=vd.c(a,b,c),r(d))b=x(d),c=qd(d),d=A(A(d));else return a};vd.G=function(a){var b=x(a),c=A(a);a=x(c);var d=A(c),c=x(d),d=A(d);return vd.s(b,a,c,d)};vd.C=3;var xd=function xd(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return xd.b(arguments[0]);case 2:return xd.a(arguments[0],arguments[1]);default:return xd.s(arguments[0],arguments[1],new yc(c.slice(2),0,null))}};xd.b=function(a){return a};
xd.a=function(a,b){return null==a?null:nb(a,b)};xd.s=function(a,b,c){for(;;){if(null==a)return null;a=xd.a(a,b);if(r(c))b=x(c),c=A(c);else return a}};xd.G=function(a){var b=x(a),c=A(a);a=x(c);c=A(c);return xd.s(b,a,c)};xd.C=2;function yd(a,b){this.g=a;this.o=b;this.i=393217;this.A=0}l=yd.prototype;l.K=function(){return this.o};l.O=function(a,b){return new yd(this.g,b)};
l.call=function(){function a(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K,E,Q,ha){b=this;return zd.ub?zd.ub(b.g,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K,E,Q,ha):zd.call(null,b.g,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K,E,Q,ha)}function b(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K,E,Q){b=this;return b.g.na?b.g.na(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K,E,Q):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K,E,Q)}function c(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K,E){b=this;return b.g.ma?b.g.ma(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,
K,E):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K,E)}function d(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K){b=this;return b.g.la?b.g.la(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K)}function e(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F){b=this;return b.g.ka?b.g.ka(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F)}function f(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C){b=this;return b.g.ja?b.g.ja(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C):b.g.call(null,
a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C)}function g(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z){b=this;return b.g.ia?b.g.ia(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z)}function k(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y){b=this;return b.g.ha?b.g.ha(a,c,d,f,e,g,h,m,k,p,q,n,u,y):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y)}function m(b,a,c,d,f,e,g,h,m,k,p,q,n,u){b=this;return b.g.ga?b.g.ga(a,c,d,f,e,g,h,m,k,p,q,n,u):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u)}function h(b,a,c,d,f,e,g,h,m,k,p,q,n){b=this;
return b.g.fa?b.g.fa(a,c,d,f,e,g,h,m,k,p,q,n):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q,n)}function n(b,a,c,d,f,e,g,h,m,k,p,q){b=this;return b.g.ea?b.g.ea(a,c,d,f,e,g,h,m,k,p,q):b.g.call(null,a,c,d,f,e,g,h,m,k,p,q)}function p(b,a,c,d,f,e,g,h,m,k,p){b=this;return b.g.da?b.g.da(a,c,d,f,e,g,h,m,k,p):b.g.call(null,a,c,d,f,e,g,h,m,k,p)}function q(b,a,c,d,f,e,g,h,m,k){b=this;return b.g.ra?b.g.ra(a,c,d,f,e,g,h,m,k):b.g.call(null,a,c,d,f,e,g,h,m,k)}function u(b,a,c,d,f,e,g,h,m){b=this;return b.g.qa?b.g.qa(a,c,
d,f,e,g,h,m):b.g.call(null,a,c,d,f,e,g,h,m)}function y(b,a,c,d,f,e,g,h){b=this;return b.g.pa?b.g.pa(a,c,d,f,e,g,h):b.g.call(null,a,c,d,f,e,g,h)}function z(b,a,c,d,f,e,g){b=this;return b.g.oa?b.g.oa(a,c,d,f,e,g):b.g.call(null,a,c,d,f,e,g)}function C(b,a,c,d,f,e){b=this;return b.g.I?b.g.I(a,c,d,f,e):b.g.call(null,a,c,d,f,e)}function F(b,a,c,d,f){b=this;return b.g.w?b.g.w(a,c,d,f):b.g.call(null,a,c,d,f)}function K(b,a,c,d){b=this;return b.g.c?b.g.c(a,c,d):b.g.call(null,a,c,d)}function Q(b,a,c){b=this;
return b.g.a?b.g.a(a,c):b.g.call(null,a,c)}function ga(b,a){b=this;return b.g.b?b.g.b(a):b.g.call(null,a)}function ha(b){b=this;return b.g.j?b.g.j():b.g.call(null)}var E=null,E=function(va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E,Ka,Ba,Ya,kb,zb,Tb,Mb,od){switch(arguments.length){case 1:return ha.call(this,va);case 2:return ga.call(this,va,ba);case 3:return Q.call(this,va,ba,P);case 4:return K.call(this,va,ba,P,da);case 5:return F.call(this,va,ba,P,da,Z);case 6:return C.call(this,va,ba,P,da,Z,S);case 7:return z.call(this,
va,ba,P,da,Z,S,U);case 8:return y.call(this,va,ba,P,da,Z,S,U,X);case 9:return u.call(this,va,ba,P,da,Z,S,U,X,ca);case 10:return q.call(this,va,ba,P,da,Z,S,U,X,ca,T);case 11:return p.call(this,va,ba,P,da,Z,S,U,X,ca,T,O);case 12:return n.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M);case 13:return h.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V);case 14:return m.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E);case 15:return k.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E,Ka);case 16:return g.call(this,va,ba,P,da,Z,S,U,X,
ca,T,O,M,V,E,Ka,Ba);case 17:return f.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E,Ka,Ba,Ya);case 18:return e.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E,Ka,Ba,Ya,kb);case 19:return d.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E,Ka,Ba,Ya,kb,zb);case 20:return c.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E,Ka,Ba,Ya,kb,zb,Tb);case 21:return b.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E,Ka,Ba,Ya,kb,zb,Tb,Mb);case 22:return a.call(this,va,ba,P,da,Z,S,U,X,ca,T,O,M,V,E,Ka,Ba,Ya,kb,zb,Tb,Mb,od)}throw Error("Invalid arity: "+
arguments.length);};E.b=ha;E.a=ga;E.c=Q;E.w=K;E.I=F;E.oa=C;E.pa=z;E.qa=y;E.ra=u;E.da=q;E.ea=p;E.fa=n;E.ga=h;E.ha=m;E.ia=k;E.ja=g;E.ka=f;E.la=e;E.ma=d;E.na=c;E.Xb=b;E.ub=a;return E}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.j=function(){return this.g.j?this.g.j():this.g.call(null)};l.b=function(a){return this.g.b?this.g.b(a):this.g.call(null,a)};l.a=function(a,b){return this.g.a?this.g.a(a,b):this.g.call(null,a,b)};
l.c=function(a,b,c){return this.g.c?this.g.c(a,b,c):this.g.call(null,a,b,c)};l.w=function(a,b,c,d){return this.g.w?this.g.w(a,b,c,d):this.g.call(null,a,b,c,d)};l.I=function(a,b,c,d,e){return this.g.I?this.g.I(a,b,c,d,e):this.g.call(null,a,b,c,d,e)};l.oa=function(a,b,c,d,e,f){return this.g.oa?this.g.oa(a,b,c,d,e,f):this.g.call(null,a,b,c,d,e,f)};l.pa=function(a,b,c,d,e,f,g){return this.g.pa?this.g.pa(a,b,c,d,e,f,g):this.g.call(null,a,b,c,d,e,f,g)};
l.qa=function(a,b,c,d,e,f,g,k){return this.g.qa?this.g.qa(a,b,c,d,e,f,g,k):this.g.call(null,a,b,c,d,e,f,g,k)};l.ra=function(a,b,c,d,e,f,g,k,m){return this.g.ra?this.g.ra(a,b,c,d,e,f,g,k,m):this.g.call(null,a,b,c,d,e,f,g,k,m)};l.da=function(a,b,c,d,e,f,g,k,m,h){return this.g.da?this.g.da(a,b,c,d,e,f,g,k,m,h):this.g.call(null,a,b,c,d,e,f,g,k,m,h)};l.ea=function(a,b,c,d,e,f,g,k,m,h,n){return this.g.ea?this.g.ea(a,b,c,d,e,f,g,k,m,h,n):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n)};
l.fa=function(a,b,c,d,e,f,g,k,m,h,n,p){return this.g.fa?this.g.fa(a,b,c,d,e,f,g,k,m,h,n,p):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p)};l.ga=function(a,b,c,d,e,f,g,k,m,h,n,p,q){return this.g.ga?this.g.ga(a,b,c,d,e,f,g,k,m,h,n,p,q):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q)};l.ha=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u){return this.g.ha?this.g.ha(a,b,c,d,e,f,g,k,m,h,n,p,q,u):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u)};
l.ia=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y){return this.g.ia?this.g.ia(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y)};l.ja=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z){return this.g.ja?this.g.ja(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z)};l.ka=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C){return this.g.ka?this.g.ka(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C)};
l.la=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F){return this.g.la?this.g.la(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F)};l.ma=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K){return this.g.ma?this.g.ma(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K)};
l.na=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q){return this.g.na?this.g.na(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q):this.g.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q)};l.Xb=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga){return zd.ub?zd.ub(this.g,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga):zd.call(null,this.g,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga)};function ld(a,b){return"function"==fa(a)?new yd(a,b):null==a?null:Ab(a,b)}
function Ad(a){var b=null!=a;return(b?null!=a?a.i&131072||a.Gc||(a.i?0:Sa(xb,a)):Sa(xb,a):b)?yb(a):null}function Cd(a){return null==a?!1:null!=a?a.i&4096||a.nd?!0:a.i?!1:Sa(rb,a):Sa(rb,a)}function Dd(a){return null!=a?a.i&16777216||a.md?!0:a.i?!1:Sa(Ib,a):Sa(Ib,a)}function Ed(a){return null==a?!1:null!=a?a.i&1024||a.Ec?!0:a.i?!1:Sa(mb,a):Sa(mb,a)}function Fd(a){return null!=a?a.i&16384||a.od?!0:a.i?!1:Sa(sb,a):Sa(sb,a)}function Gd(a){return null!=a?a.A&512||a.gd?!0:!1:!1}
function Hd(a){var b=[];na(a,function(b,a){return function(b,c){return a.push(c)}}(a,b));return b}function Id(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Jd={};function Kd(a){return null==a?!1:!1===a?!1:!0}function Ld(a,b){return v.c(a,b,Jd)===Jd?!1:!0}
function nd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return md(arguments[0],arguments[1]);case 3:return pd(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}function md(a,b){var c=w(b);if(c){var d=x(c),c=A(c);return Md?Md(a,d,c):Nd.call(null,a,d,c)}return a.j?a.j():a.call(null)}
function pd(a,b,c){for(c=w(c);;)if(c){var d=x(c);b=a.a?a.a(b,d):a.call(null,b,d);c=A(c)}else return b}function Nd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return Zd(arguments[0],arguments[1]);case 3:return Md(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}
function Zd(a,b){return null!=b&&(b.i&524288||b.Ic)?b.sa(null,a):Qa(b)?Mc(b,a):"string"===typeof b?Mc(b,a):Sa(Bb,b)?Cb.a(b,a):md(a,b)}function Md(a,b,c){return null!=c&&(c.i&524288||c.Ic)?c.ta(null,a,b):Qa(c)?Nc(c,a,b):"string"===typeof c?Nc(c,a,b):Sa(Bb,c)?Cb.c(c,a,b):pd(a,b,c)}function $d(a){return a}function ae(a,b,c,d){a=a.b?a.b(b):a.call(null,b);c=Md(a,c,d);return a.b?a.b(c):a.call(null,c)}function be(a){return a-1}
var ce=function ce(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return ce.b(arguments[0]);case 2:return ce.a(arguments[0],arguments[1]);default:return ce.s(arguments[0],arguments[1],new yc(c.slice(2),0,null))}};ce.b=function(a){return a};ce.a=function(a,b){return a>b?a:b};ce.s=function(a,b,c){return Md(ce,a>b?a:b,c)};ce.G=function(a){var b=x(a),c=A(a);a=x(c);c=A(c);return ce.s(b,a,c)};ce.C=2;
var de=function de(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return de.b(arguments[0]);case 2:return de.a(arguments[0],arguments[1]);default:return de.s(arguments[0],arguments[1],new yc(c.slice(2),0,null))}};de.b=function(a){return a};de.a=function(a,b){return a<b?a:b};de.s=function(a,b,c){return Md(de,a<b?a:b,c)};de.G=function(a){var b=x(a),c=A(a);a=x(c);c=A(c);return de.s(b,a,c)};de.C=2;
function ee(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function fe(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var t=function t(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return t.j();case 1:return t.b(arguments[0]);default:return t.s(arguments[0],new yc(c.slice(1),0,null))}};t.j=function(){return""};t.b=function(a){return null==a?"":""+a};
t.s=function(a,b){for(var c=new Ca(""+t(a)),d=b;;)if(r(d))c=c.append(""+t(x(d))),d=A(d);else return c.toString()};t.G=function(a){var b=x(a);a=A(a);return t.s(b,a)};t.C=1;function cd(a,b){var c;if(Dd(b))if(Pc(a)&&Pc(b)&&H(a)!==H(b))c=!1;else a:{c=w(a);for(var d=w(b);;){if(null==c){c=null==d;break a}if(null!=d&&B.a(x(c),x(d)))c=A(c),d=A(d);else{c=!1;break a}}}else c=null;return Kd(c)}function ge(a,b,c,d,e){this.o=a;this.first=b;this.Ya=c;this.count=d;this.u=e;this.i=65937646;this.A=8192}l=ge.prototype;
l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,this.count)}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.wa=function(){return 1===this.count?null:this.Ya};l.Z=function(){return this.count};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};l.v=function(a,b){return cd(this,b)};
l.aa=function(){return Ab(Ac,this.o)};l.sa=function(a,b){return md(b,this)};l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){return this.first};l.Aa=function(){return 1===this.count?Ac:this.Ya};l.$=function(){return this};l.O=function(a,b){return new ge(b,this.first,this.Ya,this.count,this.u)};l.Y=function(a,b){return new ge(this.o,b,this,this.count+1,null)};ge.prototype[Va]=function(){return Cc(this)};function he(a){this.o=a;this.i=65937614;this.A=8192}l=he.prototype;l.toString=function(){return kc(this)};
l.equiv=function(a){return this.v(null,a)};l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.wa=function(){return null};l.Z=function(){return 0};l.R=function(){return Fc};l.v=function(a,b){return(null!=b?b.i&33554432||b.kd||(b.i?0:Sa(Jb,b)):Sa(Jb,b))||Dd(b)?null==w(b):!1};l.aa=function(){return this};
l.sa=function(a,b){return md(b,this)};l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){return null};l.Aa=function(){return Ac};l.$=function(){return null};l.O=function(a,b){return new he(b)};l.Y=function(a,b){return new ge(this.o,b,null,1,null)};var Ac=new he(null);he.prototype[Va]=function(){return Cc(this)};function ie(a){return(null!=a?a.i&134217728||a.ld||(a.i?0:Sa(Kb,a)):Sa(Kb,a))?Lb(a):Md(sd,Ac,a)}
function je(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;a:{c=0<b.length?new yc(b.slice(0),0,null):null;if(c instanceof yc&&0===c.l)b=c.f;else b:for(b=[];;)if(null!=c)b.push(c.ua(null)),c=c.wa(null);else break b;for(var c=b.length,e=Ac;;)if(0<c)d=c-1,e=e.Y(null,b[c-1]),c=d;else break a}return e}function ke(a,b,c,d){this.o=a;this.first=b;this.Ya=c;this.u=d;this.i=65929452;this.A=8192}l=ke.prototype;l.toString=function(){return kc(this)};
l.equiv=function(a){return this.v(null,a)};l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.wa=function(){return null==this.Ya?null:w(this.Ya)};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(Ac,this.o)};
l.sa=function(a,b){return md(b,this)};l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){return this.first};l.Aa=function(){return null==this.Ya?Ac:this.Ya};l.$=function(){return this};l.O=function(a,b){return new ke(b,this.first,this.Ya,this.u)};l.Y=function(a,b){return new ke(null,b,this,null)};ke.prototype[Va]=function(){return Cc(this)};function dd(a,b){var c=null==b;return(c?c:null!=b&&(b.i&64||b.V))?new ke(null,a,b,null):new ke(null,a,w(b),null)}
function J(a,b,c,d){this.rb=a;this.name=b;this.Ia=c;this.lb=d;this.i=2153775105;this.A=4096}l=J.prototype;l.toString=function(){return[t(":"),t(this.Ia)].join("")};l.equiv=function(a){return this.v(null,a)};l.v=function(a,b){return b instanceof J?this.Ia===b.Ia:!1};
l.call=function(){var a=null,a=function(b,a,d){switch(arguments.length){case 2:return v.a(a,this);case 3:return v.c(a,this,d)}throw Error("Invalid arity: "+arguments.length);};a.a=function(b,a){return v.a(a,this)};a.c=function(b,a,d){return v.c(a,this,d)};return a}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return v.a(a,this)};l.a=function(a,b){return v.c(a,this,b)};
l.R=function(){var a=this.lb;return null!=a?a:this.lb=a=uc(pc(this.name),sc(this.rb))+2654435769|0};l.vb=function(){return this.name};l.wb=function(){return this.rb};l.U=function(a,b){return Nb(b,[t(":"),t(this.Ia)].join(""))};function le(a,b){return a===b?!0:a instanceof J&&b instanceof J?a.Ia===b.Ia:!1}function me(a){if(null!=a&&(a.A&4096||a.Hc))return a.wb(null);throw Error([t("Doesn't support namespace: "),t(a)].join(""));}
var ne=function ne(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return ne.b(arguments[0]);case 2:return ne.a(arguments[0],arguments[1]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};ne.b=function(a){if(a instanceof J)return a;if(a instanceof vc)return new J(me(a),oe.b?oe.b(a):oe.call(null,a),a.cb,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new J(b[0],b[1],a,null):new J(null,b[0],a,null)}return null};
ne.a=function(a,b){return new J(a,b,[t(r(a)?[t(a),t("/")].join(""):null),t(b)].join(""),null)};ne.C=2;function pe(a,b,c,d){this.o=a;this.pb=b;this.B=c;this.u=d;this.i=32374988;this.A=1}l=pe.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};function qe(a){null!=a.pb&&(a.B=a.pb.j?a.pb.j():a.pb.call(null),a.pb=null);return a.B}
l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.wa=function(){Hb(this);return null==this.B?null:A(this.B)};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};l.v=function(a,b){return cd(this,b)};
l.aa=function(){return ld(Ac,this.o)};l.sa=function(a,b){return md(b,this)};l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){Hb(this);return null==this.B?null:x(this.B)};l.Aa=function(){Hb(this);return null!=this.B?zc(this.B):Ac};l.$=function(){qe(this);if(null==this.B)return null;for(var a=this.B;;)if(a instanceof pe)a=qe(a);else return this.B=a,w(this.B)};l.O=function(a,b){return new pe(b,this.pb,this.B,this.u)};l.Y=function(a,b){return dd(b,this)};pe.prototype[Va]=function(){return Cc(this)};
function re(a,b){this.F=a;this.end=b;this.i=2;this.A=0}re.prototype.add=function(a){this.F[this.end]=a;return this.end+=1};re.prototype.X=function(){var a=new se(this.F,0,this.end);this.F=null;return a};re.prototype.Z=function(){return this.end};function ye(a){return new re(Array(a),0)}function se(a,b,c){this.f=a;this.off=b;this.end=c;this.i=524306;this.A=0}l=se.prototype;l.Z=function(){return this.end-this.off};l.L=function(a,b){return this.f[this.off+b]};
l.Da=function(a,b,c){return 0<=b&&b<this.end-this.off?this.f[this.off+b]:c};l.kc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new se(this.f,this.off+1,this.end)};l.sa=function(a,b){return Oc(this.f,b,this.f[this.off],this.off+1)};l.ta=function(a,b,c){return Oc(this.f,b,c,this.off)};function ze(a,b,c,d){this.X=a;this.Sa=b;this.o=c;this.u=d;this.i=31850732;this.A=1536}l=ze.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};
l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.wa=function(){if(1<Za(this.X))return new ze(Wb(this.X),this.Sa,this.o,null);var a=Hb(this.Sa);return null==a?null:a};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};
l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(Ac,this.o)};l.ua=function(){return db.a(this.X,0)};l.Aa=function(){return 1<Za(this.X)?new ze(Wb(this.X),this.Sa,this.o,null):null==this.Sa?Ac:this.Sa};l.$=function(){return this};l.Ub=function(){return this.X};l.Vb=function(){return null==this.Sa?Ac:this.Sa};l.O=function(a,b){return new ze(this.X,this.Sa,b,this.u)};l.Y=function(a,b){return dd(b,this)};l.Tb=function(){return null==this.Sa?null:this.Sa};ze.prototype[Va]=function(){return Cc(this)};
function Ae(a,b){return 0===Za(a)?b:new ze(a,b,null,null)}function Be(a,b){a.add(b)}function Ce(a){for(var b=[];;)if(w(a))b.push(x(a)),a=A(a);else return b}function De(a,b){if(Pc(b))return H(b);for(var c=0,d=w(b);;)if(null!=d&&c<a)c+=1,d=A(d);else return c}
var Ee=function Ee(b){return null==b?null:null==A(b)?w(x(b)):dd(x(b),Ee(A(b)))},Fe=function Fe(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Fe.j();case 1:return Fe.b(arguments[0]);case 2:return Fe.a(arguments[0],arguments[1]);default:return Fe.s(arguments[0],arguments[1],new yc(c.slice(2),0,null))}};Fe.j=function(){return new pe(null,function(){return null},null,null)};
Fe.b=function(a){return new pe(null,function(){return a},null,null)};Fe.a=function(a,b){return new pe(null,function(){var c=w(a);return c?Gd(c)?Ae(Xb(c),Fe.a(Yb(c),b)):dd(x(c),Fe.a(zc(c),b)):b},null,null)};Fe.s=function(a,b,c){return function e(b,a){return new pe(null,function(){var c=w(b);return c?Gd(c)?Ae(Xb(c),e(Yb(c),a)):dd(x(c),e(zc(c),a)):r(a)?e(x(a),A(a)):null},null,null)}(Fe.a(a,b),c)};Fe.G=function(a){var b=x(a),c=A(a);a=x(c);c=A(c);return Fe.s(b,a,c)};Fe.C=2;
var Ge=function Ge(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return Ge.j();case 1:return Ge.b(arguments[0]);case 2:return Ge.a(arguments[0],arguments[1]);default:return Ge.s(arguments[0],arguments[1],new yc(c.slice(2),0,null))}};Ge.j=function(){return Pb(td)};Ge.b=function(a){return a};Ge.a=function(a,b){return Qb(a,b)};Ge.s=function(a,b,c){for(;;)if(a=Qb(a,b),r(c))b=x(c),c=A(c);else return a};
Ge.G=function(a){var b=x(a),c=A(a);a=x(c);c=A(c);return Ge.s(b,a,c)};Ge.C=2;
function He(a,b,c){var d=w(c);if(0===b)return a.j?a.j():a.call(null);c=eb(d);var e=fb(d);if(1===b)return a.b?a.b(c):a.b?a.b(c):a.call(null,c);var d=eb(e),f=fb(e);if(2===b)return a.a?a.a(c,d):a.a?a.a(c,d):a.call(null,c,d);var e=eb(f),g=fb(f);if(3===b)return a.c?a.c(c,d,e):a.c?a.c(c,d,e):a.call(null,c,d,e);var f=eb(g),k=fb(g);if(4===b)return a.w?a.w(c,d,e,f):a.w?a.w(c,d,e,f):a.call(null,c,d,e,f);var g=eb(k),m=fb(k);if(5===b)return a.I?a.I(c,d,e,f,g):a.I?a.I(c,d,e,f,g):a.call(null,c,d,e,f,g);var k=eb(m),
h=fb(m);if(6===b)return a.oa?a.oa(c,d,e,f,g,k):a.oa?a.oa(c,d,e,f,g,k):a.call(null,c,d,e,f,g,k);var m=eb(h),n=fb(h);if(7===b)return a.pa?a.pa(c,d,e,f,g,k,m):a.pa?a.pa(c,d,e,f,g,k,m):a.call(null,c,d,e,f,g,k,m);var h=eb(n),p=fb(n);if(8===b)return a.qa?a.qa(c,d,e,f,g,k,m,h):a.qa?a.qa(c,d,e,f,g,k,m,h):a.call(null,c,d,e,f,g,k,m,h);var n=eb(p),q=fb(p);if(9===b)return a.ra?a.ra(c,d,e,f,g,k,m,h,n):a.ra?a.ra(c,d,e,f,g,k,m,h,n):a.call(null,c,d,e,f,g,k,m,h,n);var p=eb(q),u=fb(q);if(10===b)return a.da?a.da(c,
d,e,f,g,k,m,h,n,p):a.da?a.da(c,d,e,f,g,k,m,h,n,p):a.call(null,c,d,e,f,g,k,m,h,n,p);var q=eb(u),y=fb(u);if(11===b)return a.ea?a.ea(c,d,e,f,g,k,m,h,n,p,q):a.ea?a.ea(c,d,e,f,g,k,m,h,n,p,q):a.call(null,c,d,e,f,g,k,m,h,n,p,q);var u=eb(y),z=fb(y);if(12===b)return a.fa?a.fa(c,d,e,f,g,k,m,h,n,p,q,u):a.fa?a.fa(c,d,e,f,g,k,m,h,n,p,q,u):a.call(null,c,d,e,f,g,k,m,h,n,p,q,u);var y=eb(z),C=fb(z);if(13===b)return a.ga?a.ga(c,d,e,f,g,k,m,h,n,p,q,u,y):a.ga?a.ga(c,d,e,f,g,k,m,h,n,p,q,u,y):a.call(null,c,d,e,f,g,k,m,
h,n,p,q,u,y);var z=eb(C),F=fb(C);if(14===b)return a.ha?a.ha(c,d,e,f,g,k,m,h,n,p,q,u,y,z):a.ha?a.ha(c,d,e,f,g,k,m,h,n,p,q,u,y,z):a.call(null,c,d,e,f,g,k,m,h,n,p,q,u,y,z);var C=eb(F),K=fb(F);if(15===b)return a.ia?a.ia(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C):a.ia?a.ia(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C):a.call(null,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C);var F=eb(K),Q=fb(K);if(16===b)return a.ja?a.ja(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F):a.ja?a.ja(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F):a.call(null,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F);var K=
eb(Q),ga=fb(Q);if(17===b)return a.ka?a.ka(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K):a.ka?a.ka(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K):a.call(null,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K);var Q=eb(ga),ha=fb(ga);if(18===b)return a.la?a.la(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q):a.la?a.la(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q):a.call(null,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q);ga=eb(ha);ha=fb(ha);if(19===b)return a.ma?a.ma(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga):a.ma?a.ma(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga):a.call(null,
c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga);var E=eb(ha);fb(ha);if(20===b)return a.na?a.na(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga,E):a.na?a.na(c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga,E):a.call(null,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga,E);throw Error("Only up to 20 arguments supported on functions");}
function zd(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return Ie(arguments[0],arguments[1]);case 3:return Je(arguments[0],arguments[1],arguments[2]);case 4:b=arguments[0];c=dd(arguments[1],dd(arguments[2],arguments[3]));d=b.C;if(b.G)var e=De(d+1,c),b=e<=d?He(b,e,c):b.G(c);else b=b.apply(b,Ce(c));return b;case 5:return Ke(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:return Le(arguments[0],arguments[1],arguments[2],
arguments[3],arguments[4],new yc(b.slice(5),0,null))}}function Ie(a,b){var c=a.C;if(a.G){var d=De(c+1,b);return d<=c?He(a,d,b):a.G(b)}return a.apply(a,Ce(b))}function Je(a,b,c){b=dd(b,c);c=a.C;if(a.G){var d=De(c+1,b);return d<=c?He(a,d,b):a.G(b)}return a.apply(a,Ce(b))}function Ke(a,b,c,d,e){b=dd(b,dd(c,dd(d,e)));c=a.C;return a.G?(d=De(c+1,b),d<=c?He(a,d,b):a.G(b)):a.apply(a,Ce(b))}
function Le(a,b,c,d,e,f){b=dd(b,dd(c,dd(d,dd(e,Ee(f)))));c=a.C;return a.G?(d=De(c+1,b),d<=c?He(a,d,b):a.G(b)):a.apply(a,Ce(b))}function Me(a){return w(a)?a:null}
var Ne=function Ne(){"undefined"===typeof Da&&(Da=function(b,a){this.Zc=b;this.Vc=a;this.i=393216;this.A=0},Da.prototype.O=function(b,a){return new Da(this.Zc,a)},Da.prototype.K=function(){return this.Vc},Da.prototype.va=function(){return!1},Da.prototype.next=function(){return Error("No such element")},Da.prototype.remove=function(){return Error("Unsupported operation")},Da.cc=function(){return new L(null,2,5,N,[ld(Oe,new Ja(null,1,[Pe,je(Qe,je(td))],null)),Re],null)},Da.Ab=!0,Da.fb="cljs.core/t_cljs$core24656",
Da.Ob=function(b,a){return Nb(a,"cljs.core/t_cljs$core24656")});return new Da(Ne,Se)};function Te(a,b){for(;;){if(null==w(b))return!0;var c;c=x(b);c=a.b?a.b(c):a.call(null,c);if(r(c)){c=a;var d=A(b);a=c;b=d}else return!1}}function Ue(a){for(var b=$d;;)if(w(a)){var c;c=x(a);c=b.b?b.b(c):b.call(null,c);if(r(c))return c;a=A(a)}else return null}
function Ve(){return function(){function a(b){if(0<arguments.length)for(var a=0,d=Array(arguments.length-0);a<d.length;)d[a]=arguments[a+0],++a;return!1}a.C=0;a.G=function(b){w(b);return!1};a.s=function(){return!1};return a}()}
var We=function We(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 0:return We.j();case 1:return We.b(arguments[0]);case 2:return We.a(arguments[0],arguments[1]);case 3:return We.c(arguments[0],arguments[1],arguments[2]);default:return We.s(arguments[0],arguments[1],arguments[2],new yc(c.slice(3),0,null))}};We.j=function(){return $d};We.b=function(a){return a};
We.a=function(a,b){return function(){function c(c,d,f){c=b.c?b.c(c,d,f):b.call(null,c,d,f);return a.b?a.b(c):a.call(null,c)}function d(c,d){var f=b.a?b.a(c,d):b.call(null,c,d);return a.b?a.b(f):a.call(null,f)}function e(c){c=b.b?b.b(c):b.call(null,c);return a.b?a.b(c):a.call(null,c)}function f(){var c=b.j?b.j():b.call(null);return a.b?a.b(c):a.call(null,c)}var g=null,k=function(){function c(b,a,f,e){var g=null;if(3<arguments.length){for(var g=0,m=Array(arguments.length-3);g<m.length;)m[g]=arguments[g+
3],++g;g=new yc(m,0)}return d.call(this,b,a,f,g)}function d(c,f,e,g){c=Ke(b,c,f,e,g);return a.b?a.b(c):a.call(null,c)}c.C=3;c.G=function(b){var a=x(b);b=A(b);var c=x(b);b=A(b);var f=x(b);b=zc(b);return d(a,c,f,b)};c.s=d;return c}(),g=function(b,a,g,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,b);case 2:return d.call(this,b,a);case 3:return c.call(this,b,a,g);default:var q=null;if(3<arguments.length){for(var q=0,u=Array(arguments.length-3);q<u.length;)u[q]=arguments[q+
3],++q;q=new yc(u,0)}return k.s(b,a,g,q)}throw Error("Invalid arity: "+arguments.length);};g.C=3;g.G=k.G;g.j=f;g.b=e;g.a=d;g.c=c;g.s=k.s;return g}()};
We.c=function(a,b,c){return function(){function d(d,f,e){d=c.c?c.c(d,f,e):c.call(null,d,f,e);d=b.b?b.b(d):b.call(null,d);return a.b?a.b(d):a.call(null,d)}function e(d,f){var e;e=c.a?c.a(d,f):c.call(null,d,f);e=b.b?b.b(e):b.call(null,e);return a.b?a.b(e):a.call(null,e)}function f(d){d=c.b?c.b(d):c.call(null,d);d=b.b?b.b(d):b.call(null,d);return a.b?a.b(d):a.call(null,d)}function g(){var d;d=c.j?c.j():c.call(null);d=b.b?b.b(d):b.call(null,d);return a.b?a.b(d):a.call(null,d)}var k=null,m=function(){function d(b,
a,c,e){var g=null;if(3<arguments.length){for(var g=0,h=Array(arguments.length-3);g<h.length;)h[g]=arguments[g+3],++g;g=new yc(h,0)}return f.call(this,b,a,c,g)}function f(d,e,g,h){d=Ke(c,d,e,g,h);d=b.b?b.b(d):b.call(null,d);return a.b?a.b(d):a.call(null,d)}d.C=3;d.G=function(b){var a=x(b);b=A(b);var c=x(b);b=A(b);var d=x(b);b=zc(b);return f(a,c,d,b)};d.s=f;return d}(),k=function(b,a,c,k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,b);case 2:return e.call(this,b,a);
case 3:return d.call(this,b,a,c);default:var u=null;if(3<arguments.length){for(var u=0,y=Array(arguments.length-3);u<y.length;)y[u]=arguments[u+3],++u;u=new yc(y,0)}return m.s(b,a,c,u)}throw Error("Invalid arity: "+arguments.length);};k.C=3;k.G=m.G;k.j=g;k.b=f;k.a=e;k.c=d;k.s=m.s;return k}()};
We.s=function(a,b,c,d){return function(b){return function(){function a(b){var d=null;if(0<arguments.length){for(var d=0,f=Array(arguments.length-0);d<f.length;)f[d]=arguments[d+0],++d;d=new yc(f,0)}return c.call(this,d)}function c(a){a=Ie(x(b),a);for(var d=A(b);;)if(d)a=x(d).call(null,a),d=A(d);else return a}a.C=0;a.G=function(b){b=w(b);return c(b)};a.s=c;return a}()}(ie(dd(a,dd(b,dd(c,d)))))};We.G=function(a){var b=x(a),c=A(a);a=x(c);var d=A(c),c=x(d),d=A(d);return We.s(b,a,c,d)};We.C=3;
function Xe(a,b,c,d){this.state=a;this.o=b;this.fd=c;this.xc=d;this.A=16386;this.i=6455296}l=Xe.prototype;l.equiv=function(a){return this.v(null,a)};l.v=function(a,b){return this===b};l.Wb=function(){return this.state};l.K=function(){return this.o};
l.nc=function(a,b,c){a=w(this.xc);for(var d=null,e=0,f=0;;)if(f<e){var g=d.L(null,f),k=I(g,0,null),g=I(g,1,null);g.w?g.w(k,this,b,c):g.call(null,k,this,b,c);f+=1}else if(a=w(a))Gd(a)?(d=Xb(a),a=Yb(a),k=d,e=H(d),d=k):(d=x(a),k=I(d,0,null),g=I(d,1,null),g.w?g.w(k,this,b,c):g.call(null,k,this,b,c),a=A(a),d=null,e=0),f=0;else return null};l.R=function(){return this[ia]||(this[ia]=++ja)};
function Ye(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return $e(arguments[0]);default:return c=arguments[0],b=new yc(b.slice(1),0,null),d=null!=b&&(b.i&64||b.V)?Ie(Af,b):b,b=v.a(d,Na),d=v.a(d,Bf),new Xe(c,b,d,null)}}function $e(a){return new Xe(a,null,null,null)}
function Cf(a,b){if(a instanceof Xe){var c=a.fd;if(null!=c&&!r(c.b?c.b(b):c.call(null,b)))throw Error([t("Assert failed: "),t("Validator rejected reference state"),t("\n"),t("(validate new-value)")].join(""));c=a.state;a.state=b;null!=a.xc&&Ob(a,c,b);return b}return cc(a,b)}
var Df=function Df(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Df.a(arguments[0],arguments[1]);case 3:return Df.c(arguments[0],arguments[1],arguments[2]);case 4:return Df.w(arguments[0],arguments[1],arguments[2],arguments[3]);default:return Df.s(arguments[0],arguments[1],arguments[2],arguments[3],new yc(c.slice(4),0,null))}};
Df.a=function(a,b){var c;a instanceof Xe?(c=a.state,c=b.b?b.b(c):b.call(null,c),c=Cf(a,c)):c=dc.a(a,b);return c};Df.c=function(a,b,c){if(a instanceof Xe){var d=a.state;b=b.a?b.a(d,c):b.call(null,d,c);a=Cf(a,b)}else a=dc.c(a,b,c);return a};Df.w=function(a,b,c,d){if(a instanceof Xe){var e=a.state;b=b.c?b.c(e,c,d):b.call(null,e,c,d);a=Cf(a,b)}else a=dc.w(a,b,c,d);return a};Df.s=function(a,b,c,d,e){return a instanceof Xe?Cf(a,Ke(b,a.state,c,d,e)):dc.I(a,b,c,d,e)};
Df.G=function(a){var b=x(a),c=A(a);a=x(c);var d=A(c),c=x(d),e=A(d),d=x(e),e=A(e);return Df.s(b,a,c,d,e)};Df.C=4;
var Ef=function Ef(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return Ef.b(arguments[0]);case 2:return Ef.a(arguments[0],arguments[1]);case 3:return Ef.c(arguments[0],arguments[1],arguments[2]);case 4:return Ef.w(arguments[0],arguments[1],arguments[2],arguments[3]);default:return Ef.s(arguments[0],arguments[1],arguments[2],arguments[3],new yc(c.slice(4),0,null))}};
Ef.b=function(a){return function(b){return function(){function c(c,d){var f=a.b?a.b(d):a.call(null,d);return b.a?b.a(c,f):b.call(null,c,f)}function d(a){return b.b?b.b(a):b.call(null,a)}function e(){return b.j?b.j():b.call(null)}var f=null,g=function(){function c(b,a,f){var e=null;if(2<arguments.length){for(var e=0,g=Array(arguments.length-2);e<g.length;)g[e]=arguments[e+2],++e;e=new yc(g,0)}return d.call(this,b,a,e)}function d(c,f,e){f=Je(a,f,e);return b.a?b.a(c,f):b.call(null,c,f)}c.C=2;c.G=function(b){var a=
x(b);b=A(b);var c=x(b);b=zc(b);return d(a,c,b)};c.s=d;return c}(),f=function(b,a,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,b);case 2:return c.call(this,b,a);default:var n=null;if(2<arguments.length){for(var n=0,p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new yc(p,0)}return g.s(b,a,n)}throw Error("Invalid arity: "+arguments.length);};f.C=2;f.G=g.G;f.j=e;f.b=d;f.a=c;f.s=g.s;return f}()}};
Ef.a=function(a,b){return new pe(null,function(){var c=w(b);if(c){if(Gd(c)){for(var d=Xb(c),e=H(d),f=ye(e),g=0;;)if(g<e)Be(f,function(){var b=db.a(d,g);return a.b?a.b(b):a.call(null,b)}()),g+=1;else break;return Ae(f.X(),Ef.a(a,Yb(c)))}return dd(function(){var b=x(c);return a.b?a.b(b):a.call(null,b)}(),Ef.a(a,zc(c)))}return null},null,null)};
Ef.c=function(a,b,c){return new pe(null,function(){var d=w(b),e=w(c);if(d&&e){var f=dd,g;g=x(d);var k=x(e);g=a.a?a.a(g,k):a.call(null,g,k);d=f(g,Ef.c(a,zc(d),zc(e)))}else d=null;return d},null,null)};Ef.w=function(a,b,c,d){return new pe(null,function(){var e=w(b),f=w(c),g=w(d);if(e&&f&&g){var k=dd,m;m=x(e);var h=x(f),n=x(g);m=a.c?a.c(m,h,n):a.call(null,m,h,n);e=k(m,Ef.w(a,zc(e),zc(f),zc(g)))}else e=null;return e},null,null)};
Ef.s=function(a,b,c,d,e){var f=function k(b){return new pe(null,function(){var a=Ef.a(w,b);return Te($d,a)?dd(Ef.a(x,a),k(Ef.a(zc,a))):null},null,null)};return Ef.a(function(){return function(b){return Ie(a,b)}}(f),f(sd.s(e,d,kd([c,b],0))))};Ef.G=function(a){var b=x(a),c=A(a);a=x(c);var d=A(c),c=x(d),e=A(d),d=x(e),e=A(e);return Ef.s(b,a,c,d,e)};Ef.C=4;
function Ff(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new pe(null,function(){if(0<a){var c=w(b);return c?dd(x(c),Ff(a-1,zc(c))):null}return null},null,null)}function Gf(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new pe(null,function(c){return function(){return c(a,b)}}(function(b,a){for(;;){var e=w(a);if(0<b&&e){var f=b-1,e=zc(e);b=f;a=e}else return e}}),null,null)}
var Hf=function Hf(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Hf.a(arguments[0],arguments[1]);default:return Hf.s(arguments[0],arguments[1],new yc(c.slice(2),0,null))}};Hf.a=function(a,b){return new pe(null,function(){var c=w(a),d=w(b);return c&&d?dd(x(c),dd(x(d),Hf.a(zc(c),zc(d)))):null},null,null)};
Hf.s=function(a,b,c){return new pe(null,function(){var d=Ef.a(w,sd.s(c,b,kd([a],0)));return Te($d,d)?Fe.a(Ef.a(x,d),Ie(Hf,Ef.a(zc,d))):null},null,null)};Hf.G=function(a){var b=x(a),c=A(a);a=x(c);c=A(c);return Hf.s(b,a,c)};Hf.C=2;
function If(a,b){return new pe(null,function(){var c=w(b);if(c){if(Gd(c)){for(var d=Xb(c),e=H(d),f=ye(e),g=0;;)if(g<e){var k;k=db.a(d,g);k=a.b?a.b(k):a.call(null,k);r(k)&&(k=db.a(d,g),f.add(k));g+=1}else break;return Ae(f.X(),If(a,Yb(c)))}d=x(c);c=zc(c);return r(a.b?a.b(d):a.call(null,d))?dd(d,If(a,c)):If(a,c)}return null},null,null)}
var Jf=function Jf(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 2:return Jf.a(arguments[0],arguments[1]);case 3:return Jf.c(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Jf.a=function(a,b){return null!=a?null!=a&&(a.A&4||a.Ac)?ld(Sb(Md(Qb,Pb(a),b)),Ad(a)):Md(bb,a,b):Md(sd,Ac,b)};Jf.c=function(a,b,c){return null!=a&&(a.A&4||a.Ac)?ld(Sb(ae(b,Ge,Pb(a),c)),Ad(a)):ae(b,sd,a,c)};
Jf.C=3;function Kf(a,b){return Sb(Md(function(b,d){return Ge.a(b,a.b?a.b(d):a.call(null,d))},Pb(td),b))}function Lf(a,b,c){return new pe(null,function(){var d=w(c);if(d){var e=Ff(a,d);return a===H(e)?dd(e,Lf(a,b,Gf(b,d))):null}return null},null,null)}function Mf(a,b){return Md(v,a,b)}function Nf(a,b){this.J=a;this.f=b}
function Of(a){return new Nf(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Pf(a){a=a.m;return 32>a?0:a-1>>>5<<5}function Qf(a,b,c){for(;;){if(0===b)return c;var d=Of(a);d.f[0]=c;c=d;b-=5}}var Rf=function Rf(b,c,d,e){var f=new Nf(d.J,Wa(d.f)),g=b.m-1>>>c&31;5===c?f.f[g]=e:(d=d.f[g],b=null!=d?Rf(b,c-5,d,e):Qf(null,c-5,e),f.f[g]=b);return f};
function Sf(a,b){throw Error([t("No item "),t(a),t(" in vector of length "),t(b)].join(""));}function Uf(a,b){if(b>=Pf(a))return a.H;for(var c=a.root,d=a.shift;;)if(0<d)var e=d-5,c=c.f[b>>>d&31],d=e;else return c.f}function Vf(a,b){return 0<=b&&b<a.m?Uf(a,b):Sf(b,a.m)}var Wf=function Wf(b,c,d,e,f){var g=new Nf(d.J,Wa(d.f));if(0===c)g.f[e&31]=f;else{var k=e>>>c&31;b=Wf(b,c-5,d.f[k],e,f);g.f[k]=b}return g};function Xf(a,b,c,d,e,f){this.l=a;this.Rb=b;this.f=c;this.Ua=d;this.start=e;this.end=f}
Xf.prototype.va=function(){return this.l<this.end};Xf.prototype.next=function(){32===this.l-this.Rb&&(this.f=Uf(this.Ua,this.l),this.Rb+=32);var a=this.f[this.l&31];this.l+=1;return a};function L(a,b,c,d,e,f){this.o=a;this.m=b;this.shift=c;this.root=d;this.H=e;this.u=f;this.i=167668511;this.A=8196}l=L.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};
l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.T=function(a,b){return ib.c(this,b,null)};l.M=function(a,b,c){return"number"===typeof b?db.c(this,b,c):c};l.L=function(a,b){return Vf(this,b)[b&31]};l.Da=function(a,b,c){return 0<=b&&b<this.m?Uf(this,b)[b&31]:c};
l.$b=function(a,b,c){if(0<=b&&b<this.m)return Pf(this)<=b?(a=Wa(this.H),a[b&31]=c,new L(this.o,this.m,this.shift,this.root,a,null)):new L(this.o,this.m,this.shift,Wf(this,this.shift,this.root,b,c),this.H,null);if(b===this.m)return bb(this,c);throw Error([t("Index "),t(b),t(" out of bounds  [0,"),t(this.m),t("]")].join(""));};l.Ka=function(){var a=this.m;return new Xf(0,0,0<H(this)?Uf(this,0):null,this,0,a)};l.K=function(){return this.o};l.Z=function(){return this.m};
l.Yb=function(){return db.a(this,0)};l.Zb=function(){return db.a(this,1)};l.Lb=function(){return 0<this.m?new bd(this,this.m-1,null):null};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};l.v=function(a,b){if(b instanceof L)if(this.m===H(b))for(var c=ec(this),d=ec(b);;)if(r(c.va())){var e=c.next(),f=d.next();if(!B.a(e,f))return!1}else return!0;else return!1;else return cd(this,b)};
l.nb=function(){return new Yf(this.m,this.shift,Zf.b?Zf.b(this.root):Zf.call(null,this.root),$f.b?$f.b(this.H):$f.call(null,this.H))};l.aa=function(){return ld(td,this.o)};l.sa=function(a,b){return Kc(this,b)};l.ta=function(a,b,c){a=0;for(var d=c;;)if(a<this.m){var e=Uf(this,a);c=e.length;a:for(var f=0;;)if(f<c)var g=e[f],d=b.a?b.a(d,g):b.call(null,d,g),f=f+1;else{e=d;break a}a+=c;d=e}else return d};
l.mb=function(a,b,c){if("number"===typeof b)return tb(this,b,c);throw Error("Vector's key for assoc must be a number.");};l.$=function(){if(0===this.m)return null;if(32>=this.m)return new yc(this.H,0,null);var a;a:{a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.f[0];else{a=a.f;break a}}return ag?ag(this,a,0,0):bg.call(null,this,a,0,0)};l.O=function(a,b){return new L(b,this.m,this.shift,this.root,this.H,this.u)};
l.Y=function(a,b){if(32>this.m-Pf(this)){for(var c=this.H.length,d=Array(c+1),e=0;;)if(e<c)d[e]=this.H[e],e+=1;else break;d[c]=b;return new L(this.o,this.m+1,this.shift,this.root,d,null)}c=(d=this.m>>>5>1<<this.shift)?this.shift+5:this.shift;d?(d=Of(null),d.f[0]=this.root,e=Qf(null,this.shift,new Nf(null,this.H)),d.f[1]=e):d=Rf(this,this.shift,this.root,new Nf(null,this.H));return new L(this.o,this.m+1,c,d,[b],null)};
l.call=function(){var a=null,a=function(b,a,d){switch(arguments.length){case 2:return this.L(null,a);case 3:return this.Da(null,a,d)}throw Error("Invalid arity: "+arguments.length);};a.a=function(b,a){return this.L(null,a)};a.c=function(b,a,d){return this.Da(null,a,d)};return a}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return this.L(null,a)};l.a=function(a,b){return this.Da(null,a,b)};
var N=new Nf(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),td=new L(null,0,5,N,[],Fc);function cg(a){var b=a.length;if(32>b)return new L(null,b,5,N,a,null);for(var c=32,d=(new L(null,32,5,N,a.slice(0,32),null)).nb(null);;)if(c<b)var e=c+1,d=Ge.a(d,a[c]),c=e;else return Sb(d)}L.prototype[Va]=function(){return Cc(this)};
function dg(a,b,c,d,e,f){this.Ea=a;this.node=b;this.l=c;this.off=d;this.o=e;this.u=f;this.i=32375020;this.A=1536}l=dg.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.wa=function(){if(this.off+1<this.node.length){var a;a=this.Ea;var b=this.node,c=this.l,d=this.off+1;a=ag?ag(a,b,c,d):bg.call(null,a,b,c,d);return null==a?null:a}return Zb(this)};
l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(td,this.o)};l.sa=function(a,b){var c;c=this.Ea;var d=this.l+this.off,e=H(this.Ea);c=eg?eg(c,d,e):fg.call(null,c,d,e);return Kc(c,b)};l.ta=function(a,b,c){a=this.Ea;var d=this.l+this.off,e=H(this.Ea);a=eg?eg(a,d,e):fg.call(null,a,d,e);return Lc(a,b,c)};l.ua=function(){return this.node[this.off]};
l.Aa=function(){if(this.off+1<this.node.length){var a;a=this.Ea;var b=this.node,c=this.l,d=this.off+1;a=ag?ag(a,b,c,d):bg.call(null,a,b,c,d);return null==a?Ac:a}return Yb(this)};l.$=function(){return this};l.Ub=function(){var a=this.node;return new se(a,this.off,a.length)};l.Vb=function(){var a=this.l+this.node.length;if(a<Za(this.Ea)){var b=this.Ea,c=Uf(this.Ea,a);return ag?ag(b,c,a,0):bg.call(null,b,c,a,0)}return Ac};
l.O=function(a,b){return vh?vh(this.Ea,this.node,this.l,this.off,b):bg.call(null,this.Ea,this.node,this.l,this.off,b)};l.Y=function(a,b){return dd(b,this)};l.Tb=function(){var a=this.l+this.node.length;if(a<Za(this.Ea)){var b=this.Ea,c=Uf(this.Ea,a);return ag?ag(b,c,a,0):bg.call(null,b,c,a,0)}return null};dg.prototype[Va]=function(){return Cc(this)};
function bg(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 3:return b=arguments[0],c=arguments[1],d=arguments[2],new dg(b,Vf(b,c),c,d,null,null);case 4:return ag(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return vh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}function ag(a,b,c,d){return new dg(a,b,c,d,null,null)}
function vh(a,b,c,d,e){return new dg(a,b,c,d,e,null)}function wh(a,b,c,d,e){this.o=a;this.Ua=b;this.start=c;this.end=d;this.u=e;this.i=167666463;this.A=8192}l=wh.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};
l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.T=function(a,b){return ib.c(this,b,null)};l.M=function(a,b,c){return"number"===typeof b?db.c(this,b,c):c};l.L=function(a,b){return 0>b||this.end<=this.start+b?Sf(b,this.end-this.start):db.a(this.Ua,this.start+b)};
l.Da=function(a,b,c){return 0>b||this.end<=this.start+b?c:db.c(this.Ua,this.start+b,c)};l.$b=function(a,b,c){var d=this.start+b;a=this.o;c=vd.c(this.Ua,d,c);b=this.start;var e=this.end,d=d+1,d=e>d?e:d;return xh.I?xh.I(a,c,b,d,null):xh.call(null,a,c,b,d,null)};l.K=function(){return this.o};l.Z=function(){return this.end-this.start};l.Lb=function(){return this.start!==this.end?new bd(this,this.end-this.start-1,null):null};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};
l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(td,this.o)};l.sa=function(a,b){return Kc(this,b)};l.ta=function(a,b,c){return Lc(this,b,c)};l.mb=function(a,b,c){if("number"===typeof b)return tb(this,b,c);throw Error("Subvec's key for assoc must be a number.");};l.$=function(){var a=this;return function(b){return function d(e){return e===a.end?null:dd(db.a(a.Ua,e),new pe(null,function(){return function(){return d(e+1)}}(b),null,null))}}(this)(a.start)};
l.O=function(a,b){return xh.I?xh.I(b,this.Ua,this.start,this.end,this.u):xh.call(null,b,this.Ua,this.start,this.end,this.u)};l.Y=function(a,b){var c=this.o,d=tb(this.Ua,this.end,b),e=this.start,f=this.end+1;return xh.I?xh.I(c,d,e,f,null):xh.call(null,c,d,e,f,null)};
l.call=function(){var a=null,a=function(b,a,d){switch(arguments.length){case 2:return this.L(null,a);case 3:return this.Da(null,a,d)}throw Error("Invalid arity: "+arguments.length);};a.a=function(b,a){return this.L(null,a)};a.c=function(b,a,d){return this.Da(null,a,d)};return a}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return this.L(null,a)};l.a=function(a,b){return this.Da(null,a,b)};wh.prototype[Va]=function(){return Cc(this)};
function xh(a,b,c,d,e){for(;;)if(b instanceof wh)c=b.start+c,d=b.start+d,b=b.Ua;else{var f=H(b);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new wh(a,b,c,d,e)}}function fg(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 2:return b=arguments[0],eg(b,arguments[1],H(b));case 3:return eg(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}
function eg(a,b,c){return xh(null,a,b,c,null)}function yh(a,b){return a===b.J?b:new Nf(a,Wa(b.f))}function Zf(a){return new Nf({},Wa(a.f))}function $f(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Id(a,0,b,0,a.length);return b}var zh=function zh(b,c,d,e){d=yh(b.root.J,d);var f=b.m-1>>>c&31;if(5===c)b=e;else{var g=d.f[f];b=null!=g?zh(b,c-5,g,e):Qf(b.root.J,c-5,e)}d.f[f]=b;return d};
function Yf(a,b,c,d){this.m=a;this.shift=b;this.root=c;this.H=d;this.A=88;this.i=275}l=Yf.prototype;
l.yb=function(a,b){if(this.root.J){if(32>this.m-Pf(this))this.H[this.m&31]=b;else{var c=new Nf(this.root.J,this.H),d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];d[0]=b;this.H=d;if(this.m>>>5>1<<this.shift){var d=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],e=this.shift+
5;d[0]=this.root;d[1]=Qf(this.root.J,this.shift,c);this.root=new Nf(this.root.J,d);this.shift=e}else this.root=zh(this,this.shift,this.root,c)}this.m+=1;return this}throw Error("conj! after persistent!");};l.zb=function(){if(this.root.J){this.root.J=null;var a=this.m-Pf(this),b=Array(a);Id(this.H,0,b,0,a);return new L(null,this.m,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
l.xb=function(a,b,c){if("number"===typeof b)return Vb(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
l.mc=function(a,b,c){var d=this;if(d.root.J){if(0<=b&&b<d.m)return Pf(this)<=b?d.H[b&31]=c:(a=function(){return function f(a,k){var m=yh(d.root.J,k);if(0===a)m.f[b&31]=c;else{var h=b>>>a&31,n=f(a-5,m.f[h]);m.f[h]=n}return m}}(this).call(null,d.shift,d.root),d.root=a),this;if(b===d.m)return Qb(this,c);throw Error([t("Index "),t(b),t(" out of bounds for TransientVector of length"),t(d.m)].join(""));}throw Error("assoc! after persistent!");};
l.Z=function(){if(this.root.J)return this.m;throw Error("count after persistent!");};l.L=function(a,b){if(this.root.J)return Vf(this,b)[b&31];throw Error("nth after persistent!");};l.Da=function(a,b,c){return 0<=b&&b<this.m?db.a(this,b):c};l.T=function(a,b){return ib.c(this,b,null)};l.M=function(a,b,c){return"number"===typeof b?db.c(this,b,c):c};
l.call=function(){var a=null,a=function(b,a,d){switch(arguments.length){case 2:return this.T(null,a);case 3:return this.M(null,a,d)}throw Error("Invalid arity: "+arguments.length);};a.a=function(b,a){return this.T(null,a)};a.c=function(b,a,d){return this.M(null,a,d)};return a}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return this.T(null,a)};l.a=function(a,b){return this.M(null,a,b)};function Ah(){this.i=2097152;this.A=0}
Ah.prototype.equiv=function(a){return this.v(null,a)};Ah.prototype.v=function(){return!1};var Bh=new Ah;function Ch(a,b){return Kd(Ed(b)?H(a)===H(b)?Te($d,Ef.a(function(a){return B.a(v.c(b,x(a),Bh),qd(a))},a)):null:null)}function Dh(a,b,c,d,e){this.l=a;this.bd=b;this.hc=c;this.Rc=d;this.tc=e}Dh.prototype.va=function(){var a=this.l<this.hc;return a?a:this.tc.va()};Dh.prototype.next=function(){if(this.l<this.hc){var a=Yc(this.Rc,this.l);this.l+=1;return new L(null,2,5,N,[a,ib.a(this.bd,a)],null)}return this.tc.next()};
Dh.prototype.remove=function(){return Error("Unsupported operation")};function Eh(a){this.B=a}Eh.prototype.next=function(){if(null!=this.B){var a=x(this.B),b=I(a,0,null),a=I(a,1,null);this.B=A(this.B);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Fh(a){this.B=a}Fh.prototype.next=function(){if(null!=this.B){var a=x(this.B);this.B=A(this.B);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Gh(a,b){var c;if(b instanceof J)a:{c=a.length;for(var d=b.Ia,e=0;;){if(c<=e){c=-1;break a}if(a[e]instanceof J&&d===a[e].Ia){c=e;break a}e+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){c=-1;break a}if(b===a[d]){c=d;break a}d+=2}else if(b instanceof vc)a:for(c=a.length,d=b.cb,e=0;;){if(c<=e){c=-1;break a}if(a[e]instanceof vc&&d===a[e].cb){c=e;break a}e+=2}else if(null==b)a:for(c=a.length,d=0;;){if(c<=d){c=-1;break a}if(null==a[d]){c=d;break a}d+=2}else a:for(c=
a.length,d=0;;){if(c<=d){c=-1;break a}if(B.a(b,a[d])){c=d;break a}d+=2}return c}function Hh(a,b,c){this.f=a;this.l=b;this.za=c;this.i=32374990;this.A=0}l=Hh.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.za};l.wa=function(){return this.l<this.f.length-2?new Hh(this.f,this.l+2,this.za):null};l.Z=function(){return(this.f.length-this.l)/2};l.R=function(){return Ec(this)};
l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(Ac,this.za)};l.sa=function(a,b){return md(b,this)};l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){return new L(null,2,5,N,[this.f[this.l],this.f[this.l+1]],null)};l.Aa=function(){return this.l<this.f.length-2?new Hh(this.f,this.l+2,this.za):Ac};l.$=function(){return this};l.O=function(a,b){return new Hh(this.f,this.l,b)};l.Y=function(a,b){return dd(b,this)};Hh.prototype[Va]=function(){return Cc(this)};
function Ih(a,b,c){this.f=a;this.l=b;this.m=c}Ih.prototype.va=function(){return this.l<this.m};Ih.prototype.next=function(){var a=new L(null,2,5,N,[this.f[this.l],this.f[this.l+1]],null);this.l+=2;return a};function Ja(a,b,c,d){this.o=a;this.m=b;this.f=c;this.u=d;this.i=16647951;this.A=8196}l=Ja.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};l.keys=function(){return Cc(Jh.b?Jh.b(this):Jh.call(null,this))};l.entries=function(){return new Eh(w(w(this)))};
l.values=function(){return Cc(Kh.b?Kh.b(this):Kh.call(null,this))};l.has=function(a){return Ld(this,a)};l.get=function(a,b){return this.M(null,a,b)};l.forEach=function(a){for(var b=w(this),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),g=I(f,0,null),f=I(f,1,null);a.a?a.a(f,g):a.call(null,f,g);e+=1}else if(b=w(b))Gd(b)?(c=Xb(b),b=Yb(b),g=c,d=H(c),c=g):(c=x(b),g=I(c,0,null),f=I(c,1,null),a.a?a.a(f,g):a.call(null,f,g),b=A(b),c=null,d=0),e=0;else return null};l.T=function(a,b){return ib.c(this,b,null)};
l.M=function(a,b,c){a=Gh(this.f,b);return-1===a?c:this.f[a+1]};l.Ka=function(){return new Ih(this.f,0,2*this.m)};l.K=function(){return this.o};l.Z=function(){return this.m};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Gc(this)};l.v=function(a,b){if(null!=b&&(b.i&1024||b.Ec)){var c=this.f.length;if(this.m===b.Z(null))for(var d=0;;)if(d<c){var e=b.M(null,this.f[d],Jd);if(e!==Jd)if(B.a(this.f[d+1],e))d+=2;else return!1;else return!1}else return!0;else return!1}else return Ch(this,b)};
l.nb=function(){return new Lh({},this.f.length,Wa(this.f))};l.aa=function(){return Ab(Se,this.o)};l.sa=function(a,b){return md(b,this)};l.ta=function(a,b,c){return pd(b,c,this)};l.Jb=function(a,b){if(0<=Gh(this.f,b)){var c=this.f.length,d=c-2;if(0===d)return $a(this);for(var d=Array(d),e=0,f=0;;){if(e>=c)return new Ja(this.o,this.m-1,d,null);B.a(b,this.f[e])||(d[f]=this.f[e],d[f+1]=this.f[e+1],f+=2);e+=2}}else return this};
l.mb=function(a,b,c){a=Gh(this.f,b);if(-1===a){if(this.m<Mh){a=this.f;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new Ja(this.o,this.m+1,e,null)}return Ab(lb(Jf.a(Nh,this),b,c),this.o)}if(c===this.f[a+1])return this;b=Wa(this.f);b[a+1]=c;return new Ja(this.o,this.m,b,null)};l.Sb=function(a,b){return-1!==Gh(this.f,b)};l.$=function(){var a=this.f;return 0<=a.length-2?new Hh(a,0,null):null};l.O=function(a,b){return new Ja(b,this.m,this.f,this.u)};
l.Y=function(a,b){if(Fd(b))return lb(this,db.a(b,0),db.a(b,1));for(var c=this,d=w(b);;){if(null==d)return c;var e=x(d);if(Fd(e))c=lb(c,db.a(e,0),db.a(e,1)),d=A(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
l.call=function(){var a=null,a=function(b,a,d){switch(arguments.length){case 2:return this.T(null,a);case 3:return this.M(null,a,d)}throw Error("Invalid arity: "+arguments.length);};a.a=function(b,a){return this.T(null,a)};a.c=function(b,a,d){return this.M(null,a,d)};return a}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return this.T(null,a)};l.a=function(a,b){return this.M(null,a,b)};var Se=new Ja(null,0,[],Hc),Mh=8;Ja.prototype[Va]=function(){return Cc(this)};
function Lh(a,b,c){this.ob=a;this.ib=b;this.f=c;this.i=258;this.A=56}l=Lh.prototype;l.Z=function(){if(r(this.ob))return ee(this.ib);throw Error("count after persistent!");};l.T=function(a,b){return ib.c(this,b,null)};l.M=function(a,b,c){if(r(this.ob))return a=Gh(this.f,b),-1===a?c:this.f[a+1];throw Error("lookup after persistent!");};
l.yb=function(a,b){if(r(this.ob)){if(null!=b?b.i&2048||b.Fc||(b.i?0:Sa(ob,b)):Sa(ob,b))return Ub(this,Oh.b?Oh.b(b):Oh.call(null,b),Ph.b?Ph.b(b):Ph.call(null,b));for(var c=w(b),d=this;;){var e=x(c);if(r(e))c=A(c),d=Ub(d,Oh.b?Oh.b(e):Oh.call(null,e),Ph.b?Ph.b(e):Ph.call(null,e));else return d}}else throw Error("conj! after persistent!");};l.zb=function(){if(r(this.ob))return this.ob=!1,new Ja(null,ee(this.ib),this.f,null);throw Error("persistent! called twice");};
l.xb=function(a,b,c){if(r(this.ob)){a=Gh(this.f,b);if(-1===a){if(this.ib+2<=2*Mh)return this.ib+=2,this.f.push(b),this.f.push(c),this;a=Qh.a?Qh.a(this.ib,this.f):Qh.call(null,this.ib,this.f);return Ub(a,b,c)}c!==this.f[a+1]&&(this.f[a+1]=c);return this}throw Error("assoc! after persistent!");};function Qh(a,b){for(var c=Pb(Nh),d=0;;)if(d<a)c=Ub(c,b[d],b[d+1]),d+=2;else return c}function Rh(){this.ya=!1}function Sh(a,b){return a===b?!0:le(a,b)?!0:B.a(a,b)}
function Th(a,b,c){a=Wa(a);a[b]=c;return a}function Uh(a,b){var c=Array(a.length-2);Id(a,0,c,0,2*b);Id(a,2*(b+1),c,2*b,c.length-2*b);return c}function Vh(a,b,c,d){a=a.gb(b);a.f[c]=d;return a}function Wh(a,b,c,d){this.f=a;this.l=b;this.Gb=c;this.Na=d}Wh.prototype.advance=function(){for(var a=this.f.length;;)if(this.l<a){var b=this.f[this.l],c=this.f[this.l+1];null!=b?b=this.Gb=new L(null,2,5,N,[b,c],null):null!=c?(b=ec(c),b=b.va()?this.Na=b:!1):b=!1;this.l+=2;if(b)return!0}else return!1};
Wh.prototype.va=function(){var a=null!=this.Gb;return a?a:(a=null!=this.Na)?a:this.advance()};Wh.prototype.next=function(){if(null!=this.Gb){var a=this.Gb;this.Gb=null;return a}if(null!=this.Na)return a=this.Na.next(),this.Na.va()||(this.Na=null),a;if(this.advance())return this.next();throw Error("No such element");};Wh.prototype.remove=function(){return Error("Unsupported operation")};function Xh(a,b,c){this.J=a;this.P=b;this.f=c}l=Xh.prototype;
l.gb=function(a){if(a===this.J)return this;var b=fe(this.P),c=Array(0>b?4:2*(b+1));Id(this.f,0,c,0,2*b);return new Xh(a,this.P,c)};l.Db=function(){return Yh?Yh(this.f):Zh.call(null,this.f)};l.$a=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.P&e))return d;var f=fe(this.P&e-1),e=this.f[2*f],f=this.f[2*f+1];return null==e?f.$a(a+5,b,c,d):Sh(c,e)?f:d};
l.Ma=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),k=fe(this.P&g-1);if(0===(this.P&g)){var m=fe(this.P);if(2*m<this.f.length){a=this.gb(a);b=a.f;f.ya=!0;a:for(c=2*(m-k),f=2*k+(c-1),m=2*(k+1)+(c-1);;){if(0===c)break a;b[m]=b[f];--m;--c;--f}b[2*k]=d;b[2*k+1]=e;a.P|=g;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=$h.Ma(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0!==
(this.P>>>d&1)&&(k[d]=null!=this.f[e]?$h.Ma(a,b+5,tc(this.f[e]),this.f[e],this.f[e+1],f):this.f[e+1],e+=2),d+=1;else break;return new ai(a,m+1,k)}b=Array(2*(m+4));Id(this.f,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Id(this.f,2*k,b,2*(k+1),2*(m-k));f.ya=!0;a=this.gb(a);a.f=b;a.P|=g;return a}m=this.f[2*k];g=this.f[2*k+1];if(null==m)return m=g.Ma(a,b+5,c,d,e,f),m===g?this:Vh(this,a,2*k+1,m);if(Sh(d,m))return e===g?this:Vh(this,a,2*k+1,e);f.ya=!0;f=b+5;d=bi?bi(a,f,m,g,c,d,e):ci.call(null,a,f,m,g,c,d,e);e=2*k;k=
2*k+1;a=this.gb(a);a.f[e]=null;a.f[k]=d;return a};
l.La=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=fe(this.P&f-1);if(0===(this.P&f)){var k=fe(this.P);if(16<=k){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=$h.La(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0!==(this.P>>>c&1)&&(g[c]=null!=this.f[d]?$h.La(a+5,tc(this.f[d]),this.f[d],this.f[d+1],e):this.f[d+1],d+=2),c+=1;else break;return new ai(null,k+1,g)}a=Array(2*(k+1));Id(this.f,
0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;Id(this.f,2*g,a,2*(g+1),2*(k-g));e.ya=!0;return new Xh(null,this.P|f,a)}var m=this.f[2*g],f=this.f[2*g+1];if(null==m)return k=f.La(a+5,b,c,d,e),k===f?this:new Xh(null,this.P,Th(this.f,2*g+1,k));if(Sh(c,m))return d===f?this:new Xh(null,this.P,Th(this.f,2*g+1,d));e.ya=!0;e=this.P;k=this.f;a+=5;a=di?di(a,m,f,b,c,d):ci.call(null,a,m,f,b,c,d);c=2*g;g=2*g+1;d=Wa(k);d[c]=null;d[g]=a;return new Xh(null,e,d)};
l.Eb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.P&d))return this;var e=fe(this.P&d-1),f=this.f[2*e],g=this.f[2*e+1];return null==f?(a=g.Eb(a+5,b,c),a===g?this:null!=a?new Xh(null,this.P,Th(this.f,2*e+1,a)):this.P===d?null:new Xh(null,this.P^d,Uh(this.f,e))):Sh(c,f)?new Xh(null,this.P^d,Uh(this.f,e)):this};l.Ka=function(){return new Wh(this.f,0,null,null)};var $h=new Xh(null,0,[]);function ei(a,b,c){this.f=a;this.l=b;this.Na=c}
ei.prototype.va=function(){for(var a=this.f.length;;){if(null!=this.Na&&this.Na.va())return!0;if(this.l<a){var b=this.f[this.l];this.l+=1;null!=b&&(this.Na=ec(b))}else return!1}};ei.prototype.next=function(){if(this.va())return this.Na.next();throw Error("No such element");};ei.prototype.remove=function(){return Error("Unsupported operation")};function ai(a,b,c){this.J=a;this.m=b;this.f=c}l=ai.prototype;l.gb=function(a){return a===this.J?this:new ai(a,this.m,Wa(this.f))};
l.Db=function(){return fi?fi(this.f):gi.call(null,this.f)};l.$a=function(a,b,c,d){var e=this.f[b>>>a&31];return null!=e?e.$a(a+5,b,c,d):d};l.Ma=function(a,b,c,d,e,f){var g=c>>>b&31,k=this.f[g];if(null==k)return a=Vh(this,a,g,$h.Ma(a,b+5,c,d,e,f)),a.m+=1,a;b=k.Ma(a,b+5,c,d,e,f);return b===k?this:Vh(this,a,g,b)};
l.La=function(a,b,c,d,e){var f=b>>>a&31,g=this.f[f];if(null==g)return new ai(null,this.m+1,Th(this.f,f,$h.La(a+5,b,c,d,e)));a=g.La(a+5,b,c,d,e);return a===g?this:new ai(null,this.m,Th(this.f,f,a))};
l.Eb=function(a,b,c){var d=b>>>a&31,e=this.f[d];if(null!=e){a=e.Eb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.m)a:{e=this.f;a=e.length;b=Array(2*(this.m-1));c=0;for(var f=1,g=0;;)if(c<a)c!==d&&null!=e[c]&&(b[f]=e[c],f+=2,g|=1<<c),c+=1;else{d=new Xh(null,g,b);break a}}else d=new ai(null,this.m-1,Th(this.f,d,a));else d=new ai(null,this.m,Th(this.f,d,a));return d}return this};l.Ka=function(){return new ei(this.f,0,null)};
function hi(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Sh(c,a[d]))return d;d+=2}else return-1}function ii(a,b,c,d){this.J=a;this.Wa=b;this.m=c;this.f=d}l=ii.prototype;l.gb=function(a){if(a===this.J)return this;var b=Array(2*(this.m+1));Id(this.f,0,b,0,2*this.m);return new ii(a,this.Wa,this.m,b)};l.Db=function(){return Yh?Yh(this.f):Zh.call(null,this.f)};l.$a=function(a,b,c,d){a=hi(this.f,this.m,c);return 0>a?d:Sh(c,this.f[a])?this.f[a+1]:d};
l.Ma=function(a,b,c,d,e,f){if(c===this.Wa){b=hi(this.f,this.m,d);if(-1===b){if(this.f.length>2*this.m)return b=2*this.m,c=2*this.m+1,a=this.gb(a),a.f[b]=d,a.f[c]=e,f.ya=!0,a.m+=1,a;c=this.f.length;b=Array(c+2);Id(this.f,0,b,0,c);b[c]=d;b[c+1]=e;f.ya=!0;d=this.m+1;a===this.J?(this.f=b,this.m=d,a=this):a=new ii(this.J,this.Wa,d,b);return a}return this.f[b+1]===e?this:Vh(this,a,b+1,e)}return(new Xh(a,1<<(this.Wa>>>b&31),[null,this,null,null])).Ma(a,b,c,d,e,f)};
l.La=function(a,b,c,d,e){return b===this.Wa?(a=hi(this.f,this.m,c),-1===a?(a=2*this.m,b=Array(a+2),Id(this.f,0,b,0,a),b[a]=c,b[a+1]=d,e.ya=!0,new ii(null,this.Wa,this.m+1,b)):B.a(this.f[a],d)?this:new ii(null,this.Wa,this.m,Th(this.f,a+1,d))):(new Xh(null,1<<(this.Wa>>>a&31),[null,this])).La(a,b,c,d,e)};l.Eb=function(a,b,c){a=hi(this.f,this.m,c);return-1===a?this:1===this.m?null:new ii(null,this.Wa,this.m-1,Uh(this.f,ee(a)))};l.Ka=function(){return new Wh(this.f,0,null,null)};
function ci(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 6:return di(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return bi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}
function di(a,b,c,d,e,f){var g=tc(b);if(g===d)return new ii(null,g,2,[b,c,e,f]);var k=new Rh;return $h.La(a,g,b,c,k).La(a,d,e,f,k)}function bi(a,b,c,d,e,f,g){var k=tc(c);if(k===e)return new ii(null,k,2,[c,d,f,g]);var m=new Rh;return $h.Ma(a,b,k,c,d,m).Ma(a,b,e,f,g,m)}function ji(a,b,c,d,e){this.o=a;this.ab=b;this.l=c;this.B=d;this.u=e;this.i=32374860;this.A=0}l=ji.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};
l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(Ac,this.o)};l.sa=function(a,b){return md(b,this)};
l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){return null==this.B?new L(null,2,5,N,[this.ab[this.l],this.ab[this.l+1]],null):x(this.B)};l.Aa=function(){if(null==this.B){var a=this.ab,b=this.l+2;return ki?ki(a,b,null):Zh.call(null,a,b,null)}var a=this.ab,b=this.l,c=A(this.B);return ki?ki(a,b,c):Zh.call(null,a,b,c)};l.$=function(){return this};l.O=function(a,b){return new ji(b,this.ab,this.l,this.B,this.u)};l.Y=function(a,b){return dd(b,this)};ji.prototype[Va]=function(){return Cc(this)};
function Zh(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return Yh(arguments[0]);case 3:return ki(arguments[0],arguments[1],arguments[2]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}function Yh(a){return ki(a,0,null)}
function ki(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new ji(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.Db(),r(d)))return new ji(null,a,b+2,d,null);b+=2}else return null;else return new ji(null,a,b,c,null)}function li(a,b,c,d,e){this.o=a;this.ab=b;this.l=c;this.B=d;this.u=e;this.i=32374860;this.A=0}l=li.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};
l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.o};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(Ac,this.o)};l.sa=function(a,b){return md(b,this)};
l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){return x(this.B)};l.Aa=function(){var a=this.ab,b=this.l,c=A(this.B);return mi?mi(null,a,b,c):gi.call(null,null,a,b,c)};l.$=function(){return this};l.O=function(a,b){return new li(b,this.ab,this.l,this.B,this.u)};l.Y=function(a,b){return dd(b,this)};li.prototype[Va]=function(){return Cc(this)};
function gi(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;switch(b.length){case 1:return fi(arguments[0]);case 4:return mi(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error([t("Invalid arity: "),t(b.length)].join(""));}}function fi(a){return mi(null,a,0,null)}function mi(a,b,c,d){if(null==d)for(d=b.length;;)if(c<d){var e=b[c];if(r(e)&&(e=e.Db(),r(e)))return new li(a,b,c+1,e,null);c+=1}else return null;else return new li(a,b,c,d,null)}
function ni(a,b,c){this.Ca=a;this.wc=b;this.fc=c}ni.prototype.va=function(){return this.fc&&this.wc.va()};ni.prototype.next=function(){if(this.fc)return this.wc.next();this.fc=!0;return this.Ca};ni.prototype.remove=function(){return Error("Unsupported operation")};function oi(a,b,c,d,e,f){this.o=a;this.m=b;this.root=c;this.xa=d;this.Ca=e;this.u=f;this.i=16123663;this.A=8196}l=oi.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};
l.keys=function(){return Cc(Jh.b?Jh.b(this):Jh.call(null,this))};l.entries=function(){return new Eh(w(w(this)))};l.values=function(){return Cc(Kh.b?Kh.b(this):Kh.call(null,this))};l.has=function(a){return Ld(this,a)};l.get=function(a,b){return this.M(null,a,b)};
l.forEach=function(a){for(var b=w(this),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),g=I(f,0,null),f=I(f,1,null);a.a?a.a(f,g):a.call(null,f,g);e+=1}else if(b=w(b))Gd(b)?(c=Xb(b),b=Yb(b),g=c,d=H(c),c=g):(c=x(b),g=I(c,0,null),f=I(c,1,null),a.a?a.a(f,g):a.call(null,f,g),b=A(b),c=null,d=0),e=0;else return null};l.T=function(a,b){return ib.c(this,b,null)};l.M=function(a,b,c){return null==b?this.xa?this.Ca:c:null==this.root?c:this.root.$a(0,tc(b),b,c)};
l.Ka=function(){var a=this.root?ec(this.root):Ne;return this.xa?new ni(this.Ca,a,!1):a};l.K=function(){return this.o};l.Z=function(){return this.m};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Gc(this)};l.v=function(a,b){return Ch(this,b)};l.nb=function(){return new pi({},this.root,this.m,this.xa,this.Ca)};l.aa=function(){return Ab(Nh,this.o)};
l.Jb=function(a,b){if(null==b)return this.xa?new oi(this.o,this.m-1,this.root,!1,null,null):this;if(null==this.root)return this;var c=this.root.Eb(0,tc(b),b);return c===this.root?this:new oi(this.o,this.m-1,c,this.xa,this.Ca,null)};l.mb=function(a,b,c){if(null==b)return this.xa&&c===this.Ca?this:new oi(this.o,this.xa?this.m:this.m+1,this.root,!0,c,null);a=new Rh;b=(null==this.root?$h:this.root).La(0,tc(b),b,c,a);return b===this.root?this:new oi(this.o,a.ya?this.m+1:this.m,b,this.xa,this.Ca,null)};
l.Sb=function(a,b){return null==b?this.xa:null==this.root?!1:this.root.$a(0,tc(b),b,Jd)!==Jd};l.$=function(){if(0<this.m){var a=null!=this.root?this.root.Db():null;return this.xa?dd(new L(null,2,5,N,[null,this.Ca],null),a):a}return null};l.O=function(a,b){return new oi(b,this.m,this.root,this.xa,this.Ca,this.u)};
l.Y=function(a,b){if(Fd(b))return lb(this,db.a(b,0),db.a(b,1));for(var c=this,d=w(b);;){if(null==d)return c;var e=x(d);if(Fd(e))c=lb(c,db.a(e,0),db.a(e,1)),d=A(d);else throw Error("conj on a map takes map entries or seqables of map entries");}};
l.call=function(){var a=null,a=function(b,a,d){switch(arguments.length){case 2:return this.T(null,a);case 3:return this.M(null,a,d)}throw Error("Invalid arity: "+arguments.length);};a.a=function(b,a){return this.T(null,a)};a.c=function(b,a,d){return this.M(null,a,d)};return a}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return this.T(null,a)};l.a=function(a,b){return this.M(null,a,b)};var Nh=new oi(null,0,null,!1,null,Hc);
function wd(a,b){for(var c=a.length,d=0,e=Pb(Nh);;)if(d<c)var f=d+1,e=e.xb(null,a[d],b[d]),d=f;else return Sb(e)}oi.prototype[Va]=function(){return Cc(this)};function pi(a,b,c,d,e){this.J=a;this.root=b;this.count=c;this.xa=d;this.Ca=e;this.i=258;this.A=56}function qi(a,b,c){if(a.J){if(null==b)a.Ca!==c&&(a.Ca=c),a.xa||(a.count+=1,a.xa=!0);else{var d=new Rh;b=(null==a.root?$h:a.root).Ma(a.J,0,tc(b),b,c,d);b!==a.root&&(a.root=b);d.ya&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}
l=pi.prototype;l.Z=function(){if(this.J)return this.count;throw Error("count after persistent!");};l.T=function(a,b){return null==b?this.xa?this.Ca:null:null==this.root?null:this.root.$a(0,tc(b),b)};l.M=function(a,b,c){return null==b?this.xa?this.Ca:c:null==this.root?c:this.root.$a(0,tc(b),b,c)};
l.yb=function(a,b){var c;a:if(this.J)if(null!=b?b.i&2048||b.Fc||(b.i?0:Sa(ob,b)):Sa(ob,b))c=qi(this,Oh.b?Oh.b(b):Oh.call(null,b),Ph.b?Ph.b(b):Ph.call(null,b));else{c=w(b);for(var d=this;;){var e=x(c);if(r(e))c=A(c),d=qi(d,Oh.b?Oh.b(e):Oh.call(null,e),Ph.b?Ph.b(e):Ph.call(null,e));else{c=d;break a}}}else throw Error("conj! after persistent");return c};l.zb=function(){var a;if(this.J)this.J=null,a=new oi(null,this.count,this.root,this.xa,this.Ca,null);else throw Error("persistent! called twice");return a};
l.xb=function(a,b,c){return qi(this,b,c)};var Af=function Af(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Af.s(0<c.length?new yc(c.slice(0),0,null):null)};Af.s=function(a){for(var b=w(a),c=Pb(Nh);;)if(b){a=A(A(b));var d=x(b),b=qd(b),c=Ub(c,d,b),b=a}else return Sb(c)};Af.C=0;Af.G=function(a){return Af.s(w(a))};function ri(a,b){this.D=a;this.za=b;this.i=32374988;this.A=0}l=ri.prototype;l.toString=function(){return kc(this)};
l.equiv=function(a){return this.v(null,a)};l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.za};l.wa=function(){var a=(null!=this.D?this.D.i&128||this.D.Kb||(this.D.i?0:Sa(gb,this.D)):Sa(gb,this.D))?this.D.wa(null):A(this.D);return null==a?null:new ri(a,this.za)};l.R=function(){return Ec(this)};
l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(Ac,this.za)};l.sa=function(a,b){return md(b,this)};l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){return this.D.ua(null).Yb()};l.Aa=function(){var a=(null!=this.D?this.D.i&128||this.D.Kb||(this.D.i?0:Sa(gb,this.D)):Sa(gb,this.D))?this.D.wa(null):A(this.D);return null!=a?new ri(a,this.za):Ac};l.$=function(){return this};l.O=function(a,b){return new ri(this.D,b)};l.Y=function(a,b){return dd(b,this)};ri.prototype[Va]=function(){return Cc(this)};
function Jh(a){return(a=w(a))?new ri(a,null):null}function Oh(a){return pb(a)}function si(a,b){this.D=a;this.za=b;this.i=32374988;this.A=0}l=si.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.K=function(){return this.za};l.wa=function(){var a=(null!=this.D?this.D.i&128||this.D.Kb||(this.D.i?0:Sa(gb,this.D)):Sa(gb,this.D))?this.D.wa(null):A(this.D);return null==a?null:new si(a,this.za)};l.R=function(){return Ec(this)};
l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(Ac,this.za)};l.sa=function(a,b){return md(b,this)};l.ta=function(a,b,c){return pd(b,c,this)};l.ua=function(){return this.D.ua(null).Zb()};l.Aa=function(){var a=(null!=this.D?this.D.i&128||this.D.Kb||(this.D.i?0:Sa(gb,this.D)):Sa(gb,this.D))?this.D.wa(null):A(this.D);return null!=a?new si(a,this.za):Ac};l.$=function(){return this};l.O=function(a,b){return new si(this.D,b)};l.Y=function(a,b){return dd(b,this)};si.prototype[Va]=function(){return Cc(this)};
function Kh(a){return(a=w(a))?new si(a,null):null}function Ph(a){return qb(a)}var ti=function ti(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ti.s(0<c.length?new yc(c.slice(0),0,null):null)};ti.s=function(a){return r(Ue(a))?Zd(function(b,a){return sd.a(r(b)?b:Se,a)},a):null};ti.C=0;ti.G=function(a){return ti.s(w(a))};function ui(a){this.ec=a}ui.prototype.va=function(){return this.ec.va()};
ui.prototype.next=function(){if(this.ec.va())return this.ec.next().H[0];throw Error("No such element");};ui.prototype.remove=function(){return Error("Unsupported operation")};function vi(a,b,c){this.o=a;this.hb=b;this.u=c;this.i=15077647;this.A=8196}l=vi.prototype;l.toString=function(){return kc(this)};l.equiv=function(a){return this.v(null,a)};l.keys=function(){return Cc(w(this))};l.entries=function(){return new Fh(w(w(this)))};l.values=function(){return Cc(w(this))};
l.has=function(a){return Ld(this,a)};l.forEach=function(a){for(var b=w(this),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e),g=I(f,0,null),f=I(f,1,null);a.a?a.a(f,g):a.call(null,f,g);e+=1}else if(b=w(b))Gd(b)?(c=Xb(b),b=Yb(b),g=c,d=H(c),c=g):(c=x(b),g=I(c,0,null),f=I(c,1,null),a.a?a.a(f,g):a.call(null,f,g),b=A(b),c=null,d=0),e=0;else return null};l.T=function(a,b){return ib.c(this,b,null)};l.M=function(a,b,c){return jb(this.hb,b)?b:c};l.Ka=function(){return new ui(ec(this.hb))};l.K=function(){return this.o};
l.Z=function(){return Za(this.hb)};l.R=function(){var a=this.u;return null!=a?a:this.u=a=Gc(this)};l.v=function(a,b){return Cd(b)&&H(this)===H(b)&&Te(function(b){return function(a){return Ld(b,a)}}(this),b)};l.nb=function(){return new wi(Pb(this.hb))};l.aa=function(){return ld(xi,this.o)};l.$=function(){return Jh(this.hb)};l.O=function(a,b){return new vi(b,this.hb,this.u)};l.Y=function(a,b){return new vi(this.o,vd.c(this.hb,b,null),null)};
l.call=function(){var a=null,a=function(b,a,d){switch(arguments.length){case 2:return this.T(null,a);case 3:return this.M(null,a,d)}throw Error("Invalid arity: "+arguments.length);};a.a=function(b,a){return this.T(null,a)};a.c=function(b,a,d){return this.M(null,a,d)};return a}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return this.T(null,a)};l.a=function(a,b){return this.M(null,a,b)};var xi=new vi(null,Se,Hc);vi.prototype[Va]=function(){return Cc(this)};
function wi(a){this.Za=a;this.A=136;this.i=259}l=wi.prototype;l.yb=function(a,b){this.Za=Ub(this.Za,b,null);return this};l.zb=function(){return new vi(null,Sb(this.Za),null)};l.Z=function(){return H(this.Za)};l.T=function(a,b){return ib.c(this,b,null)};l.M=function(a,b,c){return ib.c(this.Za,b,Jd)===Jd?c:b};
l.call=function(){function a(b,a,c){return ib.c(this.Za,a,Jd)===Jd?c:a}function b(b,a){return ib.c(this.Za,a,Jd)===Jd?null:a}var c=null,c=function(c,e,f){switch(arguments.length){case 2:return b.call(this,0,e);case 3:return a.call(this,0,e,f)}throw Error("Invalid arity: "+arguments.length);};c.a=b;c.c=a;return c}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};l.b=function(a){return ib.c(this.Za,a,Jd)===Jd?null:a};l.a=function(a,b){return ib.c(this.Za,a,Jd)===Jd?b:a};
function oe(a){if(null!=a&&(a.A&4096||a.Hc))return a.vb(null);if("string"===typeof a)return a;throw Error([t("Doesn't support name: "),t(a)].join(""));}function yi(a,b,c){this.l=a;this.end=b;this.step=c}yi.prototype.va=function(){return 0<this.step?this.l<this.end:this.l>this.end};yi.prototype.next=function(){var a=this.l;this.l+=this.step;return a};function zi(a,b,c,d,e){this.o=a;this.start=b;this.end=c;this.step=d;this.u=e;this.i=32375006;this.A=8192}l=zi.prototype;l.toString=function(){return kc(this)};
l.equiv=function(a){return this.v(null,a)};l.indexOf=function(){var a=null,a=function(b,a){switch(arguments.length){case 1:return G(this,b,0);case 2:return G(this,b,a)}throw Error("Invalid arity: "+arguments.length);};a.b=function(b){return G(this,b,0)};a.a=function(b,a){return G(this,b,a)};return a}();
l.lastIndexOf=function(){function a(b){return $c(this,b,H(this))}var b=null,b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return $c(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.b=a;b.a=function(b,a){return $c(this,b,a)};return b}();l.L=function(a,b){if(b<Za(this))return this.start+b*this.step;if(this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
l.Da=function(a,b,c){return b<Za(this)?this.start+b*this.step:this.start>this.end&&0===this.step?this.start:c};l.Ka=function(){return new yi(this.start,this.end,this.step)};l.K=function(){return this.o};l.wa=function(){return 0<this.step?this.start+this.step<this.end?new zi(this.o,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new zi(this.o,this.start+this.step,this.end,this.step,null):null};l.Z=function(){return Ra(Hb(this))?0:Math.ceil((this.end-this.start)/this.step)};
l.R=function(){var a=this.u;return null!=a?a:this.u=a=Ec(this)};l.v=function(a,b){return cd(this,b)};l.aa=function(){return ld(Ac,this.o)};l.sa=function(a,b){return Kc(this,b)};l.ta=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end)c=b.a?b.a(c,a):b.call(null,c,a),a+=this.step;else return c};l.ua=function(){return null==Hb(this)?null:this.start};l.Aa=function(){return null!=Hb(this)?new zi(this.o,this.start+this.step,this.end,this.step,null):Ac};
l.$=function(){return 0<this.step?this.start<this.end?this:null:0>this.step?this.start>this.end?this:null:this.start===this.end?null:this};l.O=function(a,b){return new zi(b,this.start,this.end,this.step,this.u)};l.Y=function(a,b){return dd(b,this)};zi.prototype[Va]=function(){return Cc(this)};function Ai(a){return new zi(null,0,a,1,null)}function Bi(a){a:for(var b=a;;)if(w(b))b=A(b);else break a;return a}
function Ci(a,b,c,d,e,f,g){var k=Ga;Ga=null==Ga?null:Ga-1;try{if(null!=Ga&&0>Ga)return Nb(a,"#");Nb(a,c);if(0===Pa.b(f))w(g)&&Nb(a,function(){var b=Di.b(f);return r(b)?b:"..."}());else{if(w(g)){var m=x(g);b.c?b.c(m,a,f):b.call(null,m,a,f)}for(var h=A(g),n=Pa.b(f)-1;;)if(!h||null!=n&&0===n){w(h)&&0===n&&(Nb(a,d),Nb(a,function(){var b=Di.b(f);return r(b)?b:"..."}()));break}else{Nb(a,d);var p=x(h);c=a;g=f;b.c?b.c(p,c,g):b.call(null,p,c,g);var q=A(h);c=n-1;h=q;n=c}}return Nb(a,e)}finally{Ga=k}}
function Ei(a,b){for(var c=w(b),d=null,e=0,f=0;;)if(f<e){var g=d.L(null,f);Nb(a,g);f+=1}else if(c=w(c))d=c,Gd(d)?(c=Xb(d),e=Yb(d),d=c,g=H(c),c=e,e=g):(g=x(d),Nb(a,g),c=A(d),d=null,e=0),f=0;else return null}var Fi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Gi(a){return[t('"'),t(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return Fi[b]})),t('"')].join("")}
function Hi(a,b){var c=Kd(v.a(a,Na));return c?(c=null!=b?b.i&131072||b.Gc?!0:!1:!1)?null!=Ad(b):c:c}
function Ii(a,b,c){if(null==a)return Nb(b,"nil");if(Hi(c,a)){Nb(b,"^");var d=Ad(a);Ji.c?Ji.c(d,b,c):Ji.call(null,d,b,c);Nb(b," ")}if(a.Ab)return a.Ob(a,b,c);if(null!=a&&(a.i&2147483648||a.ba))return a.U(null,b,c);if(!0===a||!1===a||"number"===typeof a)return Nb(b,""+t(a));if(null!=a&&a.constructor===Object)return Nb(b,"#js "),d=Ef.a(function(b){return new L(null,2,5,N,[ne.b(b),a[b]],null)},Hd(a)),Ki.w?Ki.w(d,Ji,b,c):Ki.call(null,d,Ji,b,c);if(Qa(a))return Ci(b,Ji,"#js ["," ","]",c,a);if("string"==
typeof a)return r(Ma.b(c))?Nb(b,Gi(a)):Nb(b,a);if("function"==fa(a)){var e=a.name;c=r(function(){var b=null==e;return b?b:/^[\s\xa0]*$/.test(e)}())?"Function":e;return Ei(b,kd(["#object[",c,' "',""+t(a),'"]'],0))}if(a instanceof Date)return c=function(b,a){for(var c=""+t(b);;)if(H(c)<a)c=[t("0"),t(c)].join("");else return c},Ei(b,kd(['#inst "',""+t(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),
".",c(a.getUTCMilliseconds(),3),"-",'00:00"'],0));if(a instanceof RegExp)return Ei(b,kd(['#"',a.source,'"'],0));if(r(a.constructor.fb))return Ei(b,kd(["#object[",a.constructor.fb.replace(RegExp("/","g"),"."),"]"],0));e=a.constructor.name;c=r(function(){var b=null==e;return b?b:/^[\s\xa0]*$/.test(e)}())?"Object":e;return Ei(b,kd(["#object[",c," ",""+t(a),"]"],0))}function Ji(a,b,c){var d=Li.b(c);return r(d)?(c=vd.c(c,Mi,Ii),d.c?d.c(a,b,c):d.call(null,a,b,c)):Ii(a,b,c)}
function Ki(a,b,c,d){return Ci(c,function(a,c,d){var k=pb(a);b.c?b.c(k,c,d):b.call(null,k,c,d);Nb(c," ");a=qb(a);return b.c?b.c(a,c,d):b.call(null,a,c,d)},"{",", ","}",d,w(a))}yc.prototype.ba=!0;yc.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};pe.prototype.ba=!0;pe.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};ji.prototype.ba=!0;ji.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};Hh.prototype.ba=!0;
Hh.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};dg.prototype.ba=!0;dg.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};ke.prototype.ba=!0;ke.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};bd.prototype.ba=!0;bd.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};oi.prototype.ba=!0;oi.prototype.U=function(a,b,c){return Ki(this,Ji,b,c)};li.prototype.ba=!0;li.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};
wh.prototype.ba=!0;wh.prototype.U=function(a,b,c){return Ci(b,Ji,"["," ","]",c,this)};vi.prototype.ba=!0;vi.prototype.U=function(a,b,c){return Ci(b,Ji,"#{"," ","}",c,this)};ze.prototype.ba=!0;ze.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};Xe.prototype.ba=!0;Xe.prototype.U=function(a,b,c){Nb(b,"#object [cljs.core.Atom ");Ji(new Ja(null,1,[Ni,this.state],null),b,c);return Nb(b,"]")};si.prototype.ba=!0;si.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};
L.prototype.ba=!0;L.prototype.U=function(a,b,c){return Ci(b,Ji,"["," ","]",c,this)};he.prototype.ba=!0;he.prototype.U=function(a,b){return Nb(b,"()")};Ja.prototype.ba=!0;Ja.prototype.U=function(a,b,c){return Ki(this,Ji,b,c)};zi.prototype.ba=!0;zi.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};ri.prototype.ba=!0;ri.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};ge.prototype.ba=!0;ge.prototype.U=function(a,b,c){return Ci(b,Ji,"("," ",")",c,this)};function Oi(){}
var Pi=function Pi(b){if(null!=b&&null!=b.Cc)return b.Cc(b);var c=Pi[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Pi._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("IEncodeJS.-clj-\x3ejs",b);};
function Qi(a){if(null!=a?a.Bc||(a.Pc?0:Sa(Oi,a)):Sa(Oi,a))a=Pi(a);else if("string"===typeof a||"number"===typeof a||a instanceof J||a instanceof vc)a=Ri.b?Ri.b(a):Ri.call(null,a);else{var b=kd([a],0);a=Ia();if(null==b||Ra(w(b)))a="";else{var c=t,d=new Ca;a:{var e=new jc(d);Ji(x(b),e,a);for(var b=w(A(b)),f=null,g=0,k=0;;)if(k<g){var m=f.L(null,k);Nb(e," ");Ji(m,e,a);k+=1}else if(b=w(b))f=b,Gd(f)?(b=Xb(f),g=Yb(f),f=b,m=H(b),b=g,g=m):(m=x(f),Nb(e," "),Ji(m,e,a),b=A(f),f=null,g=0),k=0;else break a}a=
""+c(d)}}return a}
var Ri=function Ri(b){if(null==b)return null;if(null!=b?b.Bc||(b.Pc?0:Sa(Oi,b)):Sa(Oi,b))return Pi(b);if(b instanceof J)return oe(b);if(b instanceof vc)return""+t(b);if(Ed(b)){var c={};b=w(b);for(var d=null,e=0,f=0;;)if(f<e){var g=d.L(null,f),k=I(g,0,null),g=I(g,1,null);c[Qi(k)]=Ri(g);f+=1}else if(b=w(b))Gd(b)?(e=Xb(b),b=Yb(b),d=e,e=H(e)):(e=x(b),d=I(e,0,null),e=I(e,1,null),c[Qi(d)]=Ri(e),b=A(b),d=null,e=0),f=0;else break;return c}if(null==b?0:null!=b?b.i&8||b.hd||(b.i?0:Sa(ab,b)):Sa(ab,b)){c=[];
b=w(Ef.a(Ri,b));d=null;for(f=e=0;;)if(f<e)k=d.L(null,f),c.push(k),f+=1;else if(b=w(b))d=b,Gd(d)?(b=Xb(d),f=Yb(d),d=b,e=H(b),b=f):(b=x(d),c.push(b),b=A(d),d=null,e=0),f=0;else break;return c}return b},Ti=null;function Ui(){if(null==Ti){var a=new Ja(null,3,[Vi,Se,Wi,Se,Xi,Se],null);Ti=$e?$e(a):Ye.call(null,a)}return Ti}
function Yi(a,b,c){var d=B.a(b,c);if(!d&&!(d=Ld(Xi.b(a).call(null,b),c))&&(d=Fd(c))&&(d=Fd(b)))if(d=H(c)===H(b))for(var d=!0,e=0;;)if(d&&e!==H(c))d=Yi(a,b.b?b.b(e):b.call(null,e),c.b?c.b(e):c.call(null,e)),e+=1;else return d;else return d;else return d}function Zi(a){var b;b=Ui();b=D.b?D.b(b):D.call(null,b);return Me(v.a(Vi.b(b),a))}function $i(a,b,c,d){Df.a(a,function(){return D.b?D.b(b):D.call(null,b)});Df.a(c,function(){return D.b?D.b(d):D.call(null,d)})}
var aj=function aj(b,c,d){var e=(D.b?D.b(d):D.call(null,d)).call(null,b),e=r(r(e)?e.b?e.b(c):e.call(null,c):e)?!0:null;if(r(e))return e;e=function(){for(var a=Zi(c);;)if(0<H(a))aj(b,x(a),d),a=zc(a);else return null}();if(r(e))return e;e=function(){for(var a=Zi(b);;)if(0<H(a))aj(x(a),c,d),a=zc(a);else return null}();return r(e)?e:!1};function bj(a,b,c){c=aj(a,b,c);if(r(c))a=c;else{c=Yi;var d;d=Ui();d=D.b?D.b(d):D.call(null,d);a=c(d,a,b)}return a}
var cj=function cj(b,c,d,e,f,g,k){var m=Md(function(a,e){var g=I(e,0,null);I(e,1,null);if(Yi(D.b?D.b(d):D.call(null,d),c,g)){var m;m=(m=null==a)?m:bj(g,x(a),f);m=r(m)?e:a;if(!r(bj(x(m),g,f)))throw Error([t("Multiple methods in multimethod '"),t(b),t("' match dispatch value: "),t(c),t(" -\x3e "),t(g),t(" and "),t(x(m)),t(", and neither is preferred")].join(""));return m}return a},null,D.b?D.b(e):D.call(null,e));if(r(m)){if(B.a(D.b?D.b(k):D.call(null,k),D.b?D.b(d):D.call(null,d)))return Df.w(g,vd,c,
qd(m)),qd(m);$i(g,e,k,d);return cj(b,c,d,e,f,g,k)}return null};function dj(a,b){throw Error([t("No method in multimethod '"),t(a),t("' for dispatch value: "),t(b)].join(""));}function ej(a,b,c,d,e,f,g,k){this.name=a;this.h=b;this.Qc=c;this.Cb=d;this.qb=e;this.ad=f;this.Fb=g;this.tb=k;this.i=4194305;this.A=4352}l=ej.prototype;
l.call=function(){function a(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K,Q,ha){b=this;var ga=Le(b.h,a,c,d,f,kd([e,g,h,m,k,p,q,n,u,y,z,C,F,E,K,Q,ha],0)),Bd=fj(this,ga);r(Bd)||dj(b.name,ga);return Le(Bd,a,c,d,f,kd([e,g,h,m,k,p,q,n,u,y,z,C,F,E,K,Q,ha],0))}function b(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K,Q){b=this;var ha=b.h.na?b.h.na(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K,Q):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K,Q),ga=fj(this,ha);r(ga)||dj(b.name,ha);return ga.na?ga.na(a,c,d,f,e,g,h,m,k,p,
q,n,u,y,z,C,F,E,K,Q):ga.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K,Q)}function c(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K){b=this;var Q=b.h.ma?b.h.ma(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K),ha=fj(this,Q);r(ha)||dj(b.name,Q);return ha.ma?ha.ma(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K):ha.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E,K)}function d(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E){b=this;var K=b.h.la?b.h.la(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,
E):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E),Q=fj(this,K);r(Q)||dj(b.name,K);return Q.la?Q.la(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E):Q.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,E)}function e(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F){b=this;var E=b.h.ka?b.h.ka(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F),K=fj(this,E);r(K)||dj(b.name,E);return K.ka?K.ka(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F):K.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F)}function f(b,a,c,d,f,e,
g,h,m,k,p,q,n,u,y,z,C){b=this;var F=b.h.ja?b.h.ja(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C),E=fj(this,F);r(E)||dj(b.name,F);return E.ja?E.ja(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C):E.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C)}function g(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z){b=this;var C=b.h.ia?b.h.ia(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z),F=fj(this,C);r(F)||dj(b.name,C);return F.ia?F.ia(a,c,d,f,e,g,h,m,k,p,q,n,u,y,z):F.call(null,a,c,d,
f,e,g,h,m,k,p,q,n,u,y,z)}function k(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y){b=this;var z=b.h.ha?b.h.ha(a,c,d,f,e,g,h,m,k,p,q,n,u,y):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y),C=fj(this,z);r(C)||dj(b.name,z);return C.ha?C.ha(a,c,d,f,e,g,h,m,k,p,q,n,u,y):C.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u,y)}function m(b,a,c,d,f,e,g,h,m,k,p,q,n,u){b=this;var y=b.h.ga?b.h.ga(a,c,d,f,e,g,h,m,k,p,q,n,u):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n,u),z=fj(this,y);r(z)||dj(b.name,y);return z.ga?z.ga(a,c,d,f,e,g,h,m,k,p,q,n,u):z.call(null,
a,c,d,f,e,g,h,m,k,p,q,n,u)}function h(b,a,c,d,f,e,g,h,m,k,p,q,n){b=this;var u=b.h.fa?b.h.fa(a,c,d,f,e,g,h,m,k,p,q,n):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q,n),y=fj(this,u);r(y)||dj(b.name,u);return y.fa?y.fa(a,c,d,f,e,g,h,m,k,p,q,n):y.call(null,a,c,d,f,e,g,h,m,k,p,q,n)}function n(b,a,c,d,f,e,g,h,m,k,p,q){b=this;var n=b.h.ea?b.h.ea(a,c,d,f,e,g,h,m,k,p,q):b.h.call(null,a,c,d,f,e,g,h,m,k,p,q),u=fj(this,n);r(u)||dj(b.name,n);return u.ea?u.ea(a,c,d,f,e,g,h,m,k,p,q):u.call(null,a,c,d,f,e,g,h,m,k,p,q)}function p(b,
a,c,d,f,e,g,h,m,k,p){b=this;var q=b.h.da?b.h.da(a,c,d,f,e,g,h,m,k,p):b.h.call(null,a,c,d,f,e,g,h,m,k,p),n=fj(this,q);r(n)||dj(b.name,q);return n.da?n.da(a,c,d,f,e,g,h,m,k,p):n.call(null,a,c,d,f,e,g,h,m,k,p)}function q(b,a,c,d,f,e,g,h,m,k){b=this;var p=b.h.ra?b.h.ra(a,c,d,f,e,g,h,m,k):b.h.call(null,a,c,d,f,e,g,h,m,k),q=fj(this,p);r(q)||dj(b.name,p);return q.ra?q.ra(a,c,d,f,e,g,h,m,k):q.call(null,a,c,d,f,e,g,h,m,k)}function u(b,a,c,d,f,e,g,h,m){b=this;var k=b.h.qa?b.h.qa(a,c,d,f,e,g,h,m):b.h.call(null,
a,c,d,f,e,g,h,m),p=fj(this,k);r(p)||dj(b.name,k);return p.qa?p.qa(a,c,d,f,e,g,h,m):p.call(null,a,c,d,f,e,g,h,m)}function y(b,a,c,d,f,e,g,h){b=this;var m=b.h.pa?b.h.pa(a,c,d,f,e,g,h):b.h.call(null,a,c,d,f,e,g,h),k=fj(this,m);r(k)||dj(b.name,m);return k.pa?k.pa(a,c,d,f,e,g,h):k.call(null,a,c,d,f,e,g,h)}function z(b,a,c,d,f,e,g){b=this;var h=b.h.oa?b.h.oa(a,c,d,f,e,g):b.h.call(null,a,c,d,f,e,g),m=fj(this,h);r(m)||dj(b.name,h);return m.oa?m.oa(a,c,d,f,e,g):m.call(null,a,c,d,f,e,g)}function C(b,a,c,d,
f,e){b=this;var g=b.h.I?b.h.I(a,c,d,f,e):b.h.call(null,a,c,d,f,e),h=fj(this,g);r(h)||dj(b.name,g);return h.I?h.I(a,c,d,f,e):h.call(null,a,c,d,f,e)}function F(b,a,c,d,f){b=this;var e=b.h.w?b.h.w(a,c,d,f):b.h.call(null,a,c,d,f),g=fj(this,e);r(g)||dj(b.name,e);return g.w?g.w(a,c,d,f):g.call(null,a,c,d,f)}function K(b,a,c,d){b=this;var f=b.h.c?b.h.c(a,c,d):b.h.call(null,a,c,d),e=fj(this,f);r(e)||dj(b.name,f);return e.c?e.c(a,c,d):e.call(null,a,c,d)}function Q(b,a,c){b=this;var d=b.h.a?b.h.a(a,c):b.h.call(null,
a,c),f=fj(this,d);r(f)||dj(b.name,d);return f.a?f.a(a,c):f.call(null,a,c)}function ga(b,a){b=this;var c=b.h.b?b.h.b(a):b.h.call(null,a),d=fj(this,c);r(d)||dj(b.name,c);return d.b?d.b(a):d.call(null,a)}function ha(b){b=this;var a=b.h.j?b.h.j():b.h.call(null),c=fj(this,a);r(c)||dj(b.name,a);return c.j?c.j():c.call(null)}var E=null,E=function(E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua,Ka,Ba,Ya,kb,zb,Tb,Mb,od){switch(arguments.length){case 1:return ha.call(this,E);case 2:return ga.call(this,E,ba);case 3:return Q.call(this,
E,ba,P);case 4:return K.call(this,E,ba,P,da);case 5:return F.call(this,E,ba,P,da,Z);case 6:return C.call(this,E,ba,P,da,Z,S);case 7:return z.call(this,E,ba,P,da,Z,S,U);case 8:return y.call(this,E,ba,P,da,Z,S,U,X);case 9:return u.call(this,E,ba,P,da,Z,S,U,X,ca);case 10:return q.call(this,E,ba,P,da,Z,S,U,X,ca,T);case 11:return p.call(this,E,ba,P,da,Z,S,U,X,ca,T,O);case 12:return n.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M);case 13:return h.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M,V);case 14:return m.call(this,
E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua);case 15:return k.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua,Ka);case 16:return g.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua,Ka,Ba);case 17:return f.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua,Ka,Ba,Ya);case 18:return e.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua,Ka,Ba,Ya,kb);case 19:return d.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua,Ka,Ba,Ya,kb,zb);case 20:return c.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua,Ka,Ba,Ya,kb,zb,Tb);case 21:return b.call(this,E,ba,P,da,Z,S,U,X,
ca,T,O,M,V,ua,Ka,Ba,Ya,kb,zb,Tb,Mb);case 22:return a.call(this,E,ba,P,da,Z,S,U,X,ca,T,O,M,V,ua,Ka,Ba,Ya,kb,zb,Tb,Mb,od)}throw Error("Invalid arity: "+arguments.length);};E.b=ha;E.a=ga;E.c=Q;E.w=K;E.I=F;E.oa=C;E.pa=z;E.qa=y;E.ra=u;E.da=q;E.ea=p;E.fa=n;E.ga=h;E.ha=m;E.ia=k;E.ja=g;E.ka=f;E.la=e;E.ma=d;E.na=c;E.Xb=b;E.ub=a;return E}();l.apply=function(a,b){return this.call.apply(this,[this].concat(Wa(b)))};
l.j=function(){var a=this.h.j?this.h.j():this.h.call(null),b=fj(this,a);r(b)||dj(this.name,a);return b.j?b.j():b.call(null)};l.b=function(a){var b=this.h.b?this.h.b(a):this.h.call(null,a),c=fj(this,b);r(c)||dj(this.name,b);return c.b?c.b(a):c.call(null,a)};l.a=function(a,b){var c=this.h.a?this.h.a(a,b):this.h.call(null,a,b),d=fj(this,c);r(d)||dj(this.name,c);return d.a?d.a(a,b):d.call(null,a,b)};
l.c=function(a,b,c){var d=this.h.c?this.h.c(a,b,c):this.h.call(null,a,b,c),e=fj(this,d);r(e)||dj(this.name,d);return e.c?e.c(a,b,c):e.call(null,a,b,c)};l.w=function(a,b,c,d){var e=this.h.w?this.h.w(a,b,c,d):this.h.call(null,a,b,c,d),f=fj(this,e);r(f)||dj(this.name,e);return f.w?f.w(a,b,c,d):f.call(null,a,b,c,d)};l.I=function(a,b,c,d,e){var f=this.h.I?this.h.I(a,b,c,d,e):this.h.call(null,a,b,c,d,e),g=fj(this,f);r(g)||dj(this.name,f);return g.I?g.I(a,b,c,d,e):g.call(null,a,b,c,d,e)};
l.oa=function(a,b,c,d,e,f){var g=this.h.oa?this.h.oa(a,b,c,d,e,f):this.h.call(null,a,b,c,d,e,f),k=fj(this,g);r(k)||dj(this.name,g);return k.oa?k.oa(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};l.pa=function(a,b,c,d,e,f,g){var k=this.h.pa?this.h.pa(a,b,c,d,e,f,g):this.h.call(null,a,b,c,d,e,f,g),m=fj(this,k);r(m)||dj(this.name,k);return m.pa?m.pa(a,b,c,d,e,f,g):m.call(null,a,b,c,d,e,f,g)};
l.qa=function(a,b,c,d,e,f,g,k){var m=this.h.qa?this.h.qa(a,b,c,d,e,f,g,k):this.h.call(null,a,b,c,d,e,f,g,k),h=fj(this,m);r(h)||dj(this.name,m);return h.qa?h.qa(a,b,c,d,e,f,g,k):h.call(null,a,b,c,d,e,f,g,k)};l.ra=function(a,b,c,d,e,f,g,k,m){var h=this.h.ra?this.h.ra(a,b,c,d,e,f,g,k,m):this.h.call(null,a,b,c,d,e,f,g,k,m),n=fj(this,h);r(n)||dj(this.name,h);return n.ra?n.ra(a,b,c,d,e,f,g,k,m):n.call(null,a,b,c,d,e,f,g,k,m)};
l.da=function(a,b,c,d,e,f,g,k,m,h){var n=this.h.da?this.h.da(a,b,c,d,e,f,g,k,m,h):this.h.call(null,a,b,c,d,e,f,g,k,m,h),p=fj(this,n);r(p)||dj(this.name,n);return p.da?p.da(a,b,c,d,e,f,g,k,m,h):p.call(null,a,b,c,d,e,f,g,k,m,h)};l.ea=function(a,b,c,d,e,f,g,k,m,h,n){var p=this.h.ea?this.h.ea(a,b,c,d,e,f,g,k,m,h,n):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n),q=fj(this,p);r(q)||dj(this.name,p);return q.ea?q.ea(a,b,c,d,e,f,g,k,m,h,n):q.call(null,a,b,c,d,e,f,g,k,m,h,n)};
l.fa=function(a,b,c,d,e,f,g,k,m,h,n,p){var q=this.h.fa?this.h.fa(a,b,c,d,e,f,g,k,m,h,n,p):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p),u=fj(this,q);r(u)||dj(this.name,q);return u.fa?u.fa(a,b,c,d,e,f,g,k,m,h,n,p):u.call(null,a,b,c,d,e,f,g,k,m,h,n,p)};l.ga=function(a,b,c,d,e,f,g,k,m,h,n,p,q){var u=this.h.ga?this.h.ga(a,b,c,d,e,f,g,k,m,h,n,p,q):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q),y=fj(this,u);r(y)||dj(this.name,u);return y.ga?y.ga(a,b,c,d,e,f,g,k,m,h,n,p,q):y.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q)};
l.ha=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u){var y=this.h.ha?this.h.ha(a,b,c,d,e,f,g,k,m,h,n,p,q,u):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u),z=fj(this,y);r(z)||dj(this.name,y);return z.ha?z.ha(a,b,c,d,e,f,g,k,m,h,n,p,q,u):z.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u)};
l.ia=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y){var z=this.h.ia?this.h.ia(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y),C=fj(this,z);r(C)||dj(this.name,z);return C.ia?C.ia(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y):C.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y)};
l.ja=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z){var C=this.h.ja?this.h.ja(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z),F=fj(this,C);r(F)||dj(this.name,C);return F.ja?F.ja(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z):F.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z)};
l.ka=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C){var F=this.h.ka?this.h.ka(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C),K=fj(this,F);r(K)||dj(this.name,F);return K.ka?K.ka(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C):K.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C)};
l.la=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F){var K=this.h.la?this.h.la(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F),Q=fj(this,K);r(Q)||dj(this.name,K);return Q.la?Q.la(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F):Q.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F)};
l.ma=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K){var Q=this.h.ma?this.h.ma(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K),ga=fj(this,Q);r(ga)||dj(this.name,Q);return ga.ma?ga.ma(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K):ga.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K)};
l.na=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q){var ga=this.h.na?this.h.na(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q):this.h.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q),ha=fj(this,ga);r(ha)||dj(this.name,ga);return ha.na?ha.na(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q):ha.call(null,a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q)};
l.Xb=function(a,b,c,d,e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga){var ha=Le(this.h,a,b,c,d,kd([e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga],0)),E=fj(this,ha);r(E)||dj(this.name,ha);return Le(E,a,b,c,d,kd([e,f,g,k,m,h,n,p,q,u,y,z,C,F,K,Q,ga],0))};function gj(a,b,c){Df.w(a.qb,vd,b,c);$i(a.Fb,a.qb,a.tb,a.Cb)}
function fj(a,b){B.a(D.b?D.b(a.tb):D.call(null,a.tb),D.b?D.b(a.Cb):D.call(null,a.Cb))||$i(a.Fb,a.qb,a.tb,a.Cb);var c=(D.b?D.b(a.Fb):D.call(null,a.Fb)).call(null,b);if(r(c))return c;c=cj(a.name,b,a.Cb,a.qb,a.ad,a.Fb,a.tb);return r(c)?c:(D.b?D.b(a.qb):D.call(null,a.qb)).call(null,a.Qc)}l.vb=function(){return ac(this.name)};l.wb=function(){return bc(this.name)};l.R=function(){return this[ia]||(this[ia]=++ja)};var hj=new J(null,"y","y",-1757859776),ij=new J(null,"dynamite-2","dynamite-2",1571539456),jj=new J(null,"shift","shift",997140064),kj=new J(null,"dleft","dleft",-905011424),lj=new J(null,"mouseup","mouseup",350619456),mj=new J(null,"dpad-up","dpad-up",-581516384),nj=new J(null,"passable?","passable?",1012306625),oj=new J(null,"tiling","tiling",-1693991967),pj=new J(null,"nearest","nearest",1176353890),qj=new J(null,"down","down",1565245570),rj=new J(null,"children","children",-940561982),sj=new J(null,
"origins","origins",-1970258462),tj=new J(null,"fullscreen-fn","fullscreen-fn",1444163170),uj=new J(null,"r","r",-471384190),vj=new J(null,"space","space",348133475),wj=new J(null,"dright","dright",142530659),xj=new J(null,"home","home",-74557309),yj=new J(null,"xbox","xbox",568763555),zj=new J(null,"touchmove","touchmove",1885249923),Aj=new J(null,"insert","insert",1286475395),Bj=new J(null,"explosion-3","explosion-3",-1197026557),Cj=new J(null,"ore","ore",-1419191389),Dj=new J(null,"f8","f8",-2141475484),
Ej=new J(null,"rotation","rotation",-1728051644),Na=new J(null,"meta","meta",1499536964),Fj=new J(null,"stage","stage",1843544772),Gj=new J(null,"f1","f1",1714532389),Hj=new J(null,"left-dpad","left-dpad",-636533659),Ij=new J(null,"bumper-right","bumper-right",-1259439995),Jj=new vc(null,"blockable","blockable",-28395259,null),Oa=new J(null,"dup","dup",556298533),Kj=new J(null,"buttonmode","buttonmode",-1800695483),Lj=new J(null,"explosion-5","explosion-5",1913820901),Mj=new J(null,"pixel","pixel",
-1041447035),Nj=new J(null,"f10","f10",627525541),Oj=new J(null,"dynamite-4","dynamite-4",-1983570810),Pj=new J(null,"A","A",-1688942394),Qj=new J(null,"tl","tl",-35265210),Rj=new J(null,"private","private",-558947994),Sj=new vc(null,"meta27971","meta27971",1304263206,null),Tj=new J(null,"render-fn","render-fn",398796518),Uj=new J(null,"alt","alt",-3214426),Vj=new J(null,"trigger-right","trigger-right",840073158),Wj=new J(null,"scale","scale",-230427353),Xj=new J(null,"kerning","kerning",702175623),
Yj=new J(null,"top","top",-1856271961),Zj=new J(null,"esc","esc",-1671924121),ak=new vc(null,"meta26900","meta26900",-1823896953,null),bk=new J(null,"dynamite-3","dynamite-3",139115175),ck=new J(null,"right-dpad","right-dpad",1479486183),Bf=new J(null,"validator","validator",-1966190681),dk=new J(null,"highlight","highlight",-800930873),ek=new J(null,"fade-out","fade-out",-1200160760),fk=new J(null,"stone","stone",-59276120),gk=new J(null,"default","default",-1987822328),hk=new J(null,"numbers","numbers",
1036309864),ik=new J(null,"finally-block","finally-block",832982472),jk=new J(null,"walking","walking",-862303159),kk=new J(null,"ladder-top","ladder-top",-326004023),lk=new J(null,"comma","comma",1699024745),mk=new J(null,"tr","tr",-1424774646),nk=new J(null,"bl","bl",8157834),ok=new J(null,"space-padding","space-padding",-1788019062),pk=new J(null,"minus-v-edge","minus-v-edge",855862186),qk=new J(null,"numlock","numlock",-1383996470),rk=new J(null,"ddown","ddown",-1732626293),sk=new J(null,"width",
"width",-384071477),tk=new J(null,"start","start",-355208981),uk=new J(null,"background","background",-863952629),vk=new J(null,"lowlight-width","lowlight-width",-984309493),wk=new J(null,"left-trigger","left-trigger",-1587109429),xk=new J(null,"climbing","climbing",-2015694357),yk=new J(null,"dynamite-5","dynamite-5",396200619),zk=new J(null,"f5","f5",1587057387),Ak=new J(null,"pageup","pageup",1714543403),Bk=new J(null,"explosion-6","explosion-6",1039814539),Ck=new J(null,"pos","pos",-864607220),
Ni=new J(null,"val","val",128701612),R=new J(null,"recur","recur",-437573268),Dk=new J(null,"B","B",-1422503380),Ek=new J(null,"crate","crate",869660268),Fk=new J(null,"catch-block","catch-block",1175212748),Gk=new J(null,"delete","delete",-1768633620),Hk=new J(null,"duration","duration",1444101068),Mi=new J(null,"fallback-impl","fallback-impl",-1501286995),La=new J(null,"flush-on-newline","flush-on-newline",-151457939),Ik=new J(null,"/","/",1282502798),Jk=new J(null,"dpad-down","dpad-down",976289230),
Lk=new J(null,"dpad-left","dpad-left",770792559),Mk=new J(null,"dirt-top","dirt-top",116862095),Nk=new J(null,"up","up",-269712113),Wi=new J(null,"descendants","descendants",1824886031),Ok=new J(null,"canvas","canvas",-1798817489),Pk=new J(null,"renderer","renderer",336841071),Qk=new J(null,"font","font",-1506159249),Rk=new J(null,"size","size",1098693007),Sk=new J(null,"title","title",636505583),Tk=new J(null,"tint","tint",-1286736913),Uk=new J(null,"center","center",-748944368),Vk=new J(null,"down-dpad",
"down-dpad",355273744),Wk=new J(null,"enter","enter",1792452624),Xi=new J(null,"ancestors","ancestors",-776045424),Xk=new vc(null,"meta27825","meta27825",1596560720,null),Yk=new J(null,"backtick","backtick",44770640),Zk=new J(null,"bottom-left","bottom-left",1607421488),$k=new J(null,"gold","gold",-806826416),al=new J(null,"rb","rb",1673817808),Ma=new J(null,"readably","readably",1129599760),bl=new vc(null,"box","box",-1123515375,null),Di=new J(null,"more-marker","more-marker",-14717935),cl=new J(null,
"world","world",-418292623),dl=new J(null,"z","z",-789527183),el=new J(null,"dirt-bottom","dirt-bottom",527821233),fl=new J(null,"f11","f11",-1417398799),gl=new J(null,"right-bumper","right-bumper",102520465),hl=new J(null,"ladder-top-fg","ladder-top-fg",1074698993),il=new J(null,"particle","particle",-1614503951),jl=new J(null,"mousemove","mousemove",-1077794734),kl=new J(null,"right-trigger","right-trigger",-1735119790),ll=new J(null,"border-width","border-width",-1512605390),ml=new J(null,"h-edge",
"h-edge",361728594),nl=new J(null,"border-colour","border-colour",-173895822),ol=new J(null,"lb","lb",-690221037),pl=new J(null,"layer","layer",-1601820589),ql=new J(null,"tilemap","tilemap",407449043),rl=new J(null,".",".",335144435),sl=new J(null,"f3","f3",1954829043),tl=new vc(null,"val","val",1769233139,null),ul=new J(null,"quote","quote",-262615245),vl=new J(null,"ui","ui",-469653645),wl=new J(null,"tiling-width","tiling-width",-97440781),Pa=new J(null,"print-length","print-length",1931866356),
xl=new J(null,"empty-colour","empty-colour",-1488420524),yl=new J(null,"f2","f2",396168596),zl=new J(null,"Y","Y",-560717356),Al=new J(null,"back","back",-417520012),Bl=new J(null,"control","control",1892578036),Cl=new J(null,"rt","rt",623480692),Dl=new J(null,"yhandle","yhandle",608395252),El=new J(null,"catch-exception","catch-exception",-1997306795),Fl=new J(null,"v-edge","v-edge",1520206005),Gl=new J(null,"squareleft","squareleft",-1212370731),Re=new vc(null,"meta24657","meta24657",-337942219,
null),Hl=new J(null,"dynamite-1","dynamite-1",-1433442987),Il=new J(null,"dpad-right","dpad-right",-519676523),Jl=new J(null,"touchup","touchup",890910229),Vi=new J(null,"parents","parents",-2027538891),Kl=new J(null,"scrolllock","scrolllock",-960203019),Ll=new J(null,"prev","prev",-1597069226),Ml=new J(null,"tiling-height","tiling-height",-1474681674),Nl=new J(null,"f12","f12",853352790),Ol=new J(null,"capslock","capslock",442493366),Pl=new J(null,"continue-block","continue-block",-1852047850),Ql=
new J(null,"b","b",1482224470),Rl=new J(null,"alpha","alpha",-1574982441),Sl=new J(null,"translate","translate",1336199447),Tl=new J(null,"right","right",-452581833),Ul=new J(null,"expand-fn","expand-fn",492373783),Vl=new J(null,"trigger-left","trigger-left",1924771607),Wl=new J(null,"default-layer","default-layer",385967031),Xl=new J(null,"explosion-2","explosion-2",1004411863),Yl=new J(null,"layers","layers",1944875032),Zl=new J(null,"pagedown","pagedown",-2069718984),$l=new J(null,"position","position",
-2011731912),am=new J(null,"highlight-width","highlight-width",1191874776),bm=new J(null,"image","image",-58725096),cm=new J(null,"ladder","ladder",956303832),dm=new J(null,"lowlight","lowlight",2143243768),em=new J(null,"tiles","tiles",178505240),fm=new J(null,"pause","pause",-2095325672),gm=new J(null,"br","br",934104792),hm=new J(null,"backspace","backspace",-696007848),im=new J(null,"f7","f7",356150168),jm=new J(null,"X","X",1705996313),km=new J(null,"x","x",2099068185),lm=new J(null,"effect",
"effect",347343289),mm=new J(null,"bumper-left","bumper-left",316788185),nm=new J(null,"audio","audio",1819127321),om=new J(null,"engine","engine",1459054265),pm=new J(null,"anchor","anchor",1549638489),qm=new J(null,"linear","linear",872268697),rm=new J(null,"touchupoutside","touchupoutside",2132569017),sm=new J(null,"lowlight-offset","lowlight-offset",-612034438),tm=new J(null,"draw-border","draw-border",-1950022342),um=new J(null,"left-bumper","left-bumper",2056098138),Qe=new vc(null,"quote","quote",
1377916282,null),vm=new J(null,"above","above",-1286866470),wm=new J(null,"f9","f9",704633338),xm=new J(null,"end","end",-268185958),ym=new J(null,"full-colour","full-colour",50761434),zm=new J(null,"mousedown","mousedown",1391242074),Pe=new J(null,"arglists","arglists",1661989754),Oe=new vc(null,"nil-iter","nil-iter",1101030523,null),Am=new J(null,"explosion-4","explosion-4",1192307899),Bm=new J(null,"visible","visible",-1024216805),Cm=new J(null,"hierarchy","hierarchy",-1053470341),Dm=new J(null,
"tab","tab",-559583621),Li=new J(null,"alt-impl","alt-impl",670969595),Em=new J(null,"backdrop","backdrop",-1291357381),Fm=new J(null,"bg","bg",-206688421),Gm=new J(null,"lt","lt",421989243),Hm=new vc(null,"fn-handler","fn-handler",648785851,null),Im=new J(null,"prevent-defaults","prevent-defaults",977810460),Jm=new J(null,"f6","f6",2103080604),Km=new J(null,"auto","auto",-566279492),Lm=new J(null,"mouseupoutside","mouseupoutside",190065436),Mm=new J(null,"f4","f4",990968764),Nm=new J(null,"ore-big",
"ore-big",1846783996),Om=new J(null,"expand","expand",595248157),Pm=new J(null,"stats","stats",-85643011),Qm=new J(null,"below","below",-926774883),Rm=new J(null,"texture","texture",-266291651),Sm=new J(null,"dirt","dirt",-349415459),Tm=new J(null,"dirt-top-bottom","dirt-top-bottom",646940798),Um=new J(null,"touchdown","touchdown",425229502),Vm=new J(null,"fullscreen-button","fullscreen-button",1597770110),Wm=new J(null,"resize-fn","resize-fn",2017140158),Xm=new J(null,"char","char",-641587586),Ym=
new J(null,"a","a",-2123407586),Zm=new J(null,"highlight-offset","highlight-offset",-1920235650),$m=new J(null,"backslash","backslash",1790786526),an=new J(null,"height","height",1025178622),bs=new J(null,"explosion-1","explosion-1",-1829481345),cs=new J(null,"minus-h-edge","minus-h-edge",498490559),ds=new J(null,"left","left",-399115937),es=new J(null,"web","web",-654701153),fs=new J(null,"squareright","squareright",1890515359),gs=new J(null,"up-dpad","up-dpad",-1769393697),hs=new J(null,"fade-in",
"fade-in",999370239),is=new J(null,"to","to",192099007),js=new J(null,"pot","pot",640262911),ks=new J(null,"xhandle","xhandle",373504767),ls=new vc(null,"f","f",43394975,null);var ms,ns=function ns(b,c){if(null!=b&&null!=b.bc)return b.bc(0,c);var d=ns[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=ns._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("ReadPort.take!",b);},os=function os(b,c,d){if(null!=b&&null!=b.Nb)return b.Nb(0,c,d);var e=os[fa(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=os._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw Ta("WritePort.put!",b);},ps=function ps(b){if(null!=b&&null!=
b.Mb)return b.Mb();var c=ps[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=ps._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("Channel.close!",b);},qs=function qs(b){if(null!=b&&null!=b.rc)return!0;var c=qs[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=qs._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("Handler.active?",b);},rs=function rs(b){if(null!=b&&null!=b.sc)return b.Ha;var c=rs[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,
b);c=rs._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("Handler.commit",b);},ss=function ss(b,c){if(null!=b&&null!=b.qc)return b.qc(0,c);var d=ss[fa(null==b?null:b)];if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);d=ss._;if(null!=d)return d.a?d.a(b,c):d.call(null,b,c);throw Ta("Buffer.add!*",b);},ts=function ts(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 1:return ts.b(arguments[0]);case 2:return ts.a(arguments[0],arguments[1]);
default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};ts.b=function(a){return a};ts.a=function(a,b){if(null==b)throw Error("Assert failed: (not (nil? itm))");return ss(a,b)};ts.C=2;function us(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function vs(a,b,c,d){this.head=a;this.H=b;this.length=c;this.f=d}vs.prototype.pop=function(){if(0===this.length)return null;var a=this.f[this.H];this.f[this.H]=null;this.H=(this.H+1)%this.f.length;--this.length;return a};vs.prototype.unshift=function(a){this.f[this.head]=a;this.head=(this.head+1)%this.f.length;this.length+=1;return null};function ws(a,b){a.length+1===a.f.length&&a.resize();a.unshift(b)}
vs.prototype.resize=function(){var a=Array(2*this.f.length);return this.H<this.head?(us(this.f,this.H,a,0,this.length),this.H=0,this.head=this.length,this.f=a):this.H>this.head?(us(this.f,this.H,a,0,this.f.length-this.H),us(this.f,0,a,this.f.length-this.H,this.head),this.H=0,this.head=this.length,this.f=a):this.H===this.head?(this.head=this.H=0,this.f=a):null};function xs(a,b){for(var c=a.length,d=0;;)if(d<c){var e=a.pop();(b.b?b.b(e):b.call(null,e))&&a.unshift(e);d+=1}else break}
function ys(a){if(!(0<a))throw Error([t("Assert failed: "),t("Can't create a ring buffer of size 0"),t("\n"),t("(\x3e n 0)")].join(""));return new vs(0,0,0,Array(a))}function zs(a,b){this.F=a;this.n=b;this.i=2;this.A=0}function As(a){return a.F.length===a.n}zs.prototype.qc=function(a,b){ws(this.F,b);return this};zs.prototype.Z=function(){return this.F.length};if("undefined"===typeof Bs)var Bs={};var Cs;a:{var Ds=aa.navigator;if(Ds){var Es=Ds.userAgent;if(Es){Cs=Es;break a}}Cs=""};var Fs;
function Gs(){var a=aa.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==Cs.indexOf("Presto")&&(a=function(){var b=document.createElement("IFRAME");b.style.display="none";b.src="";document.documentElement.appendChild(b);var a=b.contentWindow,b=a.document;b.open();b.write("");b.close();var c="callImmediate"+Math.random(),d="file:"==a.location.protocol?"*":a.location.protocol+"//"+a.location.host,b=ma(function(b){if(("*"==d||b.origin==
d)&&b.data==c)this.port1.onmessage()},this);a.addEventListener("message",b,!1);this.port1={};this.port2={postMessage:function(){a.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Cs.indexOf("Trident")&&-1==Cs.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var b=c.jc;c.jc=null;b()}};return function(a){d.next={jc:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(b){var a=
document.createElement("SCRIPT");a.onreadystatechange=function(){a.onreadystatechange=null;a.parentNode.removeChild(a);a=null;b();b=null};document.documentElement.appendChild(a)}:function(b){aa.setTimeout(b,0)}};var Hs=ys(32),Is=!1,Js=!1;function Ks(){Is=!0;Js=!1;for(var a=0;;){var b=Hs.pop();if(null!=b&&(b.j?b.j():b.call(null),1024>a)){a+=1;continue}break}Is=!1;return 0<Hs.length?Ls.j?Ls.j():Ls.call(null):null}function Ls(){var a=Js;if(r(r(a)?Is:a))return null;Js=!0;"function"!=fa(aa.setImmediate)||aa.Window&&aa.Window.prototype&&-1==Cs.indexOf("Edge")&&aa.Window.prototype.setImmediate==aa.setImmediate?(Fs||(Fs=Gs()),Fs(Ks)):aa.setImmediate(Ks)}function Ms(a){ws(Hs,a);return Ls()};var Ns,Os=function Os(b){"undefined"===typeof Ns&&(Ns=function(b,a,e){this.yc=b;this.ya=a;this.Wc=e;this.i=425984;this.A=0},Ns.prototype.O=function(b,a){return new Ns(this.yc,this.ya,a)},Ns.prototype.K=function(){return this.Wc},Ns.prototype.Wb=function(){return this.ya},Ns.cc=function(){return new L(null,3,5,N,[ld(bl,new Ja(null,1,[Pe,je(Qe,je(new L(null,1,5,N,[tl],null)))],null)),tl,ak],null)},Ns.Ab=!0,Ns.fb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels26899",Ns.Ob=function(b,a){return Nb(a,
"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels26899")});return new Ns(Os,b,Se)};function Ps(a,b){this.Bb=a;this.ya=b}function Qs(a){return qs(a.Bb)}var Rs=function Rs(b){if(null!=b&&null!=b.pc)return b.pc();var c=Rs[fa(null==b?null:b)];if(null!=c)return c.b?c.b(b):c.call(null,b);c=Rs._;if(null!=c)return c.b?c.b(b):c.call(null,b);throw Ta("MMC.abort",b);};function Ss(a,b,c,d,e,f,g){this.kb=a;this.Qb=b;this.bb=c;this.Pb=d;this.F=e;this.closed=f;this.Ga=g}
Ss.prototype.pc=function(){for(;;){var a=this.bb.pop();if(null!=a){var b=a.Bb;Ms(function(b){return function(){return b.b?b.b(!0):b.call(null,!0)}}(b.Ha,b,a.ya,a,this))}break}xs(this.bb,Ve());return ps(this)};
Ss.prototype.Nb=function(a,b,c){var d=this;if(null==b)throw Error([t("Assert failed: "),t("Can't put nil in on a channel"),t("\n"),t("(not (nil? val))")].join(""));if(a=d.closed)return Os(!a);if(r(function(){var b=d.F;return r(b)?Ra(As(d.F)):b}())){for(c=Jc(d.Ga.a?d.Ga.a(d.F,b):d.Ga.call(null,d.F,b));;){if(0<d.kb.length&&0<H(d.F)){var e=d.kb.pop(),f=e.Ha,g=d.F.F.pop();Ms(function(b,a){return function(){return b.b?b.b(a):b.call(null,a)}}(f,g,e,c,a,this))}break}c&&Rs(this);return Os(!0)}e=function(){for(;;){var b=
d.kb.pop();if(r(b)){if(r(!0))return b}else return null}}();if(r(e))return c=rs(e),Ms(function(a){return function(){return a.b?a.b(b):a.call(null,b)}}(c,e,a,this)),Os(!0);64<d.Pb?(d.Pb=0,xs(d.bb,Qs)):d.Pb+=1;if(r(c.ac(null))){if(!(1024>d.bb.length))throw Error([t("Assert failed: "),t([t("No more than "),t(1024),t(" pending puts are allowed on a single channel."),t(" Consider using a windowed buffer.")].join("")),t("\n"),t("(\x3c (.-length puts) impl/MAX-QUEUE-SIZE)")].join(""));ws(d.bb,new Ps(c,b))}return null};
Ss.prototype.bc=function(a,b){var c=this;if(null!=c.F&&0<H(c.F)){for(var d=b.Ha,e=Os(c.F.F.pop());;){if(!r(As(c.F))){var f=c.bb.pop();if(null!=f){var g=f.Bb,k=f.ya;Ms(function(b){return function(){return b.b?b.b(!0):b.call(null,!0)}}(g.Ha,g,k,f,d,e,this));Jc(c.Ga.a?c.Ga.a(c.F,k):c.Ga.call(null,c.F,k))&&Rs(this);continue}}break}return e}d=function(){for(;;){var b=c.bb.pop();if(r(b)){if(qs(b.Bb))return b}else return null}}();if(r(d))return e=rs(d.Bb),Ms(function(b){return function(){return b.b?b.b(!0):
b.call(null,!0)}}(e,d,this)),Os(d.ya);if(r(c.closed))return r(c.F)&&(c.Ga.b?c.Ga.b(c.F):c.Ga.call(null,c.F)),r(r(!0)?b.Ha:!0)?(d=function(){var b=c.F;return r(b)?0<H(c.F):b}(),d=r(d)?c.F.F.pop():null,Os(d)):null;64<c.Qb?(c.Qb=0,xs(c.kb,qs)):c.Qb+=1;if(r(b.ac(null))){if(!(1024>c.kb.length))throw Error([t("Assert failed: "),t([t("No more than "),t(1024),t(" pending takes are allowed on a single channel.")].join("")),t("\n"),t("(\x3c (.-length takes) impl/MAX-QUEUE-SIZE)")].join(""));ws(c.kb,b)}return null};
Ss.prototype.Mb=function(){var a=this;if(!a.closed)for(a.closed=!0,r(function(){var b=a.F;return r(b)?0===a.bb.length:b}())&&(a.Ga.b?a.Ga.b(a.F):a.Ga.call(null,a.F));;){var b=a.kb.pop();if(null==b)break;else{var c=b.Ha,d=r(function(){var b=a.F;return r(b)?0<H(a.F):b}())?a.F.F.pop():null;Ms(function(b,a){return function(){return b.b?b.b(a):b.call(null,a)}}(c,d,b,this))}}return null};function Ts(a){console.log(a);return null}
function Us(a,b){var c=(r(null)?null:Ts).call(null,b);return null==c?a:ts.a(a,c)}
function Vs(a){return new Ss(ys(32),0,ys(32),0,a,!1,function(){return function(b){return function(){function a(c,d){try{return b.a?b.a(c,d):b.call(null,c,d)}catch(e){return Us(c,e)}}function d(a){try{return b.b?b.b(a):b.call(null,a)}catch(c){return Us(a,c)}}var e=null,e=function(b,e){switch(arguments.length){case 1:return d.call(this,b);case 2:return a.call(this,b,e)}throw Error("Invalid arity: "+arguments.length);};e.b=d;e.a=a;return e}()}(r(null)?null.b?null.b(ts):null.call(null,ts):ts)}())};var Ws,Xs=function Xs(b){"undefined"===typeof Ws&&(Ws=function(b,a,e){this.Sc=b;this.Ha=a;this.Xc=e;this.i=393216;this.A=0},Ws.prototype.O=function(b,a){return new Ws(this.Sc,this.Ha,a)},Ws.prototype.K=function(){return this.Xc},Ws.prototype.rc=function(){return!0},Ws.prototype.ac=function(){return!0},Ws.prototype.sc=function(){return this.Ha},Ws.cc=function(){return new L(null,3,5,N,[ld(Hm,new Ja(null,2,[Rj,!0,Pe,je(Qe,je(new L(null,1,5,N,[ls],null)))],null)),ls,Xk],null)},Ws.Ab=!0,Ws.fb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers27824",
Ws.Ob=function(b,a){return Nb(a,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers27824")});return new Ws(Xs,b,Se)};function Ys(a){try{return a[0].call(null,a)}catch(b){throw b instanceof Object&&a[6].Mb(),b;}}function Zs(a,b,c){c=c.bc(0,Xs(function(c){a[2]=c;a[1]=b;return Ys(a)}));return r(c)?(a[2]=D.b?D.b(c):D.call(null,c),a[1]=b,R):null}function $s(a,b,c,d){c=c.Nb(0,d,Xs(function(c){a[2]=c;a[1]=b;return Ys(a)}));return r(c)?(a[2]=D.b?D.b(c):D.call(null,c),a[1]=b,R):null}
function at(a,b){var c=a[6];null!=b&&c.Nb(0,b,Xs(function(){return function(){return null}}(c)));c.Mb();return c}function bt(a,b,c,d,e,f,g,k){this.Oa=a;this.Pa=b;this.Ra=c;this.Qa=d;this.Ta=e;this.Va=f;this.Fa=g;this.u=k;this.i=2229667594;this.A=8192}l=bt.prototype;l.T=function(a,b){return ib.c(this,b,null)};
l.M=function(a,b,c){switch(b instanceof J?b.Ia:null){case "catch-block":return this.Oa;case "catch-exception":return this.Pa;case "finally-block":return this.Ra;case "continue-block":return this.Qa;case "prev":return this.Ta;default:return v.c(this.Fa,b,c)}};
l.U=function(a,b,c){return Ci(b,function(){return function(a){return Ci(b,Ji,""," ","",c,a)}}(this),"#cljs.core.async.impl.ioc-helpers.ExceptionFrame{",", ","}",c,Fe.a(new L(null,5,5,N,[new L(null,2,5,N,[Fk,this.Oa],null),new L(null,2,5,N,[El,this.Pa],null),new L(null,2,5,N,[ik,this.Ra],null),new L(null,2,5,N,[Pl,this.Qa],null),new L(null,2,5,N,[Ll,this.Ta],null)],null),this.Fa))};l.Ka=function(){return new Dh(0,this,5,new L(null,5,5,N,[Fk,El,ik,Pl,Ll],null),ec(this.Fa))};l.K=function(){return this.Va};
l.Z=function(){return 5+H(this.Fa)};l.R=function(){var a=this.u;if(null!=a)return a;a:for(var a=0,b=w(this);;)if(b)var c=x(b),a=(a+(tc(Oh.b?Oh.b(c):Oh.call(null,c))^tc(Ph.b?Ph.b(c):Ph.call(null,c))))%4503599627370496,b=A(b);else break a;return this.u=a};l.v=function(a,b){var c;c=r(b)?(c=this.constructor===b.constructor)?Ch(this,b):c:b;return r(c)?!0:!1};
l.Jb=function(a,b){return Ld(new vi(null,new Ja(null,5,[ik,null,Fk,null,El,null,Ll,null,Pl,null],null),null),b)?xd.a(ld(Jf.a(Se,this),this.Va),b):new bt(this.Oa,this.Pa,this.Ra,this.Qa,this.Ta,this.Va,Me(xd.a(this.Fa,b)),null)};
l.mb=function(a,b,c){return r(le.a?le.a(Fk,b):le.call(null,Fk,b))?new bt(c,this.Pa,this.Ra,this.Qa,this.Ta,this.Va,this.Fa,null):r(le.a?le.a(El,b):le.call(null,El,b))?new bt(this.Oa,c,this.Ra,this.Qa,this.Ta,this.Va,this.Fa,null):r(le.a?le.a(ik,b):le.call(null,ik,b))?new bt(this.Oa,this.Pa,c,this.Qa,this.Ta,this.Va,this.Fa,null):r(le.a?le.a(Pl,b):le.call(null,Pl,b))?new bt(this.Oa,this.Pa,this.Ra,c,this.Ta,this.Va,this.Fa,null):r(le.a?le.a(Ll,b):le.call(null,Ll,b))?new bt(this.Oa,this.Pa,this.Ra,
this.Qa,c,this.Va,this.Fa,null):new bt(this.Oa,this.Pa,this.Ra,this.Qa,this.Ta,this.Va,vd.c(this.Fa,b,c),null)};l.$=function(){return w(Fe.a(new L(null,5,5,N,[new L(null,2,5,N,[Fk,this.Oa],null),new L(null,2,5,N,[El,this.Pa],null),new L(null,2,5,N,[ik,this.Ra],null),new L(null,2,5,N,[Pl,this.Qa],null),new L(null,2,5,N,[Ll,this.Ta],null)],null),this.Fa))};l.O=function(a,b){return new bt(this.Oa,this.Pa,this.Ra,this.Qa,this.Ta,b,this.Fa,this.u)};
l.Y=function(a,b){return Fd(b)?lb(this,db.a(b,0),db.a(b,1)):Md(bb,this,b)};function ct(a,b,c,d,e){a[4]=new bt(b,c,d,e,a[4],null,null,null)}
function dt(a){for(;;){var b=a[4],c=Fk.b(b),d=El.b(b),e=a[5];if(r(function(){var a=e;return r(a)?Ra(b):a}()))throw e;if(r(function(){var b=e;return r(b)?(b=c,r(b)?B.a(gk,d)||e instanceof d:b):b}())){a[1]=c;a[2]=e;a[5]=null;a[4]=vd.s(b,Fk,null,kd([El,null],0));break}if(r(function(){var a=e;return r(a)?Ra(c)&&Ra(ik.b(b)):a}()))a[4]=Ll.b(b);else{if(r(function(){var a=e;return r(a)?(a=Ra(c))?ik.b(b):a:a}())){a[1]=ik.b(b);a[4]=vd.c(b,ik,null);break}if(r(function(){var a=Ra(e);return a?ik.b(b):a}())){a[1]=
ik.b(b);a[4]=vd.c(b,ik,null);break}if(Ra(e)&&Ra(ik.b(b))){a[1]=Pl.b(b);a[4]=Ll.b(b);break}throw Error("No matching clause");}}};for(var et=Array(1),ft=0;;)if(ft<et.length)et[ft]=null,ft+=1;else break;function gt(a){"undefined"===typeof ms&&(ms=function(b,a,d){this.Ha=b;this.ic=a;this.Yc=d;this.i=393216;this.A=0},ms.prototype.O=function(b,a){return new ms(this.Ha,this.ic,a)},ms.prototype.K=function(){return this.Yc},ms.prototype.rc=function(){return!0},ms.prototype.ac=function(){return this.ic},ms.prototype.sc=function(){return this.Ha},ms.cc=function(){return new L(null,3,5,N,[ls,Jj,Sj],null)},ms.Ab=!0,ms.fb="cljs.core.async/t_cljs$core$async27970",ms.Ob=function(b,a){return Nb(a,"cljs.core.async/t_cljs$core$async27970")});
return new ms(a,!0,Se)}function ht(a){a=B.a(a,0)?null:a;if(r(null)&&!r(a))throw Error([t("Assert failed: "),t("buffer must be supplied when transducer is"),t("\n"),t("buf-or-n")].join(""));a="number"===typeof a?new zs(ys(a),a):a;return Vs(a)}function it(a,b){return jt(a,b)}function jt(a,b){var c=ns(a,gt(b));if(r(c)){var d=D.b?D.b(c):D.call(null,c);r(!0)?b.b?b.b(d):b.call(null,d):Ms(function(a){return function(){return b.b?b.b(a):b.call(null,a)}}(d,c))}return null}var kt=gt(function(){return null});
function lt(a,b){var c=os(a,b,kt);return r(c)?D.b?D.b(c):D.call(null,c):!0};if("undefined"===typeof mt)var mt=function(){var a=$e?$e(Se):Ye.call(null,Se),b=$e?$e(Se):Ye.call(null,Se),c=$e?$e(Se):Ye.call(null,Se),d=$e?$e(Se):Ye.call(null,Se),e=v.c(Se,Cm,Ui());return new ej(xc.a("infinitelives.utils.resources","load"),function(){return function(b){return rd(b.split(".")).toLowerCase()}}(a,b,c,d,e),gk,e,a,b,c,d)}();
if("undefined"===typeof nt)var nt=function(){var a=$e?$e(Se):Ye.call(null,Se),b=$e?$e(Se):Ye.call(null,Se),c=$e?$e(Se):Ye.call(null,Se),d=$e?$e(Se):Ye.call(null,Se),e=v.c(Se,Cm,Ui());return new ej(xc.a("infinitelives.utils.resources","register!"),function(){return function(b){return rd(b.split(".")).toLowerCase()}}(a,b,c,d,e),gk,e,a,b,c,d)}();
function ot(a,b){var c=ht(null),d=H(a);Bi(Ef.a(function(b,a){return function(c){return it(mt.b?mt.b(c):mt.call(null,c),function(b){return function(a){return lt(b,a)}}(b,a))}}(c,d),a));var e=ht(1);Ms(function(a,c,d){return function(){var e=function(){return function(b){return function(){function a(c){for(;;){var d;a:try{for(;;){var f=b(c);if(!le(f,R)){d=f;break a}}}catch(e){if(e instanceof Object)c[5]=e,dt(c),d=R;else throw e;}if(!le(d,R))return d}}function c(){var b=[null,null,null,null,null,null,
null,null,null,null,null,null,null];b[0]=d;b[1]=1;return b}var d=null,d=function(b){switch(arguments.length){case 0:return c.call(this);case 1:return a.call(this,b)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=a;return d}()}(function(a,c,d){return function(a){var f=a[1];if(7===f)return f=a[7],f=f<d,a[8]=a[2],a[1]=r(f)?8:9,R;if(1===f){var e=Nh;a[7]=1;a[9]=e;a[2]=null;a[1]=2;return R}if(4===f){var e=a[10],g=a[11],e=a[9],g=a[2],f=I(g,0,null),g=I(g,1,null),h=nt.a?nt.a(f,g):nt.call(null,
f,g),e=vd.c(e,f,h);a[10]=g;a[12]=e;a[11]=f;a[1]=r(b)?5:6;return R}return 6===f?(a[2]=null,a[1]=7,R):3===f?at(a,a[2]):2===f?Zs(a,4,c):9===f?(e=a[12],a[2]=e,a[1]=10,R):5===f?(e=a[10],g=a[11],f=a[7],f=b.w?b.w(f,d,g,e):b.call(null,f,d,g,e),a[2]=f,a[1]=7,R):10===f?(a[2]=a[2],a[1]=3,R):8===f?(e=a[12],f=a[7],a[7]=f+1,a[9]=e,a[2]=null,a[1]=2,R):null}}(a,c,d),a,c,d)}(),h=function(){var b=e.j?e.j():e.call(null);b[6]=a;return b}();return Ys(h)}}(e,c,d));return e};var pt=r(window.AudioContext)?new window.AudioContext:new window.webkitAudioContext;if("undefined"===typeof qt)var qt=$e?$e(Se):Ye.call(null,Se);function rt(a){var b=new XMLHttpRequest,c=ht(null);b.open("GET",a,!0);b.responseType="arraybuffer";b.onload=function(b,c){return function(){return pt.decodeAudioData(b.response,function(b,c){return function(b){return lt(c,new L(null,2,5,N,[a,b],null))}}(b,c))}}(b,c);b.send();return c}gj(mt,"ogg",function(a){return rt(a)});gj(mt,"mp3",function(a){return rt(a)});
gj(mt,"wav",function(a){return rt(a)});function st(a,b){Df.w(qt,vd,ne.b(x(rd(a.split("/")).split("."))),b);return new Ja(null,1,[nm,b],null)}gj(nt,"ogg",function(a,b){return st(a,b)});gj(nt,"mp3",function(a,b){return st(a,b)});gj(nt,"wav",function(a,b){return st(a,b)});if("undefined"===typeof tt)var tt=!0;var ut=$e?$e(Se):Ye.call(null,Se);if("undefined"===typeof vt){var vt,wt=new Ja(null,1,[Im,!0],null);vt=$e?$e(wt):Ye.call(null,wt)}
var zt=ti.s(kd([wd([jj,qj,vj,xj,Aj,Dj,Gj,Nj,Uj,Zj,lk,qk,zk,Ak,Gk,Ik,Nk,Wk,Yk,fl,rl,sl,ul,yl,Bl,Gl,Kl,Nl,Ol,Tl,Zl,fm,hm,im,wm,xm,Dm,Jm,Mm,$m,ds,fs],[16,40,32,36,45,119,112,121,18,27,188,144,116,33,46,191,38,13,192,122,190,114,222,113,17,219,145,123,20,39,34,19,8,118,120,35,9,117,115,220,37,221]),function xt(b){return new pe(null,function(){for(;;){var a=w(b);if(a){if(Gd(a)){var d=Xb(a),e=H(d),f=ye(e);a:for(var g=0;;)if(g<e){var k=db.a(d,g),k=new L(null,2,5,N,[ne.b(""+t(k)),k.charCodeAt(0)-32],null);
f.add(k);g+=1}else{d=!0;break a}return d?Ae(f.X(),xt(Yb(a))):Ae(f.X(),null)}f=x(a);return dd(new L(null,2,5,N,[ne.b(""+t(f)),f.charCodeAt(0)-32],null),xt(zc(a)))}return null}},null,null)}("0123456789abcdefghijklmnopqrstuvwxyz"),function yt(b){return new pe(null,function(){for(;;){var a=w(b);if(a){if(Gd(a)){var d=Xb(a),e=H(d),f=ye(e);a:for(var g=0;;)if(g<e){var k=db.a(d,g);f.add(new L(null,2,5,N,[k,k.charCodeAt(0)-32],null));g+=1}else{d=!0;break a}return d?Ae(f.X(),yt(Yb(a))):Ae(f.X(),null)}f=x(a);
return dd(new L(null,2,5,N,[f,f.charCodeAt(0)-32],null),yt(zc(a)))}return null}},null,null)}("0123456789abcdefghijklmnopqrstuvwxyz,.;'[]-\x3d`/\\")],0));function At(a){return(D.b?D.b(ut):D.call(null,ut)).call(null,zt.b?zt.b(a):zt.call(null,a))}
var Bt=r(window.requestAnimationFrame)?function(a){return window.requestAnimationFrame(a)}:r(window.webkitRequestAnimationFrame)?function(a){return window.webkitRequestAnimationFrame(a)}:r(window.mozRequestAnimationFrame)?function(a){return window.mozRequestAnimationFrame(a)}:r(window.oRequestAnimationFrame)?function(a){return window.oRequestAnimationFrame(a)}:r(window.msRequestAnimationFrame)?function(a){return window.msRequestAnimationFrame(a)}:function(a){return window.setTimeout(a,1E3/60)};
function Ct(){var a=ht(null),b=function(b){return function(){return ps(b)}}(a);Bt.b?Bt.b(b):Bt.call(null,b);return a}var Dt=$e?$e(xi):Ye.call(null,xi);function Et(){var a=ht(null);Df.c(Dt,sd,a);return a}
var Ft=$e?$e(xi):Ye.call(null,xi),Gt=function Gt(){Bt.b?Bt.b(Gt):Bt.call(null,Gt);for(var b=w(D.b?D.b(Ft):D.call(null,Ft)),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e);lt(f,!0);e+=1}else if(b=w(b))c=b,Gd(c)?(b=Xb(c),d=Yb(c),c=b,f=H(b),b=d,d=f):(f=x(c),lt(f,!0),b=A(c),c=null,d=0),e=0;else return null},Ht=r(navigator.getGamepads)?function(){return navigator.getGamepads.apply(navigator,td)}:r(navigator.wegkitGetGamepads)?function(){return navigator.webkitGetGamepads.apply(navigator,td)}:function(){return Ac};
$e||Ye.call(null,null);$e||Ye.call(null,null);$e||Ye.call(null,null);$e||Ye.call(null,null);$e||Ye.call(null,td);$e||Ye.call(null,!1);window.addEventListener("keydown",function(a){Df.a(ut,function(b){return vd.c(b,a.keyCode,!0)});return r(function(){if(r(tt)){var b=a.ctrlKey;return r(b)?a.shiftKey:b}return tt}())?!1:r(Im.b(D.b?D.b(vt):D.call(null,vt)))?a.preventDefault():!1});
window.addEventListener("keyup",function(a){Df.a(ut,function(b){return xd.a(b,a.keyCode)});return r(Im.b(D.b?D.b(vt):D.call(null,vt)))?a.preventDefault():!0});Bt.b?Bt.b(Gt):Bt.call(null,Gt);window.addEventListener("resize",function(){for(var a=new L(null,2,5,N,[window.innerWidth,window.innerHeight],null),b=w(D.b?D.b(Dt):D.call(null,Dt)),c=null,d=0,e=0;;)if(e<d){var f=c.L(null,e);lt(f,a);e+=1}else if(b=w(b))c=b,Gd(c)?(b=Xb(c),d=Yb(c),c=b,f=H(b),b=d,d=f):(f=x(c),lt(f,a),b=A(c),c=null,d=0),e=0;else return null});function It(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}It.prototype.BYTES_PER_ELEMENT=4;It.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};It.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(It.BYTES_PER_ELEMENT=4,It.prototype.BYTES_PER_ELEMENT=It.prototype.BYTES_PER_ELEMENT,It.prototype.set=It.prototype.set,It.prototype.toString=It.prototype.toString,ea("Float32Array",It));function Jt(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Jt.prototype.BYTES_PER_ELEMENT=8;Jt.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Jt.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Jt.BYTES_PER_ELEMENT=8}catch(a){}Jt.prototype.BYTES_PER_ELEMENT=Jt.prototype.BYTES_PER_ELEMENT;Jt.prototype.set=Jt.prototype.set;Jt.prototype.toString=Jt.prototype.toString;ea("Float64Array",Jt)};function Kt(){return new Float64Array(2)}function W(a,b){var c=Kt();c[0]=a;c[1]=b;return c}function Lt(a){var b=a[0];a=a[1];return b*b+a*a};function Mt(a,b){var c=Kt.j?Kt.j():Kt.call(null);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c}function Nt(a,b){var c=Kt.j?Kt.j():Kt.call(null);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c}function Ot(a,b){var c=Kt.j?Kt.j():Kt.call(null);c[0]=a[0]*b;c[1]=a[1]*b;return c}function Pt(a,b){var c=a[0];return W.a?W.a(c,b):W.call(null,c,b)};if("undefined"===typeof Qt)var Qt=$e?$e(Se):Ye.call(null,Se);function Rt(a){var b=(D.b?D.b(Qt):D.call(null,Qt)).call(null,a);if(r(b))return b;throw Error([t("Texture "),t(a),t(" not loaded")].join(""));}function St(a,b,c){var d=I(b,0,null);b=I(b,1,null);var e=I(c,0,null);c=I(c,1,null);return new PIXI.Texture(a,new PIXI.Rectangle(d,b,e,c))}
function Tt(a){var b=Ut;return Df.c(Qt,Jf,function(){return function d(b){return new pe(null,function(){for(;;){var f=w(b);if(f){if(Gd(f)){var g=Xb(f),k=H(g),m=ye(k);a:for(var h=0;;)if(h<k){var n=db.a(g,h),p=I(n,0,null),n=I(n,1,null),q=null!=n&&(n.i&64||n.V)?Ie(Af,n):n,n=v.a(q,Ck),q=v.a(q,Rk),p=new L(null,2,5,N,[p,St(a,n,q)],null);m.add(p);h+=1}else{g=!0;break a}return g?Ae(m.X(),d(Yb(f))):Ae(m.X(),null)}g=x(f);m=I(g,0,null);g=I(g,1,null);k=null!=g&&(g.i&64||g.V)?Ie(Af,g):g;g=v.a(k,Ck);k=v.a(k,Rk);
return dd(new L(null,2,5,N,[m,St(a,g,k)],null),d(zc(f)))}return null}},null,null)}(b)}())};var Vt=1;function Wt(a,b){return new PIXI.Point(a,b)}
function Xt(a,b){var c=null!=b&&(b.i&64||b.V)?Ie(Af,b):b,d=v.a(c,rm),e=v.c(c,km,0),f=v.a(c,zm),g=v.c(c,Bm,!0),k=v.a(c,Lm),m=v.a(c,Um),h=v.c(c,ks,.5),n=v.a(c,lj),p=v.c(c,hj,0),q=v.c(c,oj,!1),u=v.a(c,zj),y=v.c(c,Ej,0),z=v.a(c,Kj),C=v.c(c,Wj,Vt),F=v.a(c,Tk),K=v.a(c,jl),Q=v.a(c,wl),ga=v.c(c,Dl,.5),ha=v.a(c,Jl),E=v.a(c,Ml),c=v.c(c,Rl,1),q=r(q)?new PIXI.extras.TilingSprite(a instanceof J?Rt(a):a,Q,E):new PIXI.Sprite(a instanceof J?Rt(a):a);if(!r(q))throw Error([t("Assert failed: "),t("creation of sprite failed and returned nil"),
t("\n"),t("s")].join(""));q.anchor=Wt(h,ga);q.x=e;q.y=p;q.rotation=y;q.visible=g;B.a(C,1)||(q.scale="number"===typeof C?Wt(C,C):Wt(v.a(C,0),v.a(C,1)));B.a(1,c)||(q.alpha=c);q.interactive=r(K)?K:r(f)?f:r(n)?n:r(k)?k:r(u)?u:r(m)?m:r(ha)?ha:d;r(f)&&(q.pd=f);r(K)&&(q.qd=K);r(n)&&(q.rd=n);r(k)&&(q.sd=k);r(m)&&(q.td=m);r(u)&&(q.ud=u);r(ha)&&(q.vd=ha);r(d)&&(q.wd=d);null!=z&&(q.buttonMode=z);r(F)&&(q.dd=F);return q}function Yt(a,b,c){a.position.x=b;return a.position.y=c}
function Zt(a,b){return Fd(b)?Yt(a,b.b?b.b(0):b.call(null,0),b.b?b.b(1):b.call(null,1)):Yt(a,b[0],b[1])}function $t(a,b){return b instanceof J?a.texture=Rt(b):a.texture=b}function au(a){var b,c=a.getLocalBounds();b=new L(null,4,5,N,[c.x,c.y,c.width,c.height],null);var c=I(b,0,null),d=I(b,1,null),e=I(b,2,null);b=I(b,3,null);var f=a.position.x;a=a.position.y;return new L(null,4,5,N,[f+c,a+d,f+c+e,a+d+b],null)}
function bu(a,b,c){var d=a.children,e=Ef.a(au,d),f=Ef.a(x,e),g=Ef.a(qd,e),k=Ef.a(function(){return function(b){return Yc(b,2)}}(d,e,f,g),e),d=Ef.a(function(){return function(b){return Yc(b,3)}}(d,e,f,g,k),e),f=Ie(de,f),g=Ie(de,g),k=Ie(ce,k),d=Ie(ce,d);b*=k-f;c*=d-g;a.pivot=Wt(b,c);return new L(null,2,5,N,[b,c],null)}
var cu=function cu(b,c,d){if(null!=b&&null!=b.dc)return b.dc(b,c,d);var e=cu[fa(null==b?null:b)];if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);e=cu._;if(null!=e)return e.c?e.c(b,c,d):e.call(null,b,c,d);throw Ta("Container.update-handle!",b);};PIXI.Container.prototype.dc=function(a,b,c){return bu(this,b,c)};PIXI.ParticleContainer.prototype.dc=function(a,b,c){return bu(this,b,c)};
function du(a){var b=null!=a&&(a.i&64||a.V)?Ie(Af,a):a;v.a(b,rm);var c=v.c(b,km,0);v.a(b,zm);var d=v.c(b,Bm,!0);v.a(b,Lm);v.a(b,Um);a=v.c(b,ks,.5);v.a(b,lj);var e=v.c(b,hj,0),f=v.c(b,rj,td);v.a(b,zj);var g=v.c(b,Ej,0);v.a(b,Kj);var k=v.c(b,Wj,1),m=v.a(b,Tk),h=v.a(b,il);v.a(b,jl);var n=v.c(b,Dl,.5);v.a(b,Jl);b=v.c(b,Rl,1);h=r(h)?new PIXI.ParticleContainer(null,{position:!0,alpha:!0}):new PIXI.Container;if(!r(h))throw Error([t("Assert failed: "),t("creation of container failed and returned nil"),t("\n"),
t("container")].join(""));h.x=c;h.y=e;h.rotation=g;h.visible=d;B.a(k,1)||(h.scale="number"===typeof k?Wt(k,k):Wt(v.a(k,0),v.a(k,1)));B.a(1,b)||(h.alpha=b);r(m)&&(h.dd=m);c=w(f);d=null;for(g=e=0;;)if(g<e)k=d.L(null,g),h.addChild(k),g+=1;else if(c=w(c))d=c,Gd(d)?(c=Xb(d),g=Yb(d),d=c,e=H(c),c=g):(c=x(d),h.addChild(c),c=A(d),d=null,e=0),g=0;else break;0<H(f)&&cu(h,a,n);return h};if("undefined"===typeof eu)var eu=$e?$e(Se):Ye.call(null,Se);
function fu(a,b){var c=null!=b&&(b.i&64||b.V)?Ie(Af,b):b,d=v.c(c,ym,8421504),e=v.c(c,sm,0),f=v.c(c,tm,!1),g=v.c(c,Zm,0),k=v.c(c,an,40),m=v.a(c,dk),h=v.c(c,sk,600),n=v.c(c,vk,1),p=v.c(c,nl,16777215),q=v.c(c,ll,2),u=v.c(c,xl,0),y=v.a(c,dm),c=v.c(c,am,1),z=new PIXI.Graphics;z.beginFill(u);z.lineStyle(0,p);z.drawRect(0,0,h,k);z.lineStyle(0,p);z.beginFill(d);z.drawRect(q,q,(1>a?a:1)*(h-q-q),k-q-q);z.endFill();var d=(1>a?a:1)*h,u=q+g,g=d-g,C=q+e,e=k-q-e;0<d&&(r(m)&&(z.lineStyle(c,m),z.moveTo(u,e),z.lineTo(u,
C),z.lineTo(g,C)),r(y)&&(z.lineStyle(n,y),z.moveTo(u,e),z.lineTo(g,e),z.lineTo(g,C)));r(f)&&(z.lineStyle(q,p),z.drawRect(0,0,h,k));return z.generateTexture(!1)}function gu(a,b){var c=Xt(fu(0,b),kd([Wj,v.c(b,Wj,Vt)],0));c.alpha=0;a.addChild(c);return c}function hu(){var a=v.a(D.b?D.b(eu):D.call(null,eu),em);return pj.b?pj.b(a):pj.call(null,a)}function iu(a,b){Df.w(eu,vd,ne.b(x(rd(a.split("/")).split("."))),b);return b}gj(nt,"png",function(a,b){return iu(a,b)});
gj(nt,"gif",function(a,b){return iu(a,b)});gj(nt,"jpg",function(a,b){return iu(a,b)});
function ju(a){var b=ht(null),c=new Image;c.crossOrigin="";c.onload=function(b,c){return function(){return lt(b,new L(null,2,5,N,[a,new Ja(null,3,[qm,new PIXI.Texture(new PIXI.BaseTexture(c,PIXI.SCALE_MODES.LINEAR)),pj,new PIXI.Texture(new PIXI.BaseTexture(c,PIXI.SCALE_MODES.NEAREST)),bm,c],null)],null))}}(b,c);c.onerror=function(b){return function(){return lt(b,new L(null,2,5,N,[a,null],null))}}(b,c);c.onabort=function(){return function(){return alert("abort")}}(b,c);c.src=a;return b}
gj(mt,"png",function(a){return ju(a)});gj(mt,"gif",function(a){return ju(a)});gj(mt,"jpg",function(a){return ju(a)});
function ku(a,b){var c=null!=b&&(b.i&64||b.V)?Ie(Af,b):b,d=v.c(c,Hk,1),e=v.c(c,tk,null),f=v.c(c,xm,0),g=null==e?a.alpha:e,k=60*d,m=ht(1);Ms(function(b,c,d,f,e,g,m,k){return function(){var F=function(){return function(b){return function(){function a(c){for(;;){var d;a:try{for(;;){var f=b(c);if(!le(f,R)){d=f;break a}}}catch(e){if(e instanceof Object)c[5]=e,dt(c),d=R;else throw e;}if(!le(d,R))return d}}function c(){var b=[null,null,null,null,null,null,null,null,null,null];b[0]=d;b[1]=1;return b}var d=
null,d=function(b){switch(arguments.length){case 0:return c.call(this);case 1:return a.call(this,b)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=a;return d}()}(function(b,c,d,f,e,g,h,m){return function(b){var f=b[1];if(1===f)return f=d,b[7]=f,b[2]=null,b[1]=2,R;if(2===f)return f=Ct(),Zs(b,4,f);if(3===f)return at(b,b[2]);if(4===f){var f=b[7],e=b[2],g=a.alpha=m+f/d*(c-m);b[8]=e;b[9]=g;b[1]=r(0<f)?5:6;return R}return 5===f?(f=b[7],b[7]=f-1,b[2]=null,b[1]=2,R):6===f?(b[2]=null,b[1]=7,R):
7===f?(b[2]=b[2],b[1]=3,R):null}}(b,c,d,f,e,g,m,k),b,c,d,f,e,g,m,k)}(),K=function(){var a=F.j?F.j():F.call(null);a[6]=b;return a}();return Ys(K)}}(m,g,k,b,c,d,e,f));return m}
function lu(a,b){var c=null!=b&&(b.i&64||b.V)?Ie(Af,b):b,d=v.c(c,Hk,1),e=v.c(c,tk,0),f=v.c(c,xm,1),g=60*d,k=ht(1);Ms(function(b,c,d,f,e,g,k){return function(){var z=function(){return function(b){return function(){function a(c){for(;;){var d;a:try{for(;;){var f=b(c);if(!le(f,R)){d=f;break a}}}catch(e){if(e instanceof Object)c[5]=e,dt(c),d=R;else throw e;}if(!le(d,R))return d}}function c(){var b=[null,null,null,null,null,null,null,null,null,null];b[0]=d;b[1]=1;return b}var d=null,d=function(b){switch(arguments.length){case 0:return c.call(this);
case 1:return a.call(this,b)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=a;return d}()}(function(b,c,d,f,e,g,h){return function(b){var d=b[1];if(1===d)return d=c,b[7]=d,b[2]=null,b[1]=2,R;if(2===d)return d=Ct(),Zs(b,4,d);if(3===d)return at(b,b[2]);if(4===d){var d=b[7],f=b[2],e=a.alpha=g+(c-d)/c*(h-g);b[8]=f;b[9]=e;b[1]=r(0<d)?5:6;return R}return 5===d?(d=b[7],b[7]=d-1,b[2]=null,b[1]=2,R):6===d?(b[2]=null,b[1]=7,R):7===d?(b[2]=b[2],b[1]=3,R):null}}(b,c,d,f,e,g,k),b,c,d,f,e,g,k)}(),
C=function(){var a=z.j?z.j():z.call(null);a[6]=b;return a}();return Ys(C)}}(k,g,b,c,d,e,f));return k}function mu(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return nu(arguments[0],arguments[1],arguments[2],3<b.length?new yc(b.slice(3),0,null):null)}
function nu(a,b,c,d){var e=null!=d&&(d.i&64||d.V)?Ie(Af,d):d,f=v.c(e,hs,.5),g=v.c(e,ek,.5),k=gu(function(){var c=pl.b(a);return b.b?b.b(c):b.call(null,c)}(),e),m=ht(1);Ms(function(d,f,e,g,m,k,z){return function(){var C=function(){return function(b){return function(){function a(c){for(;;){var d;a:try{for(;;){var f=b(c);if(!le(f,R)){d=f;break a}}}catch(e){if(e instanceof Object)c[5]=e,dt(c),d=R;else throw e;}if(!le(d,R))return d}}function c(){var b=[null,null,null,null,null,null,null,null,null,null,
null];b[0]=d;b[1]=1;return b}var d=null,d=function(b){switch(arguments.length){case 0:return c.call(this);case 1:return a.call(this,b)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=a;return d}()}(function(d,f,e,g,h,m,k){return function(p){var q=p[1];if(1===q){var n=lu(f,kd([Hk,m],0));return Zs(p,2,n)}if(2===q){var u=p[2],n=ot(c,function(){return function(b,a,c,d,f,e,g){return function(b,a){return d.texture=fu(b/a,g)}}(u,q,d,f,e,g,h,m,k)}());p[7]=u;return Zs(p,3,n)}if(3===q){var n=p[2],
y=ku(f,kd([Hk,k],0));p[8]=n;return Zs(p,4,y)}if(4===q){var n=p[8],y=p[2],z=pl.b(a),z=(b.b?b.b(z):b.call(null,z)).removeChild(f);p[9]=z;p[10]=y;return at(p,n)}return null}}(d,f,e,g,m,k,z),d,f,e,g,m,k,z)}(),F=function(){var b=C.j?C.j():C.call(null);b[6]=d;return b}();return Ys(F)}}(m,k,d,e,e,f,g));return m};var Y=Error();function ou(a){switch(a){case "-":return Sm;case "X":return fk;case "/":return kk;case "|":return cm;case ".":return Cj;case "o":return Nm;case "b":return $k;case "c":return Ek;case "p":return js;case "0":return es;case " ":return vj;default:throw Error([t("No matching clause: "),t(a)].join(""));}}function pu(a){return Kf(function(b){return Kf(ou,b)},a)}function qu(a,b,c){return Mf(a,new L(null,2,5,N,[c,b],null))}var ru=new vi(null,new Ja(null,5,[fk,null,Mk,null,el,null,Sm,null,Tm,null],null),null);
We.a(Ra,ru);var su=We.a(Ra,new vi(null,new Ja(null,6,[fk,null,kk,null,Mk,null,el,null,Sm,null,Tm,null],null),null));function tu(a){return Kf(function(b){return Kf(function(b){return a.b?a.b(b):a.call(null,b)},b)},uu)}
function vu(a){var b=H(a),c=H(x(a));return Kf(function(b,c){return function(f){return Kf(function(){return function(b){var c=Mf(a,new L(null,2,5,N,[f-1,b],null)),d=Mf(a,new L(null,2,5,N,[f,b],null)),e;a:{b=Mf(a,new L(null,2,5,N,[f+1,b],null));try{if(le(d,Sm))try{if(r((new vi(null,new Ja(null,7,[vj,null,fk,null,kk,null,Ek,null,cm,null,es,null,js,null],null),null)).call(null,b)))try{if(r((new vi(null,new Ja(null,8,[vj,null,fk,null,kk,null,Ek,null,$k,null,cm,null,es,null,js,null],null),null)).call(null,
c)))e=Tm;else throw Y;}catch(p){if(p instanceof Error){var n=p;if(n===Y)throw Y;throw n;}throw p;}else throw Y;}catch(p){if(p instanceof Error)if(n=p,n===Y)try{if(r((new vi(null,new Ja(null,8,[vj,null,fk,null,kk,null,Ek,null,$k,null,cm,null,es,null,js,null],null),null)).call(null,b)))e=el;else throw Y;}catch(q){if(q instanceof Error)if(q===Y)try{if(r((new vi(null,new Ja(null,8,[vj,null,fk,null,kk,null,Ek,null,$k,null,cm,null,es,null,js,null],null),null)).call(null,c)))e=Mk;else throw Y;}catch(u){if(u instanceof
Error&&u===Y)throw Y;throw u;}else throw q;else throw q;}else throw n;else throw p;}else throw Y;}catch(p){if(p instanceof Error){n=p;if(n===Y){e=d;break a}throw n;}throw p;}}return e}}(b,c),Ai(c))}}(b,c),Ai(b))}
function wu(){var a=hu(),b=wd([Cj,fk,kk,Ek,Mk,$k,el,hl,cm,Nm,Sm,Tm,es,js],[new L(null,2,5,N,[32,0],null),new L(null,2,5,N,[48,0],null),new L(null,2,5,N,[64,0],null),new L(null,2,5,N,[32,32],null),new L(null,2,5,N,[16,0],null),new L(null,2,5,N,[0,32],null),new L(null,2,5,N,[0,16],null),new L(null,2,5,N,[80,0],null),new L(null,2,5,N,[64,16],null),new L(null,2,5,N,[32,16],null),new L(null,2,5,N,[0,0],null),new L(null,2,5,N,[16,16],null),new L(null,2,5,N,[80,16],null),new L(null,2,5,N,[16,32],null)]);
return Jf.a(Se,Ef.a(function(b){return function(a){var e=I(a,0,null);a=I(a,1,null);return new L(null,2,5,N,[e,St(b,a,new L(null,2,5,N,[16,16],null))],null)}}(a,b),b))}
function xu(a,b){return If($d,function(){return function d(e){return new pe(null,function(){for(var f=e;;){var g=w(f);if(g){var k=g,m=x(k);if(g=w(function(d,f,e,g){return function y(m){return new pe(null,function(d,f){return function(){for(;;){var d=w(m);if(d){if(Gd(d)){var e=Xb(d),g=H(e),h=ye(g);return function(){for(var d=0;;)if(d<g){var m=db.a(e,d),k=h,p=Yc(b.b?b.b(f):b.call(null,f),m),m=B.a(vj,p)?null:Xt(a.b?a.b(p):a.call(null,p),kd([km,16*m,hj,16*f,ks,0,Dl,0],0));k.add(m);d+=1}else return!0}()?
Ae(h.X(),y(Yb(d))):Ae(h.X(),null)}var k=x(d);return dd(function(){var d=Yc(b.b?b.b(f):b.call(null,f),k);return B.a(vj,d)?null:Xt(a.b?a.b(d):a.call(null,d),kd([km,16*k,hj,16*f,ks,0,Dl,0],0))}(),y(zc(d)))}return null}}}(d,f,e,g),null,null)}}(f,m,k,g)(Ai(H(x(b))))))return Fe.a(g,d(zc(f)));f=zc(f)}else return null}},null,null)}(Ai(H(b)))}())}
function yu(){var a=uu;return Jf.a(Se,function(){var b=If($d,function(){return function d(b){return new pe(null,function(){for(var f=b;;){var g=w(f);if(g){var k=g,m=x(k);if(g=w(function(b,d,f,e){return function y(g){return new pe(null,function(b,d){return function(){for(;;){var b=w(g);if(b){if(Gd(b)){var f=Xb(b),e=H(f),h=ye(e);return function(){for(var b=0;;)if(b<e){var g=db.a(f,b),m=h,k=Yc(a.b?a.b(d):a.call(null,d),g),g=B.a(vj,k)?null:new L(null,2,5,N,[g,d],null);m.add(g);b+=1}else return!0}()?Ae(h.X(),
y(Yb(b))):Ae(h.X(),null)}var m=x(b);return dd(function(){var b=Yc(a.b?a.b(d):a.call(null,d),m);return B.a(vj,b)?null:new L(null,2,5,N,[m,d],null)}(),y(zc(b)))}return null}}}(b,d,f,e),null,null)}}(f,m,k,g)(Ai(H(x(a))))))return Fe.a(g,d(zc(f)));f=zc(f)}else return null}},null,null)}(Ai(H(a)))}());return Ef.c(function(){return function(b,a){var e=I(a,0,null),f=I(a,1,null);return new L(null,2,5,N,[new L(null,2,5,N,[e,f],null),b],null)}}(b),Ai(Number.MAX_VALUE),b)}())};function zu(a){var b=(Ht.j?Ht.j():Ht.call(null))[0];return r(b)?b.axes[a]:null}for(var Au=[new L(null,2,5,N,[ds,km],null),0,new L(null,2,5,N,[ds,hj],null),1,new L(null,2,5,N,[Tl,km],null),2,new L(null,2,5,N,[Tl,hj],null),3],Bu=[],Cu=0;;)if(Cu<Au.length){var Du=Au[Cu],Eu=Au[Cu+1];-1===Gh(Bu,Du)&&(Bu.push(Du),Bu.push(Eu));Cu+=2}else break;
var Fu=wd([hj,kj,mj,qj,wj,yj,Hj,Ij,Oa,Pj,Qj,Vj,ck,mk,nk,rk,tk,wk,Dk,Jk,Lk,Nk,Vk,al,gl,kl,ol,zl,Al,Cl,Il,Ql,Tl,Vl,gm,jm,km,mm,um,Gm,Ym,ds,gs],[3,14,12,13,15,16,14,5,12,0,6,7,15,7,4,13,9,6,1,13,14,12,13,5,5,7,4,3,8,7,15,1,15,6,5,2,2,4,4,6,0,14,12]),Gu=function Gu(b){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;switch(c.length){case 3:return Gu.c(arguments[0],arguments[1],arguments[2]);case 2:return Gu.a(arguments[0],arguments[1]);case 1:return Gu.b(arguments[0]);
default:throw Error([t("Invalid arity: "),t(c.length)].join(""));}};Gu.c=function(a,b,c){return r(a)?a.buttons[v.c(Fu,c,c)]:null};Gu.a=function(a,b){return Gu.c((Ht.j?Ht.j():Ht.call(null))[a],a,b)};Gu.b=function(a){return Gu.a(0,a)};Gu.C=3;var Hu=We.c(function(a){return r(a)?.1<a:null},function(a){return r(a)?a.value:null},Gu);if("undefined"===typeof Iu)var Iu=$e?$e(Se):Ye.call(null,Se);function Ju(a){var b=hu();return Jf.a(Se,Ef.a(function(b){return function(a){var e=I(a,0,null),f=I(a,1,null),g=I(a,2,null),k=I(a,3,null);a=I(a,4,null);var m=new L(null,2,5,N,[k-f,a-g],null);return new L(null,2,5,N,[e,new Ja(null,5,[Xm,e,Ck,new L(null,2,5,N,[f,g],null),is,new L(null,2,5,N,[k,a],null),Rk,m,Rm,St(b,new L(null,2,5,N,[f,g],null),m)],null)],null)}}(b),a))}
function Ku(a,b,c){var d=Nh;return new Ja(null,5,[Qk,Ju(a),Rm,hu(),Xj,d,vj,b,an,c],null)}
function Lu(a,b,c){var d=null!=c&&(c.i&64||c.V)?Ie(Af,c):c;c=v.c(d,Tk,16777215);var e=v.c(d,km,0),f=v.c(d,hj,0),d=v.c(d,ok,0),g=D.b?D.b(Iu):D.call(null,Iu);a=a.b?a.b(g):a.call(null,g);b=w(b);g=w(b);x(g);A(g);for(var k=null,m=td;;){g=w(b);b=x(g);var h=g=A(g),g=e,n=k,e=m,m=k=Qk.b(a).call(null,b),p=null!=m&&(m.i&64||m.V)?Ie(Af,m):m,m=v.a(p,Rm),q=v.a(p,Ck),p=v.a(p,Rk);I(q,0,null);I(q,1,null);q=I(p,0,null);I(p,1,null);n=[t(n),t(b)].join("");n=Xj.b(a).call(null,n);if(null==k)if(w(h))g=g+vj.b(a)+d,k=b,n=
e,b=h,e=g,m=n;else return null;else if(k=Xt(m,kd([km,g+n|0,hj,f,ks,0,Dl,0,Tk,c,Wj,1],0)),w(h))g=g+q+1+n,n=b,m=sd.a(e,k),b=h,e=g,k=n;else return sd.a(e,k)}}
function Mu(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;var c=arguments[0],d=arguments[1],e=arguments[2],b=3<b.length?new yc(b.slice(3),0,null):null,b=null!=b&&(b.i&64||b.V)?Ie(Af,b):b,b=v.c(b,Tk,16777215);c.removeChildren();a:for(var b=kd([Tk,b],0),b=null!=b&&(b.i&64||b.V)?Ie(Af,b):b,b=v.c(b,Tk,16777215),d=w(Lu(d,e,kd([Tk,b],0))),e=null,f=0,g=0;;)if(g<f)b=e.L(null,g),c.addChild(b),g+=1;else if(d=w(d))e=d,Gd(e)?(d=Xb(e),f=Yb(e),e=d,b=H(d),d=f,f=b):(b=x(e),
c.addChild(b),d=A(e),e=null,f=0),g=0;else break a;return null}function Nu(a,b,c){var d=null!=c&&(c.i&64||c.V)?Ie(Af,c):c;c=v.a(d,Tk);var e=v.c(d,Wj,Vt);v.a(d,pm);var f=v.a(d,Ej),g=v.a(d,km),k=v.a(d,hj),m=v.c(d,Bm,!0),h=v.c(d,ks,.5),d=v.c(d,Dl,.5);return du(kd([rj,Lu(a,b,kd([c],0)),il,Ra(c),Wj,e,Ej,f,km,g,hj,k,Bm,m,ks,h,Dl,d],0))};function Ou(a){return a instanceof J?[t(function(){var b=me(a);return null==b?null:[t(b),t("/")].join("")}()),t(oe(a))].join(""):a}
function Pu(a,b){var c=H(b);if("number"!==typeof c||isNaN(c)||Infinity===c||parseFloat(c)!==parseInt(c,10))throw Error([t("Argument must be an integer: "),t(c)].join(""));if(0!==(c&1))throw Error("Assert failed: (even? (count kvs))");for(var c=a.style,d=w(Lf(2,2,b)),e=null,f=0,g=0;;)if(g<f){var k=e.L(null,g),m=I(k,0,null),k=I(k,1,null);c.setProperty(Ou(m),k);g+=1}else if(d=w(d))Gd(d)?(f=Xb(d),d=Yb(d),e=f,f=H(f)):(f=x(d),e=I(f,0,null),f=I(f,1,null),c.setProperty(Ou(e),f),d=A(d),e=null,f=0),g=0;else break}
;var Qu,Ru=null;
function Su(a){var b=null!=a&&(a.i&64||a.V)?Ie(Af,a):a;a=v.c(b,Om,!1);var c=v.c(b,km,0),d=v.c(b,hj,0),e=v.c(b,sk,800),f=v.c(b,an,600),g=v.a(b,Ok),k=v.c(b,om,Km),m=v.c(b,uk,5242880);v.c(b,gk,!0);var b=window.innerWidth,h=window.innerHeight,n=r(a)?b:e,p=r(a)?h:f,q={backgroundColor:m,transparent:!1,imageSmoothingEnabled:!1,antialias:!1,autoResize:!1,clearBeforeRender:!0,preserveDrawingBuffer:!1,view:g,resolution:1},e=function(){switch(k instanceof J?k.Ia:null){case "webgl":return new PIXI.WebGLRenderer(n,p,
q);case "canvas":return new PIXI.CanvasRenderer(n,p,q);default:return new PIXI.autoDetectRenderer(n,p,q)}}(),f=e.view,m=f.width,u=f.height;r(g)||(Pu(f,kd([ds,r(a)?0:c,Yj,r(a)?0:d,$l,"absolute"],0)),document.body.appendChild(f));e.resize(r(a)?b:m,r(a)?h:u);return new Ja(null,2,[Pk,e,Ok,r(g)?g:f],null)}
function Tu(a){var b=null!=a&&(a.i&64||a.V)?Ie(Af,a):a,c=v.c(b,Yl,new L(null,6,5,N,[Em,Qm,cl,vm,vl,lm],null)),d=v.c(b,sj,Se),e=v.c(b,Sl,Se),f=new PIXI.Container,g=Ef.a(function(){return function(){return new PIXI.Container}}(f,a,b,c,d,e),c);return new Ja(null,5,[Fj,f,sj,d,Sl,e,Yl,c,pl,Jf.a(Se,function(){return function(b,a,c,d,f,e,g){return function z(C){return new pe(null,function(){return function(){for(;;){var b=w(C);if(b){if(Gd(b)){var a=Xb(b),c=H(a),d=ye(c);a:for(var f=0;;)if(f<c){var e=db.a(a,
f),g=I(e,0,null),e=I(e,1,null);d.add(new L(null,2,5,N,[g,e],null));f+=1}else{a=!0;break a}return a?Ae(d.X(),z(Yb(b))):Ae(d.X(),null)}a=x(b);d=I(a,0,null);a=I(a,1,null);return dd(new L(null,2,5,N,[d,a],null),z(zc(b)))}return null}}}(b,a,c,d,f,e,g),null,null)}}(f,g,a,b,c,d,e)(Lf(2,2,Hf.a(c,g)))}())],null)}
function Uu(a,b,c,d){var e=I(d,0,null);d=I(d,1,null);var f=kd(["x:",e,"y:",d],0),g=console,k=Ri(Jf.a(td,f));console.log.apply(g,k);rd(f);f=a.width;a=a.height;g=Math.round(f/2);k=Math.round(a/2);switch(c instanceof J?c.Ia:null){case "center":return b.position.x=e+g,b.position.y=d+k;case "top":return b.position.x=e+g,b.position.y=d;case "bottom":return b.position.x=e+g,b.position.y=d+a;case "left":return b.position.x=e,b.position.y=d+k;case "right":return b.position.x=e+f,b.position.y=d+k;case "top-left":return b.position.x=
e,b.position.y=d;case "top-right":return b.position.x=e+f,b.position.y=d;case "bottom-left":return b.position.x=e,b.position.y=d+a;case "bottom-right":return b.position.x=e+f,b.position.y=d+a;default:return b.position.x=e+g,b.position.y=d+k}}
function Vu(){var a=new Ja(null,5,[Yl,new L(null,5,5,N,[Fm,ql,Pm,Sk,vl],null),uk,Wu,Om,!0,sj,new Ja(null,2,[Pm,Zk,Sk,Yj],null),Sl,new Ja(null,2,[Pm,new L(null,2,5,N,[40,-40],null),Sk,new L(null,2,5,N,[0,40],null)],null)],null),b=Jf.a(Su(a),Tu(a)),c=null!=b&&(b.i&64||b.V)?Ie(Af,b):b,d=v.a(c,Vm),e=v.c(c,sj,Se),f=v.a(c,Fj),g=v.c(c,gk,!0),k=v.a(c,Ok),m=v.a(c,Pk),h=v.a(c,pl),n=v.a(c,Wl),p=v.c(c,Sl,Se),q=v.a(c,Yl);Bi(Ef.a(function(b,a,c,d,f,e,g,h,m,k,p,q){return function(b){var a=I(b,0,null);b=I(b,1,null);
e.addChild(b);return Uu(h,b,function(){var b=f.b?f.b(a):f.call(null,a);return r(b)?b:Uk}(),function(){var b=q.b?q.b(a):q.call(null,a);return r(b)?b:new L(null,2,5,N,[0,0],null)}())}}(b,c,c,d,e,f,g,k,m,h,n,p,q),h));m.render(f);var u=function(b,a,c,d,f,e,g,h,m){return function(){return m.render(e)}}(b,c,c,d,e,f,g,k,m,h,n,p,q),y=function(b,a,c,d,f,e,g,h,m,k,p,q,n,u){return function(y,z){k.resize(y,z);return Bi(Ef.a(function(b,a,c,d,f,e,g,h,m,k,p,q,n){return function(b){var a=I(b,0,null);b=I(b,1,null);
return Uu(m,b,function(){var b=e.b?e.b(a):e.call(null,a);return r(b)?b:Uk}(),function(){var b=n.b?n.b(a):n.call(null,a);return r(b)?b:new L(null,2,5,N,[0,0],null)}())}}(b,a,c,d,f,e,g,h,m,k,p,q,n,u),p))}}(u,b,c,c,d,e,f,g,k,m,h,n,p,q),z=function(b,a){return function(){return a(window.innerWidth,window.innerHeight)}}(u,y,b,c,c,d,e,f,g,k,m,h,n,p,q),C=function(b,a,c,d,f,e,g,h,m,k,p){return function(b){return r(b)?r(p.requestFullscreen)?p.requestFullscreen():r(p.webkitRequestFullscreen)?p.webkitRequestFullscreen():
r(p.mozRequestFullScreen)?p.mozRequestFullScreen():null:r(document.exitFullscreen)?document.exitFullscreen():r(document.webkitExitFullscreen)?document.webkitExitFullscreen():r(document.msExitFullscreen)?document.msExitFullscreen():r(document.mozCancelFullScreen)?document.mozCancelFullScreen():null}}(u,y,z,b,c,c,d,e,f,g,k,m,h,n,p,q),a=r(Om.b(a))?function(){var a=Et(),K=ht(1);Ms(function(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K){return function(){var Ba=function(){return function(b){return function(){function a(c){for(;;){var d;
a:try{for(;;){var f=b(c);if(!le(f,R)){d=f;break a}}}catch(e){if(e instanceof Object)c[5]=e,dt(c),d=R;else throw e;}if(!le(d,R))return d}}function c(){var b=[null,null,null,null,null,null,null,null,null];b[0]=d;b[1]=1;return b}var d=null,d=function(b){switch(arguments.length){case 0:return c.call(this);case 1:return a.call(this,b)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=a;return d}()}(function(b,a,c,d){return function(b){var f=b[1];if(1===f)return b[2]=null,b[1]=2,R;if(2===f)return b[1]=
4,R;if(3===f)return at(b,b[2]);if(4===f)return Zs(b,7,a);if(5===f)return b[2]=null,b[1]=6,R;if(6===f)return b[2]=b[2],b[1]=3,R;if(7===f){var e=b[2],f=I(e,0,null),e=I(e,1,null),f=d(f,e),e=c();b[7]=f;b[8]=e;b[2]=null;b[1]=2;return R}return null}}(b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K),b,a,c,d,f,e,g,h,m,k,p,q,n,u,y,z,C,F,K)}(),Ya=function(){var a=Ba.j?Ba.j():Ba.call(null);a[6]=b;return a}();return Ys(Ya)}}(K,a,u,y,z,C,b,c,c,d,e,f,g,k,m,h,n,p,q));return K}():null;Qu=function(b){return function Q(){Bt.b?
Bt.b(Q):Bt.call(null,Q);return b()}}(u,y,z,C,a,b,c,c,d,e,f,g,k,m,h,n,p,q);Qu();a=Jf.a(c,new Ja(null,4,[Tj,u,Wm,y,tj,C,Ul,z],null));r(g)&&(Ru=a);r(n)||rd(q);return a};function Xu(a,b,c,d,e){return a+(c-a)/(d-b)*(e-b)}function Yu(a,b,c,d,e){return b+(d-b)/(c-a)*(e-a)}
function Zu(a,b,c,d,e,f,g,k){for(var m=Math.floor(a),h=Math.floor(b),n=new L(null,1,5,N,[new L(null,2,5,N,[m,h],null)],null);;){if(B.a(m,Math.floor(c))&&B.a(h,Math.floor(d)))return n;var p=Xu(a,b,c,d,f.b?f.b(h):f.call(null,h)),q=Yu(a,b,c,d,e.b?e.b(m):e.call(null,m));if(m<=p&&p<=m+1)p=m,q=g.b?g.b(h):g.call(null,h),n=sd.a(n,new L(null,2,5,N,[m,g.b?g.b(h):g.call(null,h)],null)),m=p,h=q;else if(h<=q&&q<=h+1)p=k.b?k.b(m):k.call(null,m),q=h,n=sd.a(n,new L(null,2,5,N,[k.b?k.b(m):k.call(null,m),h],null)),
m=p,h=q;else if(B.a(p,k.b?k.b(m):k.call(null,m))&&B.a(q,g.b?g.b(h):g.call(null,h)))p=k.b?k.b(m):k.call(null,m),q=g.b?g.b(h):g.call(null,h),n=sd.s(n,new L(null,2,5,N,[m,g.b?g.b(h):g.call(null,h)],null),kd([new L(null,2,5,N,[k.b?k.b(m):k.call(null,m),h],null),new L(null,2,5,N,[k.b?k.b(m):k.call(null,m),g.b?g.b(h):g.call(null,h)],null)],0)),m=p,h=q;else throw Error([t("Assert failed: "),t("cell-coverage fatal error!"),t("\n"),t("false")].join(""));}}
function $u(a,b,c,d,e){for(var f=Math.floor(a),g=Math.floor(b),k=new L(null,1,5,N,[new L(null,2,5,N,[f,g],null)],null);;){if(B.a(f,Math.floor(c)))return k;var m=Yu(a,b,c,d,f+1);if(!(g<=m&&m<=g+1))throw Error([t("Assert failed: "),t("intersection out of range"),t("\n"),t("(\x3c\x3d y right-y (inc y))")].join(""));var m=e.b?e.b(f):e.call(null,f),h=g,k=sd.a(k,new L(null,2,5,N,[e.b?e.b(f):e.call(null,f),g],null)),f=m,g=h}}
function av(a,b,c,d,e){for(var f=Math.floor(a),g=Math.floor(b),k=new L(null,1,5,N,[new L(null,2,5,N,[f,g],null)],null);;){if(B.a(g,Math.floor(d)))return k;var m=Xu(a,b,c,d,g+1);if(!(f<=m&&m<=f+1))throw Error([t("Assert failed: "),t("intersection out of range"),t("\n"),t("(\x3c\x3d x top-x (inc x))")].join(""));var m=f,h=e.b?e.b(g):e.call(null,g),k=sd.a(k,new L(null,2,5,N,[f,e.b?e.b(g):e.call(null,g)],null)),f=m,g=h}}
function bv(a,b,c,d){var e=Math.sign(c-a),f=Math.sign(d-b);try{if(1===e)try{if(1===f)return Zu(a,b,c,d,Ic,Ic,Ic,Ic);throw Y;}catch(m){if(m instanceof Error){var g=m;if(g===Y)try{if(-1===f)return Zu(a,b,c,d,Ic,$d,be,Ic);throw Y;}catch(h){if(h instanceof Error){var k=h;if(k===Y)throw Y;throw k;}throw h;}else throw g;}else throw m;}else throw Y;}catch(m){if(m instanceof Error)if(g=m,g===Y)try{if(-1===e)try{if(1===f)return Zu(a,b,c,d,$d,Ic,Ic,be);throw Y;}catch(h){if(h instanceof Error)if(k=h,k===Y)try{if(-1===
f)return Zu(a,b,c,d,$d,$d,be,be);throw Y;}catch(n){if(n instanceof Error){g=n;if(g===Y)throw Y;throw g;}throw n;}else throw k;else throw h;}else throw Y;}catch(h){if(h instanceof Error)if(k=h,k===Y)try{if(1===e)return $u(a,b,c,d,Ic);throw Y;}catch(n){if(n instanceof Error)if(g=n,g===Y)try{if(-1===e)return $u(a,b,c,d,be);throw Y;}catch(p){if(p instanceof Error)if(p===Y)try{if(-1===f)return av(a,b,c,d,be);throw Y;}catch(q){if(q instanceof Error)if(q===Y)try{if(1===f)return av(a,b,c,d,Ic);throw Y;}catch(u){if(u instanceof
Error)if(u===Y)try{if(0===f)try{if(0===e)return new L(null,1,5,N,[new L(null,2,5,N,[Math.floor(a),Math.floor(b)],null)],null);throw Y;}catch(y){if(y instanceof Error){a=y;if(a===Y)throw Y;throw a;}throw y;}else throw Y;}catch(y){if(y instanceof Error){a=y;if(a===Y)throw Error([t("No matching clause: "),t(e),t(" "),t(f)].join(""));throw a;}throw y;}else throw u;else throw u;}else throw q;else throw q;}else throw p;else throw p;}else throw g;else throw n;}else throw k;else throw h;}else throw g;else throw m;
}}function cv(a){var b=a[0];a=a[1];var c=b|0,d=a|0;return new L(null,6,5,N,[b,a,c,d,b-c,a-d],null)}
function dv(a,b,c){a=null!=a&&(a.i&64||a.V)?Ie(Af,a):a;var d=v.a(a,nj),e=v.a(a,ml),f=v.a(a,Fl),g=v.a(a,cs),k=v.a(a,pk),m=cv(c);a=I(m,0,null);var h=I(m,1,null),n=I(m,2,null),p=I(m,3,null),q=I(m,4,null),u=I(m,5,null);b=cv(b);I(b,0,null);I(b,1,null);I(b,2,null);I(b,3,null);I(b,4,null);I(b,5,null);var y=q<e,z=q>g,C=u<f;b=u>k;var F=d.a?d.a(n,p):d.call(null,n,p),K=function(){var b=n-1;return d.a?d.a(b,p):d.call(null,b,p)}(),Q=function(){var b=n+1;return d.a?d.a(b,p):d.call(null,b,p)}(),ga=function(){var b=
p-1;return d.a?d.a(n,b):d.call(null,n,b)}(),m=function(){var b=p+1;return d.a?d.a(n,b):d.call(null,n,b)}(),ha=function(){var b=n-1,a=p-1;return d.a?d.a(b,a):d.call(null,b,a)}(),E=function(){var b=n-1,a=p+1;return d.a?d.a(b,a):d.call(null,b,a)}(),va=function(){var b=n+1,a=p-1;return d.a?d.a(b,a):d.call(null,b,a)}(),ba=function(){var b=n+1,a=p+1;return d.a?d.a(b,a):d.call(null,b,a)}();try{if(!0===F)try{if(!0===y)try{if(!0===K)try{if(!0===b)try{if(!1===E)try{if(!0===m){var P=e-q,da=u-k;if(P<da)return F=
n+e,W.a?W.a(F,h):W.call(null,F,h);F=p+k;return W.a?W.a(a,F):W.call(null,a,F)}throw Y;}catch(T){if(T instanceof Error){var Z=T;if(Z===Y)throw Y;throw Z;}throw T;}else throw Y;}catch(T){if(T instanceof Error){Z=T;if(Z===Y)throw Y;throw Z;}throw T;}else throw Y;}catch(T){if(T instanceof Error)if(Z=T,Z===Y)try{if(!0===C)try{if(!1===ha)try{if(!0===ga){P=e-q;da=f-u;if(P<da)return ha=n+e,W.a?W.a(ha,h):W.call(null,ha,h);ha=p+f;return W.a?W.a(a,ha):W.call(null,a,ha)}throw Y;}catch(O){if(O instanceof Error){var S=
O;if(S===Y)throw Y;throw S;}throw O;}else throw Y;}catch(O){if(O instanceof Error){S=O;if(S===Y)throw Y;throw S;}throw O;}else throw Y;}catch(O){if(O instanceof Error){S=O;if(S===Y)throw Y;throw S;}throw O;}else throw Z;else throw T;}else throw Y;}catch(T){if(T instanceof Error){Z=T;if(Z===Y)throw Y;throw Z;}throw T;}else throw Y;}catch(T){if(T instanceof Error)if(Z=T,Z===Y)try{if(!0===z)try{if(!0===Q)try{if(!0===b)try{if(!0===m)try{if(!1===ba){P=q-g;da=u-k;if(P<da)return da=n+g,W.a?W.a(da,h):W.call(null,
da,h);da=p+k;return W.a?W.a(a,da):W.call(null,a,da)}throw Y;}catch(O){if(O instanceof Error){S=O;if(S===Y)throw Y;throw S;}throw O;}else throw Y;}catch(O){if(O instanceof Error){S=O;if(S===Y)throw Y;throw S;}throw O;}else throw Y;}catch(O){if(O instanceof Error)if(S=O,S===Y)try{if(!0===C)try{if(!0===ga)try{if(!1===va){P=q-g;if(P<f-u)return P=n+g,W.a?W.a(P,h):W.call(null,P,h);P=p+f;return W.a?W.a(a,P):W.call(null,a,P)}throw Y;}catch(M){if(M instanceof Error){var U=M;if(U===Y)throw Y;throw U;}throw M;
}else throw Y;}catch(M){if(M instanceof Error){U=M;if(U===Y)throw Y;throw U;}throw M;}else throw Y;}catch(M){if(M instanceof Error){U=M;if(U===Y)throw Y;throw U;}throw M;}else throw S;else throw O;}else throw Y;}catch(O){if(O instanceof Error){S=O;if(S===Y)throw Y;throw S;}throw O;}else throw Y;}catch(O){if(O instanceof Error)if(S=O,S===Y)try{if(!0===y)try{if(!1===K)try{if(!0===b)try{if(!1===m)return P=n+e,q=p+k,W.a?W.a(P,q):W.call(null,P,q);throw Y;}catch(M){if(M instanceof Error){U=M;if(U===Y)throw Y;
throw U;}throw M;}else throw Y;}catch(M){if(M instanceof Error)if(U=M,U===Y)try{if(!0===C)try{if(!1===ga)return P=n+e,q=p+f,W.a?W.a(P,q):W.call(null,P,q);throw Y;}catch(V){if(V instanceof Error){var X=V;if(X===Y)throw Y;throw X;}throw V;}else throw Y;}catch(V){if(V instanceof Error){X=V;if(X===Y)throw Y;throw X;}throw V;}else throw U;else throw M;}else throw Y;}catch(M){if(M instanceof Error){U=M;if(U===Y)throw Y;throw U;}throw M;}else throw Y;}catch(M){if(M instanceof Error)if(U=M,U===Y)try{if(!0===
z)try{if(!1===Q)try{if(!0===C)try{if(!1===ga)return P=n+g,q=p+f,W.a?W.a(P,q):W.call(null,P,q);throw Y;}catch(V){if(V instanceof Error){X=V;if(X===Y)throw Y;throw X;}throw V;}else throw Y;}catch(V){if(V instanceof Error)if(X=V,X===Y)try{if(!0===b)try{if(!1===m)return P=n+g,q=p+k,W.a?W.a(P,q):W.call(null,P,q);throw Y;}catch(ua){if(ua instanceof Error){var ca=ua;if(ca===Y)throw Y;throw ca;}throw ua;}else throw Y;}catch(ua){if(ua instanceof Error){ca=ua;if(ca===Y)throw Y;throw ca;}throw ua;}else throw X;
else throw V;}else throw Y;}catch(V){if(V instanceof Error){X=V;if(X===Y)throw Y;throw X;}throw V;}else throw Y;}catch(V){if(V instanceof Error){X=V;if(X===Y)throw Y;throw X;}throw V;}else throw U;else throw M;}else throw S;else throw O;}else throw Z;else throw T;}else throw Y;}catch(T){if(T instanceof Error)if(Z=T,Z===Y)try{if(!0===y)try{if(!1===K)return e=n+e,W.a?W.a(e,h):W.call(null,e,h);throw Y;}catch(O){if(O instanceof Error){S=O;if(S===Y)throw Y;throw S;}throw O;}else throw Y;}catch(O){if(O instanceof
Error)if(S=O,S===Y)try{if(!0===z)try{if(!1===Q)return S=n+g,W.a?W.a(S,h):W.call(null,S,h);throw Y;}catch(M){if(M instanceof Error){U=M;if(U===Y)throw Y;throw U;}throw M;}else throw Y;}catch(M){if(M instanceof Error)if(U=M,U===Y)try{if(!0===C)try{if(!1===ga)return U=p+f,W.a?W.a(a,U):W.call(null,a,U);throw Y;}catch(V){if(V instanceof Error){X=V;if(X===Y)throw Y;throw X;}throw V;}else throw Y;}catch(V){if(V instanceof Error)if(X=V,X===Y)try{if(!0===b)try{if(!1===m)return X=p+k,W.a?W.a(a,X):W.call(null,
a,X);throw Y;}catch(ua){if(ua instanceof Error){ca=ua;if(ca===Y)throw Y;throw ca;}throw ua;}else throw Y;}catch(ua){if(ua instanceof Error){ca=ua;if(ca===Y)return c;throw ca;}throw ua;}else throw X;else throw V;}else throw U;else throw M;}else throw S;else throw O;}else throw Z;else throw T;}}
function ev(a,b,c,d,e,f,g,k){var m=Xu(a,b,c,d,k.b?k.b(f):k.call(null,f));a=Yu(a,b,c,d,g.b?g.b(e):g.call(null,e));return e<m&&m<e+1?(e=k.b?k.b(f):k.call(null,f),W.a?W.a(m,e):W.call(null,m,e)):f<a&&a<f+1?(m=g.b?g.b(e):g.call(null,e),W.a?W.a(m,a):W.call(null,m,a)):null}function fv(a,b,c,d,e,f,g){a=Xu(a,b,c,d,g.b?g.b(f):g.call(null,f));return e<a&&a<e+1?(e=g.b?g.b(f):g.call(null,f),W.a?W.a(a,e):W.call(null,a,e)):null}
function gv(a,b,c,d,e,f,g){a=Yu(a,b,c,d,g.b?g.b(e):g.call(null,e));return f<a&&a<f+1?(e=g.b?g.b(e):g.call(null,e),W.a?W.a(e,a):W.call(null,e,a)):null}
function hv(a,b,c,d){var e=cv(b);b=I(e,0,null);var f=I(e,1,null);I(e,2,null);I(e,3,null);I(e,4,null);I(e,5,null);var g=cv(a);a=I(g,0,null);e=I(g,1,null);I(g,2,null);I(g,3,null);I(g,4,null);I(g,5,null);var g=Math.sign(b-a),k=Math.sign(f-e);try{if(1===g)try{if(1===k)return ev(a,e,b,f,c,d,$d,$d);throw Y;}catch(h){if(h instanceof Error){var m=h;if(m===Y)throw Y;throw m;}throw h;}else throw Y;}catch(h){if(h instanceof Error)if(m=h,m===Y)try{if(-1===g)try{if(1===k)return ev(a,e,b,f,c,d,Ic,$d);throw Y;}catch(n){if(n instanceof
Error){m=n;if(m===Y)throw Y;throw m;}throw n;}else throw Y;}catch(n){if(n instanceof Error)if(m=n,m===Y)try{if(1===g)try{if(-1===k)return ev(a,e,b,f,c,d,$d,Ic);throw Y;}catch(p){if(p instanceof Error){m=p;if(m===Y)throw Y;throw m;}throw p;}else throw Y;}catch(p){if(p instanceof Error)if(m=p,m===Y)try{if(-1===g)try{if(-1===k)return ev(a,e,b,f,c,d,Ic,Ic);throw Y;}catch(q){if(q instanceof Error){m=q;if(m===Y)return gv(a,e,b,f,c,d,Ic);throw m;}throw q;}else throw Y;}catch(q){if(q instanceof Error)if(m=
q,m===Y)try{if(1===g)return gv(a,e,b,f,c,d,$d);throw Y;}catch(u){if(u instanceof Error)if(u===Y)try{if(-1===k)return fv(a,e,b,f,c,d,Ic);throw Y;}catch(y){if(y instanceof Error)if(y===Y)try{if(1===k)return fv(a,e,b,f,c,d,$d);throw Y;}catch(z){if(z instanceof Error)if(z===Y)try{if(0===k)try{if(0===g)throw Error([t("Assert failed: "),t("no movement!"),t("\n"),t("false")].join(""));throw Y;}catch(C){if(C instanceof Error){c=C;if(c===Y)throw Y;throw c;}throw C;}else throw Y;}catch(C){if(C instanceof Error){c=
C;if(c===Y)throw Error([t("No matching clause: "),t(g),t(" "),t(k)].join(""));throw c;}throw C;}else throw z;else throw z;}else throw y;else throw y;}else throw u;else throw u;}else throw m;else throw q;}else throw m;else throw p;}else throw m;else throw n;}else throw m;else throw h;}}function iv(a,b,c,d){b=hv(a,b,c,d);return Mt(Ot(Nt(b,a),.999),a)}
function jv(a,b,c){a=null!=a&&(a.i&64||a.V)?Ie(Af,a):a;var d=v.a(a,nj),e=cv(b),f=I(e,0,null),g=I(e,1,null),k=I(e,2,null),m=I(e,3,null);I(e,4,null);I(e,5,null);var e=cv(c),h=I(e,0,null),n=I(e,1,null),p=I(e,2,null),q=I(e,3,null);I(e,4,null);I(e,5,null);var u=k-p,y=m-q;if(r(function(){var b=2>Math.abs(u);return b&&(b=2>Math.abs(y))?(b=2>Math.abs(u)+Math.abs(y))?d.a?d.a(k,m):d.call(null,k,m):b:b}()))return dv(a,c,b);f=bv(h,n,f,g);g=w(f);e=x(g);A(g);I(e,0,null);for(I(e,1,null);;)if(f=w(f),g=x(f),f=A(f),
e=g,g=I(e,0,null),e=I(e,1,null),r(d.a?d.a(g,e):d.call(null,g,e))){if(0===H(f))return b}else return dv(a,c,iv(c,b,g,e))};if("undefined"===typeof Wu)var Wu=2105344;
var uu=vu(pu(cg("------------------------XXXXX------------------------------------------------------;-                         b X                                     b   -------------;-         c     ----XXXXXXXXX                               X/XXXXXX  ---      ----;-       ----        X                       c                |        --        ---;-                   X                    ----          p     |p  c    --        ---;-    c              X                b   ----      ---------------------      -----;---------           X               ----          --                       --------;-                   X               ----         --- ------ -----------------------;-                   Xb   c    p     ---              -  --- -----------------------;-                   XXX/XXXXXXXXXXXX---         ------  --- -----------------   |--;-            -      X  |                                    ------------bbbbbbb |--;-           --      X  |                                ----------------------- |--;------------------- X  | XXXXX                          -------     ----------- |--;--------.o----  bbb    |  0                      b                  ----------- |--;-     -------------XX  XXXXX X X X            XXXXXXXX/X            ----        |--;-       -----------Xpbb 0                             |   b b       ---- bbbb------;----/      ---XXXXXXXXXXXX                          XXXXXXXXXXXX    ---- ----------;-   |         Xbb     Xbb              /              |             ---- ----------;-   |         XXXXXXX XXXXXXX X XX     |              |             ----        ---;- p |     X   X   c      Xc      X     |              |             ------- bbbb---;--------/-----X XXXXXXX XXXXXX XXX     |     p        |             ------- bbbb---;--------|--.o-  X    c    X      X     |----------------                    bbbb---;--------|-----XXX XXXXXXXXXXXXXX X     |-----------o----            ---------------;-       |       X   X   X    c   X     |--    ----------            ---------------;-       |       XXX X X bX XXXXXXX     |--    ----------            ---------------;-       ------ bX      XX  X     X     |--       |------            ---------------;-b      --------X XXX XXX XX XXX X-    --   -----|------            ---------------;---         --.-X  bX  c     Xb  X------   ------|------           ----------------;-           ----XX XXXXXXXXXXXXXXX-----   ---    |                 ----------------;- c    b               p      c          ----    X               ------------------;-----------------------------------------------------------------------------------;-----------------------------------------------------------------------------------".split(";")))),kv=
vu(pu(new L(null,3,5,N,["    "," ---","  - "],null))),lv=vu(pu(new L(null,2,5,N,["    "," XXX"],null))),Ut=wd([ij,Bj,Lj,Oj,bk,yk,Bk,$k,Hl,Xl,Am,bs],[new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[96,32],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[80,48],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[112,48],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[64,32],null)],
null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[80,32],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[48,32],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[128,48],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[0,32],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[112,32],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),
Ck,new L(null,2,5,N,[64,48],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[96,48],null)],null),new Ja(null,2,[Rk,new L(null,2,5,N,[16,16],null),Ck,new L(null,2,5,N,[48,48],null)],null)]);function mv(){return tu(function(a){return B.a(a,es)?es:B.a(a,kk)?hl:vj})}
var nv=We.a(Ra,function(a,b){var c=qu(uu,a,b);return ru.b?ru.b(c):ru.call(null,c)}),ov=We.a(Ra,function(a,b){var c=qu(kv,a,b);return ru.b?ru.b(c):ru.call(null,c)}),pv=We.a(Ra,function(a,b){var c=qu(lv,a,b);return ru.b?ru.b(c):ru.call(null,c)});function qv(a,b){var c=qu(uu,a,b);return su.b?su.b(c):su.call(null,c)}if("undefined"===typeof rv)var rv=Vu();Vt=1;function sv(a,b){return(Lt.b?Lt.b(a):Lt.call(null,a))<b?Kt.j?Kt.j():Kt.call(null):a}
function tv(){var a=At(dl);if(r(a))return a;a=At(vj);return r(a)?a:Hu.a?Hu.a(0,km):Hu.call(null,0,km)}function uv(a,b,c,d){return Mt(b,jv(new Ja(null,5,[nj,a,ml,.3,Fl,.4,cs,.7,pk,.6],null),Nt(d,b),Nt(c,b)))}function vv(a,b,c,d){return Mt(b,jv(new Ja(null,5,[nj,a,ml,.1,Fl,.3,cs,.9,pk,.5],null),Nt(d,b),Nt(c,b)))}
function wv(a,b,c,d){var e=Mt(a,W.a?W.a(0,.1):W.call(null,0,.1)),f=Mt(a,W.a?W.a(0,.3):W.call(null,0,.3));b=new L(null,4,5,N,[new L(null,2,5,N,[qv,Kt.j?Kt.j():Kt.call(null)],null),new L(null,2,5,N,[ov,b],null),new L(null,2,5,N,[pv,c],null),new L(null,2,5,N,[pv,d],null)],null);for(c=0;;){var g=Yc(b,c);d=I(g,0,null);g=I(g,1,null);if(B.a(uv(d,g,a,e)[1],uv(d,g,a,f)[1]))return c;if(3>c)c+=1;else return null}}
function yv(a,b,c){var d=ht(null),e=ht(1);Ms(function(d,e){return function(){var k=function(){return function(b){return function(){function a(c){for(;;){var d;a:try{for(;;){var f=b(c);if(!le(f,R)){d=f;break a}}}catch(e){if(e instanceof Object)c[5]=e,dt(c),d=R;else throw e;}if(!le(d,R))return d}}function c(){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];b[0]=d;b[1]=1;return b}var d=null,d=function(b){switch(arguments.length){case 0:return c.call(this);
case 1:return a.call(this,b)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=a;return d}()}(function(d,f){return function(d){var e=d[1];if(7===e)return d[2]=d[2],d[1]=4,R;if(20===e){var g=d[2];d[7]=g;d[2]=null;d[1]=21;return R}if(1===e)return d[1]=r(Pm instanceof J)?2:3,R;if(24===e)return g=d[8],d[7]=g,d[2]=null,d[1]=21,R;if(4===e){var g=d[2],h=Xt(a,kd([Wj,4,hj,b+-5],0));d[9]=h;d[10]=g;d[2]=null;d[1]=10;return R}if(15===e)throw d=[t("canvas layer "),t(Pm),t(" not found.")].join(""),Error(d);
if(21===e)return e=d[11],g=d[7],g=""+t(g),g=Mu(e,hk,g),e=cu(e,0,.5),d[12]=e,d[13]=g,Zs(d,23,f);if(13===e)return g=d[2],e=""+t(c),e=Nu(hk,e,kd([Wj,4,ks,0,km,50,hj,b],0)),d[11]=e,d[14]=g,d[2]=null,d[1]=19,R;if(22===e)return e=d[2],d[2]=e,dt(d),R;if(6===e)throw d=[t("canvas layer "),t(Pm),t(" not found.")].join(""),Error(d);return 25===e?(d[2]=null,d[1]=26,R):17===e?(e=d[2],d[2]=e,dt(d),R):3===e?(d[2]=Pm,d[1]=4,R):12===e?(d[2]=Pm,d[1]=13,R):2===e?(e=d[15],e=pl.b(Ru),e=Pm.b(e),d[15]=e,d[1]=r(e)?5:6,R):
23===e?(e=d[2],d[8]=e,d[1]=r(e)?24:25,R):19===e?(e=d[11],g=d[14],ct(d,null,null,18,17),e=g.addChild(e),d[16]=e,Zs(d,20,f)):11===e?(e=d[17],e=pl.b(Ru),e=Pm.b(e),d[17]=e,d[1]=r(e)?14:15,R):9===e?(h=d[9],g=d[10],e=d[2],g=g.removeChild(h),d[18]=e,d[19]=g,dt(d),R):5===e?(e=d[15],d[2]=e,d[1]=7,R):14===e?(e=d[17],d[2]=e,d[1]=16,R):26===e?(d[2]=d[2],d[1]=22,R):16===e?(d[2]=d[2],d[1]=13,R):10===e?(h=d[9],g=d[10],ct(d,null,null,9,8),e=g.addChild(h),g=Pm instanceof J,d[20]=e,d[1]=r(g)?11:12,R):18===e?(e=d[11],
g=d[14],h=d[2],e=g.removeChild(e),d[21]=e,d[22]=h,dt(d),R):8===e?at(d,d[2]):null}}(d,e),d,e)}(),m=function(){var b=k.j?k.j():k.call(null);b[6]=d;return b}();return Ys(m)}}(e,d));return d}function zv(a){a=7+2.01*Math.sin(a/60);return W.a?W.a(9,a):W.call(null,9,a)}function Av(a){var b=56+3*Math.sin(a/40);a=23+3*Math.sin(a/40);return W.a?W.a(b,a):W.call(null,b,a)}function Bv(a){a=62+3*Math.sin(a/60);return W.a?W.a(a,20):W.call(null,a,20)}var Cv=W.a?W.a(0,.01):W.call(null,0,.01);
function Dv(a,b,c,d){var e=ht(1);Ms(function(f){return function(){var e=function(){return function(b){return function(){function a(c){for(;;){var d;a:try{for(;;){var f=b(c);if(!le(f,R)){d=f;break a}}}catch(e){if(e instanceof Object)c[5]=e,dt(c),d=R;else throw e;}if(!le(d,R))return d}}function c(){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];b[0]=d;b[1]=1;return b}var d=null,d=function(b){switch(arguments.length){case 0:return c.call(this);
case 1:return a.call(this,b)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=a;return d}()}(function(){return function(f){var e=f[1];if(7===e)return f[2]=f[2],f[1]=4,R;if(20===e){var e=f[7],g=f[8],e=w(e),k=x(e),e=A(e),k=Rt(k),g=$t(g,k),k=Ct();f[9]=e;f[10]=g;return Zs(f,22,k)}if(1===e)return f[1]=r(a instanceof J)?2:3,R;if(24===e)return e=f[9],f[7]=e,f[2]=null,f[1]=20,R;if(4===e)return k=f[2],g=Xt(yk,kd([Wj,1,km,b[0],hj,b[1]],0)),f[11]=k,f[8]=g,f[2]=null,f[1]=10,R;if(15===e)return f[2]=
null,f[1]=16,R;if(21===e)return e=f[2],f[2]=e,dt(f),R;if(13===e)return e=f[12],f[13]=f[2],f[1]=r(300>e)?14:15,R;if(22===e)return e=f[2],g=Ct(),f[14]=e,Zs(f,23,g);if(6===e)throw f=[t("canvas layer "),t(a),t(" not found.")].join(""),Error(f);if(25===e)return f[2]=null,f[1]=26,R;if(17===e)return e=f[12],g=f[8],e=Yc(new L(null,5,5,N,[yk,Oj,bk,ij,Hl],null),e/60|0),e=Rt(e),e=$t(g,e),f[2]=e,f[1]=19,R;if(3===e)return f[2]=a,f[1]=4,R;if(12===e){var e=f[2],g=new L(null,6,5,N,[bs,Xl,Bj,Am,Lj,Bk],null),q=w(g),
k=x(q),q=A(q);f[7]=g;f[15]=q;f[16]=e;f[17]=k;f[2]=null;f[1]=20;return R}if(2===e)return e=f[18],e=pl.b(Ru),e=a.b?a.b(e):a.call(null,e),f[18]=e,f[1]=r(e)?5:6,R;if(23===e)return e=f[9],f[19]=f[2],f[1]=r(e)?24:25,R;if(19===e){var u=f[20],k=f[21],e=f[12],g=f[2],q=Bv(1+d+e),y=Av(1+d+e),z=zv(1+d+e),C=Kt.j?Kt.j():Kt.call(null),u=Mt(k,u),u=vv(nv,C,k,u),z=vv(ov,z,k,u),y=vv(pv,y,k,z),q=vv(pv,q,k,y),k=Nt(q,k),k=Mt(k,Cv),k=Ot(k,.98);f[20]=k;f[21]=q;f[12]=e+1;f[22]=g;f[2]=null;f[1]=11;return R}return 11===e?(k=
f[21],g=f[8],e=Ot(k,16),e=Zt(g,e),g=Ct(),f[23]=e,Zs(f,13,g)):9===e?(k=f[11],g=f[8],e=f[2],g=k.removeChild(g),f[24]=e,f[25]=g,dt(f),R):5===e?(e=f[18],f[2]=e,f[1]=7,R):14===e?(e=f[12],f[1]=r(0<(e%3+3)%3)?17:18,R):26===e?(f[2]=f[2],f[1]=21,R):16===e?(f[2]=f[2],f[1]=12,R):10===e?(k=f[11],g=f[8],ct(f,null,null,9,8),e=k.addChild(g),k=b,u=c,f[20]=u,f[26]=e,f[21]=k,f[12]=0,f[2]=null,f[1]=11,R):18===e?(g=f[8],e=Rt(Hl),e=$t(g,e),f[2]=e,f[1]=19,R):8===e?at(f,f[2]):null}}(f),f)}(),k=function(){var b=e.j?e.j():
e.call(null);b[6]=f;return b}();return Ys(k)}}(e));return e}
if("undefined"===typeof Ev)var Ev=function(){var a=ht(1);Ms(function(b){return function(){var a=function(){return function(b){return function(){function a(c){for(;;){var d;a:try{for(;;){var f=b(c);if(!le(f,R)){d=f;break a}}}catch(g){if(g instanceof Object)c[5]=g,dt(c),d=R;else throw g;}if(!le(d,R))return d}}function c(){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,
null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];b[0]=d;b[1]=1;return b}var d=null,d=function(b){switch(arguments.length){case 0:return c.call(this);case 1:return a.call(this,b)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=a;return d}()}(function(b){return function(a){var c=a[1];if(275===c){var d=a[7],m=d-1,h;a[8]=a[2];var n=h=a;n[2]=m;n[1]=274;return R}if(249===c){var p=a[9];h=a;h[1]=r(p)?251:252;return R}if(121===c){var q=a[10],
u=q+1,y=h=a;y[2]=u;y[1]=123;return R}if(65===c){var z=a[11],C=a[12];ct(a,null,null,64,63);var F=z.addChild(C),K=ql instanceof J;a[13]=F;h=a;h[1]=r(K)?66:67;return R}if(70===c){var Q=[t("canvas layer "),t(ql),t(" not found.")].join("");throw Error(Q);}if(218===c){var ga=h=a;ga[2]=null;ga[1]=238;return R}if(62===c){var ha=a[2],E=h=a;E[2]=ha;E[1]=59;return R}if(74===c){var va=a[14],ba=a[15],P=a[16];ct(a,null,null,73,72);var da=P.addChild(ba),Z=va.scale=Wt(4,4),S=W.a?W.a(0,0):W.call(null,0,0),U=W.a?W.a(1.5,
4.5):W.call(null,1.5,4.5),X=At(km),ca=jk,T=0,O=S,M=U,V=0,ua=0,q=10,Ka=X,Ba=ds;a[17]=ua;a[18]=ca;a[19]=Ba;a[20]=da;a[21]=Ka;a[22]=Z;a[23]=M;a[24]=O;a[10]=q;a[25]=V;a[26]=T;var Ya=h=a;Ya[2]=null;Ya[1]=75;return R}if(164===c){var kb=h=a;kb[2]=0;kb[1]=166;return R}if(282===c){var zb=h=a;zb[2]=Tl;zb[1]=279;return R}if(273===c){var d=a[7],Tb=h=a;Tb[2]=d;Tb[1]=274;return R}if(186===c){var Mb=a[27];ct(a,182,Error,null,181);var od=-1===Mb;h=a;h[1]=r(od)?187:188;return R}if(233===c)return h=a,h[1]=235,R;if(188===
c)return h=a,h[1]=214,R;if(240===c)return h=a,h[1]=242,R;if(110===c){var Tf=a[28],Bd=a[2];a[28]=Bd;h=a;h[1]=r(Bd)?118:119;return R}if(130===c){var M=a[23],Ze=a[29],xv=Mt(M,Ze),gg=h=a;gg[2]=xv;gg[1]=128;return R}if(128===c){var ed=a[30],fd=a[31],gd=a[32],hg=a[33],$b=a[34],Rc=a[2],Fv=Kt.j?Kt.j():Kt.call(null),Gv=W.a?W.a(0,.1):W.call(null,0,.1),Hv=Mt(Rc,Gv),Iv=uv(qv,Fv,Rc,Hv),Jv=uv(ov,fd,Rc,Iv),Kv=uv(pv,gd,Rc,Jv),Lv=uv(pv,ed,Rc,Kv),af=.06>Math.abs(Lv[1]-Rc[1]),ig=tv();a[33]=ig;a[35]=af;a[34]=Rc;h=a;
h[1]=r(ig)?134:135;return R}if(259===c){var ca=a[18],O=a[24],bf=Pt(O,a[2]),Mv=B.a(ca,xk);a[36]=bf;h=a;h[1]=Mv?260:261;return R}if(210===c){var Nv=a[2];h=a;h[2]=Nv;dt(h);return R}if(229===c){var jg=a[37];throw jg;}if(153===c){var kg=a[38],lg=h=a;lg[2]=kg;lg[1]=154;return R}if(213===c){var Ov=a[2],mg=h=a;mg[2]=Ov;mg[1]=210;return R}if(7===c){var Pv=[t("canvas layer "),t(ql),t(" not found.")].join("");throw Error(Pv);}if(59===c){var Rb=a[39],z=a[2],Qv=mv(),Rv=Jf.a(td,Qv),Sv=xu(Rb,Rv),C=du(kd([rj,Sv,
ks,0,Dl,0,Wj,4,il,!0],0));a[11]=z;a[12]=C;var ng=h=a;ng[2]=null;ng[1]=65;return R}if(86===c){var og=h=a;og[2]=0;og[1]=88;return R}if(154===c){var Tv=a[2];h=a;h[1]=r(Tv)?155:156;return R}if(20===c){var Od=a[40],fc=a[41];ct(a,null,null,19,18);var Uv=Od.addChild(fc),Vv=ql instanceof J;a[42]=Uv;h=a;h[1]=r(Vv)?21:22;return R}if(224===c){var pg=a[43];throw pg;}if(72===c){var Wv=a[2];h=a;h[2]=Wv;dt(h);return R}if(58===c){var qg=h=a;qg[2]=ql;qg[1]=59;return R}if(205===c){var rg=h=a;rg[2]=null;rg[1]=206;return R}if(60===
c){var sg=a[44],tg=h=a;tg[2]=sg;tg[1]=62;return R}if(175===c){var hd=a[45],O=a[24],cf=a[2],df=Math.abs(O[0]),Mb=Math.sign(O[0]),Xv=sv(hd,.5),gc=Math.sign(Xv[0]);a[46]=cf;a[27]=Mb;a[47]=gc;a[48]=df;var ug=h=a;ug[2]=null;ug[1]=217;return R}if(27===c){var Yv=a[2];h=a;h[2]=Yv;dt(h);return R}if(1===c){var Zv=mu(rv,vl,new L(null,1,5,N,["img/tiles.png"],null));h=a;return Zs(h,2,Zv)}if(69===c){var vg=a[49],wg=h=a;wg[2]=vg;wg[1]=71;return R}if(101===c){var T=a[26],$v=0===((T/10|0)%2+2)%2;h=a;h[1]=r($v)?104:
105;return R}if(24===c){var xg=a[50],yg=h=a;yg[2]=xg;yg[1]=26;return R}if(102===c){var Sc=a[51],zg=h=a;zg[2]=Sc;zg[1]=103;return R}if(135===c){var hg=a[33],Ag=h=a;Ag[2]=hg;Ag[1]=136;return R}if(55===c){var Gb=a[52],Pd=a[53],aw=a[2],bw=Pd.removeChild(Gb);a[54]=aw;a[55]=bw;h=a;dt(h);return R}if(269===c){var cw=At(km),Bg=h=a;Bg[2]=cw;Bg[1]=271;return R}if(206===c){var dw=a[2],Cg=h=a;Cg[2]=dw;Cg[1]=203;return R}if(165===c)return h=a,h[1]=167,R;if(85===c){var ew=a[2],Dg=h=a;Dg[2]=ew;Dg[1]=82;return R}if(225===
c){var fw=a[2];h=a;h[2]=fw;dt(h);return R}if(39===c){var Eg=a[56],gw=pl.b(rv),Fg=ql.b(gw);a[56]=Fg;h=a;h[1]=r(Fg)?42:43;return R}if(274===c){var Ba=a[19],ef=a[2];a[57]=ef;h=a;switch(Ba instanceof J?Ba.Ia:null){case "left":h[1]=277;break;case "right":h[1]=278;break;default:throw Error([t("No matching clause: "),t(Ba)].join(""));}return R}if(88===c){var hw=a[2],Gg=h=a;Gg[2]=hw;Gg[1]=85;return R}if(217===c){Mb=a[27];ct(a,177,Error,null,176);var iw=1===Mb;h=a;h[1]=r(iw)?218:219;return R}if(46===c){var Qd=
a[58],Tc=a[59],jw=a[2],kw=Qd.removeChild(Tc);a[60]=jw;a[61]=kw;h=a;dt(h);return R}if(149===c){var Hg=h=a;Hg[2]=0;Hg[1]=151;return R}if(239===c){var lw=W.a?W.a(-1,0):W.call(null,-1,0),Ig=h=a;Ig[2]=lw;Ig[1]=241;return R}if(157===c){var Rd=a[62],te=a[63],hd=a[45],ff=a[2],Jg=sv(hd,.2)[1],mw=0>Jg,nw=Ra(Rd)&&mw;a[64]=ff;a[63]=Jg;h=a;h[1]=r(nw)?161:162;return R}if(4===c){var Kg=h=a;Kg[2]=ql;Kg[1]=5;return R}if(204===c)throw Y;if(77===c){var Lg=a[65],Mg=h=a;Mg[2]=Lg;Mg[1]=79;return R}if(106===c){var ow=a[2],
Ng=h=a;Ng[2]=ow;Ng[1]=103;return R}if(197===c)throw Y;if(232===c){var pw=W.a?W.a(-1,0):W.call(null,-1,0),Og=h=a;Og[2]=pw;Og[1]=234;return R}if(260===c){var qw=Kt.j?Kt.j():Kt.call(null),Pg=h=a;Pg[2]=qw;Pg[1]=262;return R}if(267===c){var Qg=a[66],Rg=h=a;Rg[2]=Qg;Rg[1]=268;return R}if(119===c){var ua=a[17],Sg=h=a;Sg[2]=ua;Sg[1]=120;return R}if(222===c){var pg=a[43],Tg=a[2],rw=Tg===Y;a[43]=Tg;h=a;h[1]=r(rw)?223:224;return R}if(95===c){var Ug=h=a;Ug[2]=1;Ug[1]=97;return R}if(144===c){var Vg=a[67],Wg=h=
a;Wg[2]=Vg;Wg[1]=145;return R}if(176===c){var gf=a[68],hf=a[2];a[69]=hf;h=a;h[1]=r(gf)?248:249;return R}if(192===c){var Xg=h=a;Xg[2]=null;Xg[1]=200;return R}if(54===c){var sw=a[2];h=a;h[2]=sw;dt(h);return R}if(92===c){var Yg=h=a;Yg[2]=-1;Yg[1]=94;return R}if(221===c){var tw=a[2],Zg=h=a;Zg[2]=tw;Zg[1]=220;return R}if(141===c){var Vg=a[67],$g=tv();a[67]=$g;h=a;h[1]=r($g)?143:144;return R}if(264===c){var Uc=a[70],$b=a[34],uw=Nt(Uc,$b),vw=Pt(uw,0),ah=h=a;ah[2]=vw;ah[1]=265;return R}if(137===c){var af=
a[35],bh=h=a;bh[2]=af;bh[1]=139;return R}if(234===c){var ww=a[2];h=a;h[2]=ww;dt(h);return R}if(104===c){var Sc=a[51],ch=h=a;ch[2]=Sc;ch[1]=106;return R}if(15===c){var dh=a[71],eh=h=a;eh[2]=dh;eh[1]=17;return R}if(48===c){var fh=a[72],xw=pl.b(rv),gh=ql.b(xw);a[72]=gh;h=a;h[1]=r(gh)?51:52;return R}if(242===c)throw Y;if(50===c){Sc=a[51];Pd=a[2];Gb=Xt(Sc,kd([Wj,4],0));a[52]=Gb;a[53]=Pd;var hh=h=a;hh[2]=null;hh[1]=56;return R}if(251===c){var ca=a[18],ih=h=a;ih[2]=ca;ih[1]=253;return R}if(116===c){var yw=
a[2],jh=h=a;jh[2]=yw;jh[1]=113;return R}if(75===c){var ue=a[73],wc=a[74],Vc=a[75],kh=a[76],Lg=a[65],M=a[23],lh=Ot(M,-64),ub=lh[0],vb=lh[1],jf=M[0],kf=M[1],mh=jf|0,nh=kf|0,zw=jf-mh,Aw=kf-nh,oh=zu(0);a[73]=kf;a[74]=mh;a[75]=nh;a[77]=zw;a[78]=Aw;a[76]=jf;a[65]=oh;a[79]=vb;a[80]=ub;h=a;h[1]=r(oh)?77:78;return R}if(159===c){var ph=h=a;ph[2]=.03;ph[1]=160;return R}if(99===c){var qh=h=a;qh[2]=null;qh[1]=100;return R}if(281===c){var Ba=a[19],rh=h=a;rh[2]=Ba;rh[1]=279;return R}if(21===c){var xg=a[50],Bw=pl.b(rv),
sh=ql.b(Bw);a[50]=sh;h=a;h[1]=r(sh)?24:25;return R}if(31===c){var th=h=a;th[2]=ql;th[1]=32;return R}if(113===c){var Cw=a[2],uh=h=a;uh[2]=Cw;uh[1]=110;return R}if(32===c){var Rb=a[39],Sd=a[2],Dw=xu(Rb,lv),Wc=du(kd([rj,Dw,ks,0,Dl,0,Wj,4,il,!0],0));a[81]=Sd;a[82]=Wc;var Si=h=a;Si[2]=null;Si[1]=38;return R}if(136===c){var Ew=a[2];h=a;h[1]=r(Ew)?140:141;return R}if(139===c){var Fw=a[2],bn=h=a;bn[2]=Fw;bn[1]=136;return R}if(174===c){var hc=a[83],Gw=W.a?W.a(hc,0):W.call(null,hc,0),cn=h=a;cn[2]=Gw;cn[1]=
175;return R}if(208===c){var Hw=W.a?W.a(1,0):W.call(null,1,0),dn=h=a;dn[2]=Hw;dn[1]=210;return R}if(182===c){var en=a[84],fn=a[2],Iw=fn===Y;a[84]=fn;h=a;h[1]=r(Iw)?183:184;return R}if(256===c){var ca=a[18],lf=a[2],Jw=B.a(ca,xk);a[85]=lf;h=a;h[1]=Jw?257:258;return R}if(214===c)throw Y;if(193===c){var gn=a[86];throw gn;}if(241===c){var Kw=a[2];h=a;h[2]=Kw;dt(h);return R}if(226===c){var Lw=a[2],hn=h=a;hn[2]=Lw;hn[1]=225;return R}if(235===c)throw Y;if(262===c){var ed=a[30],ca=a[18],fd=a[31],ff=a[64],
cf=a[46],gd=a[32],bf=a[36],lf=a[85],hf=a[69],df=a[48],$b=a[34],Mw=Mt(bf,a[2]),Nw=Mt(Mw,ff),Ow=Mt(Nw,cf),Pw=Ot(hf,df/3),Qw=Mt(Ow,Pw),Rw=Ot(Qw,.98),Sw=Mt($b,Rw),Tw=Kt.j?Kt.j():Kt.call(null),Uw=uv(lf,Tw,$b,Sw),Vw=uv(ov,fd,$b,Uw),Ww=uv(pv,gd,$b,Vw),Uc=uv(pv,ed,$b,Ww),Xw=B.a(jk,ca);a[70]=Uc;h=a;h[1]=Xw?263:264;return R}if(263===c){var Uc=a[70],$b=a[34],Yw=Nt(Uc,$b),jn=h=a;jn[2]=Yw;jn[1]=265;return R}if(40===c){var kn=h=a;kn[2]=ql;kn[1]=41;return R}if(129===c){var M=a[23],ln=h=a;ln[2]=M;ln[1]=128;return R}if(91===
c){var ed=a[30],mn=a[87],ve=a[88],fd=a[31],gd=a[32],nn=a[89],on=a[90],hd=a[45],T=a[26],pn=a[2],qn=W.a?W.a(ve,pn):W.call(null,ve,pn),rn=zv(T),sn=zv(T-1),Ze=Nt(rn,sn),tn=Av(T),un=Av(T-1),mf=Nt(tn,un),vn=Bv(T),wn=Bv(T-1),nf=Nt(vn,wn),Zw=.02<Math.abs(qn[0]);a[30]=vn;a[91]=mf;a[87]=wn;a[31]=rn;a[92]=nf;a[32]=tn;a[89]=un;a[90]=sn;a[45]=qn;a[29]=Ze;h=a;h[1]=r(Zw)?101:102;return R}if(117===c){var ua=a[17],$w=ua+1;a[93]=a[2];var xn=h=a;xn[2]=$w;xn[1]=116;return R}if(172===c){var ca=a[18],gf=a[2],ax=B.a(xk,
ca);a[68]=gf;h=a;h[1]=ax?173:174;return R}if(108===c){var wc=a[74],Vc=a[75],ic=a[94],yn=new L(null,2,5,N,[wc,Vc],null),bx=ic.b?ic.b(yn):ic.call(null,yn);h=a;h[1]=r(bx)?111:112;return R}if(156===c){var cx=Kt.j?Kt.j():Kt.call(null),zn=h=a;zn[2]=cx;zn[1]=157;return R}if(223===c){var An=h=a;An[2]=null;An[1]=231;return R}if(181===c){var dx=a[2],Bn=h=a;Bn[2]=dx;Bn[1]=180;return R}if(278===c){var Gb=a[52],ex=Gb.scale=Wt(4,4),Cn=h=a;Cn[2]=ex;Cn[1]=276;return R}if(56===c){Gb=a[52];Pd=a[53];ct(a,null,null,
55,54);var fx=Pd.addChild(Gb),gx=ql instanceof J;a[95]=fx;h=a;h[1]=r(gx)?57:58;return R}if(33===c){var Dn=a[96],En=h=a;En[2]=Dn;En[1]=35;return R}if(13===c){var Fn=h=a;Fn[2]=ql;Fn[1]=14;return R}if(22===c){var Gn=h=a;Gn[2]=ql;Gn[1]=23;return R}if(257===c){var Hn=h=a;Hn[2]=0;Hn[1]=259;return R}if(168===c){var In=h=a;In[2]=null;In[1]=169;return R}if(90===c){var hx=At(Nk);h=a;h[1]=r(hx)?92:93;return R}if(237===c){var ix=a[2],Jn=h=a;Jn[2]=ix;Jn[1]=234;return R}if(109===c){var Kn=h=a;Kn[2]=null;Kn[1]=
110;return R}if(216===c){var jx=a[2],Ln=h=a;Ln[2]=jx;Ln[1]=189;return R}if(191===c){var gn=a[86],Mn=a[2],kx=Mn===Y;a[86]=Mn;h=a;h[1]=r(kx)?192:193;return R}if(143===c){var V=a[25],lx=0<V,Nn=h=a;Nn[2]=lx;Nn[1]=145;return R}if(178===c){var On=h=a;On[2]=null;On[1]=186;return R}if(247===c){var mx=a[2],Pn=h=a;Pn[2]=mx;Pn[1]=220;return R}if(167===c){var te=a[63],Qn=h=a;Qn[2]=te;Qn[1]=169;return R}if(36===c){var nx=a[2];h=a;h[2]=nx;dt(h);return R}if(41===c){var Rb=a[39],Qd=a[2],ox=xu(Rb,lv),Tc=du(kd([rj,
ox,ks,0,Dl,0,Wj,4,il,!0],0));a[58]=Qd;a[59]=Tc;var Rn=h=a;Rn[2]=null;Rn[1]=47;return R}if(187===c){var Sn=h=a;Sn[2]=null;Sn[1]=207;return R}if(195===c){var px=a[2],Tn=h=a;Tn[2]=px;Tn[1]=194;return R}if(118===c){var Tf=a[28],Un=h=a;Un[2]=Tf;Un[1]=120;return R}if(150===c){var Vn=h=a;Vn[2]=null;Vn[1]=151;return R}if(238===c){gc=a[47];ct(a,222,Error,null,221);var qx=0===gc;h=a;h[1]=r(qx)?239:240;return R}if(196===c){var Wn=a[97],Xn=a[2],rx=Xn===Y;a[97]=Xn;h=a;h[1]=r(rx)?197:198;return R}if(162===c){var of=
a[98],Rd=a[62],te=a[63],sx=Ra(Rd),tx=0<te,ux=Ra(of)&&sx&&tx;h=a;h[1]=r(ux)?164:165;return R}if(184===c)throw en=a[84],en;if(219===c)return h=a,h[1]=245,R;if(89===c){var Yn=a[99],Zn=h=a;Zn[2]=Yn;Zn[1]=91;return R}if(100===c){var vx=a[2],$n=h=a;$n[2]=vx;$n[1]=97;return R}if(243===c){var ao=h=a;ao[2]=null;ao[1]=244;return R}if(131===c){var mf=a[91],M=a[23],wx=Mt(M,mf),bo=h=a;bo[2]=wx;bo[1]=128;return R}if(122===c){var q=a[10],co=h=a;co[2]=q;co[1]=123;return R}if(43===c){var xx=[t("canvas layer "),t(ql),
t(" not found.")].join("");throw Error(xx);}if(231===c){gc=a[47];ct(a,227,Error,null,226);var yx=-1===gc;h=a;h[1]=r(yx)?232:233;return R}if(61===c){var zx=[t("canvas layer "),t(ql),t(" not found.")].join("");throw Error(zx);}if(29===c){var Xc=a[100],Td=a[101];ct(a,null,null,28,27);var Ax=Td.addChild(Xc),Bx=ql instanceof J;a[102]=Ax;h=a;h[1]=r(Bx)?30:31;return R}if(151===c){var Cx=a[2],eo=h=a;eo[2]=Cx;eo[1]=148;return R}if(44===c){var Dx=a[2],fo=h=a;fo[2]=Dx;fo[1]=41;return R}if(258===c){var O=a[24],
Ex=O[1],go=h=a;go[2]=Ex;go[1]=259;return R}if(250===c){var ho=a[103],io=a[2],Fx=B.a(jk,io);a[103]=io;h=a;h[1]=Fx?254:255;return R}if(93===c){var Gx=At(qj);h=a;h[1]=r(Gx)?95:96;return R}if(6===c){var jo=a[104],ko=h=a;ko[2]=jo;ko[1]=8;return R}if(111===c){var wc=a[74],Vc=a[75],ic=a[94],fc=a[41],lo=a[105],mo=new L(null,2,5,N,[wc,Vc],null),Hx=ic.b?ic.b(mo):ic.call(null,mo),no=fc.getChildAt(Hx),Ix=B.a(1,no.alpha);a[105]=no;h=a;h[1]=Ix?114:115;return R}if(28===c){var Xc=a[100],Td=a[101],Jx=a[2],Kx=Td.removeChild(Xc);
a[106]=Kx;a[107]=Jx;h=a;dt(h);return R}if(134===c){var oo=a[108],V=a[25],po=0===V;a[108]=po;h=a;h[1]=r(po)?137:138;return R}if(64===c){var z=a[11],C=a[12],Lx=a[2],Mx=z.removeChild(C);a[109]=Mx;a[110]=Lx;h=a;dt(h);return R}if(189===c){var Nx=a[2];h=a;h[2]=Nx;dt(h);return R}if(280===c){var qo=h=a;qo[2]=ds;qo[1]=279;return R}if(198===c)throw Wn=a[97],Wn;if(155===c){var we=a[111],Ox=B.a(1,we);h=a;h[1]=Ox?158:159;return R}if(248===c){var ro=h=a;ro[2]=xk;ro[1]=250;return R}if(227===c){var jg=a[37],so=a[2],
Px=so===Y;a[37]=so;h=a;h[1]=r(Px)?228:229;return R}if(220===c){var Qx=a[2];h=a;h[2]=Qx;dt(h);return R}if(103===c){var ue=a[73],mn=a[87],Gb=a[52],Wc=a[82],nn=a[89],va=a[14],kh=a[76],on=a[90],ba=a[15],Xc=a[100],C=a[12],vb=a[79],ub=a[80],Tc=a[59],fc=a[41],Rx=$t(Gb,a[2]),Sx=Yt(Gb,(ub|0)+64*kh,(vb|0)+64*ue),Tx=Yt(fc,ub|0,vb|0),Ux=Yt(ba,ub|0,vb|0),Vx=Ot(on,64),Wx=W.a?W.a(ub,vb):W.call(null,ub,vb),Xx=Mt(Vx,Wx),Yx=Zt(Xc,Xx),Zx=Ot(nn,64),$x=W.a?W.a(ub,vb):W.call(null,ub,vb),ay=Mt(Zx,$x),by=Zt(Wc,ay),cy=Ot(mn,
64),dy=W.a?W.a(ub,vb):W.call(null,ub,vb),ey=Mt(cy,dy),fy=Zt(Tc,ey),gy=Yt(C,ub|0,vb|0),hy=Yt(va,-2E3+((.9*ub|0)%128+128)%128,-2E3+((.9*vb|0)%128+128)%128),iy=Ct();a[112]=hy;a[113]=Sx;a[114]=Tx;a[115]=fy;a[116]=gy;a[117]=Ux;a[118]=Rx;a[119]=Yx;a[120]=by;h=a;return Zs(h,107,iy)}if(170===c){var Ud=a[121],jy=Ra(0===Ud),to=h=a;to[2]=jy;to[1]=172;return R}if(51===c){var fh=a[72],uo=h=a;uo[2]=fh;uo[1]=53;return R}if(25===c){var ky=[t("canvas layer "),t(ql),t(" not found.")].join("");throw Error(ky);}if(261===
c){var vo=h=a;vo[2]=Cv;vo[1]=262;return R}if(201===c){var ly=W.a?W.a(1,0):W.call(null,1,0),wo=h=a;wo[2]=ly;wo[1]=203;return R}if(166===c){var my=a[2],xo=h=a;xo[2]=my;xo[1]=163;return R}if(34===c){var ny=[t("canvas layer "),t(ql),t(" not found.")].join("");throw Error(ny);}if(252===c){var yo=h=a;yo[2]=jk;yo[1]=253;return R}if(146===c){var V=a[25],oy=V+1,zo=h=a;zo[2]=oy;zo[1]=148;return R}if(228===c)throw Y;if(125===c){var Ao=h=a;Ao[2]=null;Ao[1]=126;return R}if(276===c){var hc=a[83],T=a[26],py=a[2],
pf=T+1,qf=At(km),Bo=Math.sign(hc);a[122]=pf;a[123]=py;a[124]=qf;h=a;switch(Bo){case -1:h[1]=280;break;case 0:h[1]=281;break;case 1:h[1]=282;break;default:throw Error([t("No matching clause: "),t(Bo)].join(""));}return R}if(148===c){var qy=a[2],Co=h=a;Co[2]=qy;Co[1]=142;return R}if(17===c){var ry=a[2],Do=h=a;Do[2]=ry;Do[1]=14;return R}if(3===c){var jo=a[104],sy=pl.b(rv),Eo=ql.b(sy);a[104]=Eo;h=a;h[1]=r(Eo)?6:7;return R}if(279===c){var Vd=a[125],ef=a[57],pf=a[122],we=a[111],rf=a[126],Uc=a[70],ho=a[103],
qf=a[124],ty=a[2],ca=ho,T=pf,O=Vd,M=Uc,V=we,ua=rf,q=ef,Ka=qf,Ba=ty;a[17]=ua;a[18]=ca;a[19]=Ba;a[21]=Ka;a[23]=M;a[24]=O;a[10]=q;a[25]=V;a[26]=T;var Fo=h=a;Fo[2]=null;Fo[1]=75;return R}if(12===c){var dh=a[71],uy=pl.b(rv),Go=ql.b(uy);a[71]=Go;h=a;h[1]=r(Go)?15:16;return R}if(152===c){var vy=tv(),Ho=h=a;Ho[2]=vy;Ho[1]=154;return R}if(2===c){var Rb=a[39],Io=a[2],Jo=hu(),Ko=Tt(Jo),Lo=["0",3,130,11,142],Mo=new L(null,5,5,N,Lo,null),No=["1",22,130,26,142],Oo=new L(null,5,5,N,No,null),Po=["2",36,130,44,142],
Qo=new L(null,5,5,N,Po,null),Ro=["3",52,130,60,142],So=new L(null,5,5,N,Ro,null),To=["4",68,130,75,142],Uo=new L(null,5,5,N,To,null),Vo=["5",4,146,12,158],Wo=new L(null,5,5,N,Vo,null),Xo=["6",20,146,28,158],Yo=new L(null,5,5,N,Xo,null),Zo=["7",36,146,44,158],$o=new L(null,5,5,N,Zo,null),ap=["8",52,146,60,158],bp=new L(null,5,5,N,ap,null),cp=["9",68,146,76,158],dp=new L(null,5,5,N,cp,null),ep=[Mo,Oo,Qo,So,Uo,Wo,Yo,$o,bp,dp],fp=new L(null,10,5,N,ep,null),gp=Df.w(Iu,vd,hk,Ku(fp,5,12)),hp=["A",49,65,
52,70],ip=new L(null,5,5,N,hp,null),jp=["B",53,65,56,70],kp=new L(null,5,5,N,jp,null),lp=["C",57,65,60,70],mp=new L(null,5,5,N,lp,null),np=["D",61,65,64,70],op=new L(null,5,5,N,np,null),pp=["E",65,65,68,70],qp=new L(null,5,5,N,pp,null),rp=["F",69,65,72,70],sp=new L(null,5,5,N,rp,null),tp=["G",73,65,76,70],up=new L(null,5,5,N,tp,null),vp=["H",77,65,80,70],wp=new L(null,5,5,N,vp,null),xp=["I",81,65,82,70],yp=new L(null,5,5,N,xp,null),zp=["J",83,65,86,70],Ap=new L(null,5,5,N,zp,null),Bp=["K",87,65,90,
70],Cp=new L(null,5,5,N,Bp,null),Dp=["L",91,65,94,70],Ep=new L(null,5,5,N,Dp,null),Fp=["M",95,65,98,70],Gp=new L(null,5,5,N,Fp,null),Hp=["N",99,65,102,70],Ip=new L(null,5,5,N,Hp,null),Jp=["O",103,65,106,70],Kp=new L(null,5,5,N,Jp,null),Lp=["P",107,65,110,70],Mp=new L(null,5,5,N,Lp,null),Np=["Q",49,71,52,76],Op=new L(null,5,5,N,Np,null),Pp=["R",53,71,56,76],Qp=new L(null,5,5,N,Pp,null),Rp=["S",57,71,60,76],Sp=new L(null,5,5,N,Rp,null),Tp=["T",61,71,64,76],Up=new L(null,5,5,N,Tp,null),Vp=["U",65,71,
68,76],Wp=new L(null,5,5,N,Vp,null),Xp=["V",69,71,72,76],Yp=new L(null,5,5,N,Xp,null),Zp=["W",73,71,76,76],$p=new L(null,5,5,N,Zp,null),aq=["X",77,71,80,76],bq=new L(null,5,5,N,aq,null),cq=["Y",81,71,84,76],dq=new L(null,5,5,N,cq,null),eq=["Z",85,71,88,76],fq=new L(null,5,5,N,eq,null),gq=[".",90,71,91,76],hq=new L(null,5,5,N,gq,null),iq=["!",93,71,94,76],jq=new L(null,5,5,N,iq,null),kq=["?",96,71,99,76],lq=new L(null,5,5,N,kq,null),mq=["0",101,71,104,76],nq=new L(null,5,5,N,mq,null),oq=["1",106,71,
107,76],pq=new L(null,5,5,N,oq,null),qq=["2",108,71,111,76],rq=new L(null,5,5,N,qq,null),sq=["3",112,71,115,76],tq=new L(null,5,5,N,sq,null),uq=["4",49,77,52,82],vq=new L(null,5,5,N,uq,null),wq=["5",53,77,56,82],xq=new L(null,5,5,N,wq,null),yq=["6",57,77,60,82],zq=new L(null,5,5,N,yq,null),Aq=["7",61,77,64,82],Bq=new L(null,5,5,N,Aq,null),Cq=["8",65,77,68,82],Dq=new L(null,5,5,N,Cq,null),Eq=["9",69,77,72,82],Fq=new L(null,5,5,N,Eq,null),Gq=["+",73,77,76,82],Hq=new L(null,5,5,N,Gq,null),Iq=["-",77,
77,80,82],Jq=new L(null,5,5,N,Iq,null),Kq=["$",81,77,84,82],Lq=new L(null,5,5,N,Kq,null),Mq=["'",86,77,87,82],Nq=new L(null,5,5,N,Mq,null),Oq=['"',89,77,90,82],Pq=new L(null,5,5,N,Oq,null),Qq=[ip,kp,mp,op,qp,sp,up,wp,yp,Ap,Cp,Ep,Gp,Ip,Kp,Mp,Op,Qp,Sp,Up,Wp,Yp,$p,bq,dq,fq,hq,jq,lq,nq,pq,rq,tq,vq,xq,zq,Bq,Dq,Fq,Hq,Jq,Lq,Nq,Pq],Rq=cg(Qq),Sq=Df.w(Iu,vd,Mj,Ku(Rq,3,5)),Tq=ht(1),wy=Ms(function(){return function(a,b,c,d,e,f,g,h,k,m,n,p,q,u,y,z,C,E,F,K,M,O,P,Q,S,T,U,V,X,Z,ba,ca,da,ga,ha,ua,va,Ba,Ka,Ya,kb,ub,
vb,zb,Gb,Mb,Rb,Tb,$b,fc,gc,hc,ic,wc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,ed,fd,gd,hd,id,od,Bd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,te,ue,ve,we,xe,Ze,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Tf,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh){return function(){var Kk=function(){return function(a){return function(){function b(c){for(;;){var d;
a:try{for(;;){var e=a(c);if(!le(e,R)){d=e;break a}}}catch(f){if(f instanceof Object)c[5]=f,dt(c),d=R;else throw f;}if(!le(d,R))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null,d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.b=b;return d}()}(function(){return function(a){var b=a[1];if(7===b)return a[2]=a[2],a[1]=
4,R;if(1===b)return a[1]=r(Sk instanceof J)?2:3,R;if(4===b){var c=a[2],d=Nu(Mj,"DYNA-MINER 0.3",kd([Wj,4,ks,.5],0));a[7]=c;a[8]=d;a[2]=null;a[1]=10;return R}if(13===b)return a[9]=a[2],a[2]=null,a[1]=11,R;if(6===b)throw a=[t("canvas layer "),t(Sk),t(" not found.")].join(""),Error(a);return 3===b?(a[2]=Sk,a[1]=4,R):12===b?(b=a[2],a[2]=b,dt(a),R):2===b?(b=a[10],b=pl.b(Ru),b=Sk.b(b),a[10]=b,a[1]=r(b)?5:6,R):11===b?(b=Ct(),Zs(a,13,b)):9===b?(c=a[7],d=a[8],b=a[2],c=c.removeChild(d),a[11]=c,a[12]=b,dt(a),
R):5===b?(b=a[10],a[2]=b,a[1]=7,R):10===b?(c=a[7],d=a[8],ct(a,null,null,9,8),b=c.addChild(d),a[13]=b,a[2]=null,a[1]=11,R):8===b?at(a,a[2]):null}}(a,b,c,d,e,f,g,h,k,m,n,p,q,u,y,z,C,E,F,K,M,O,P,Q,S,T,U,V,X,Z,ba,ca,da,ga,ha,ua,va,Ba,Ka,Ya,kb,ub,vb,zb,Gb,Mb,Rb,Tb,$b,fc,gc,hc,ic,wc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,ed,fd,gd,hd,id,od,Bd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,te,ue,ve,we,xe,Ze,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Tf,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,
yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh),a,b,c,d,e,f,g,h,k,m,n,p,q,u,y,z,C,E,F,K,M,O,P,Q,S,T,U,V,X,Z,ba,ca,da,ga,ha,ua,va,Ba,Ka,Ya,kb,ub,vb,zb,Gb,Mb,Rb,Tb,$b,fc,gc,hc,ic,wc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,ed,fd,gd,hd,id,od,Bd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,te,ue,ve,we,xe,Ze,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Tf,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,
wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh)}(),Si=function(){var b=Kk.j?Kk.j():Kk.call(null);b[6]=a;return b}();return Ys(Si)}}(Tq,Rb,Io,Jo,Ko,N,N,Lo,Mo,N,No,Oo,N,Po,Qo,N,Ro,So,N,To,Uo,N,Vo,Wo,N,Xo,Yo,N,Zo,$o,N,ap,bp,N,cp,dp,ep,fp,Nh,gp,N,hp,ip,N,jp,kp,N,lp,mp,N,np,op,N,pp,qp,N,rp,sp,N,tp,up,N,vp,wp,N,xp,yp,N,zp,Ap,N,Bp,Cp,N,Dp,Ep,N,Fp,Gp,N,Hp,Ip,N,Jp,Kp,N,Lp,Mp,N,Np,Op,N,Pp,Qp,N,Rp,Sp,
N,Tp,Up,N,Vp,Wp,N,Xp,Yp,N,Zp,$p,N,aq,bq,N,cq,dq,N,eq,fq,N,gq,hq,N,iq,jq,N,kq,lq,N,mq,nq,N,oq,pq,N,qq,rq,N,sq,tq,N,uq,vq,N,wq,xq,N,yq,zq,N,Aq,Bq,N,Cq,Dq,N,Eq,Fq,N,Gq,Hq,N,Iq,Jq,N,Kq,Lq,N,Mq,Nq,N,Oq,Pq,Qq,Rq,Nh,Sq,Tq,c,b)}()),xy=wu(),yy=hu(),Sc=St(yy,new L(null,2,5,N,[0,96],null),new L(null,2,5,N,[16,16],null)),zy=hu(),sf=St(zy,new L(null,2,5,N,[16,96],null),new L(null,2,5,N,[16,16],null)),ic=yu(),Wd=yv(yk,0,10),tf=yv($k,-64,0),Ay=ql instanceof J;a[51]=Sc;a[127]=tf;a[128]=sf;a[129]=Sq;a[39]=xy;a[130]=
gp;a[131]=Io;a[94]=ic;a[132]=Wd;a[133]=Ko;a[134]=wy;h=a;h[1]=r(Ay)?3:4;return R}if(66===c){var vg=a[49],By=pl.b(rv),Uq=ql.b(By);a[49]=Uq;h=a;h[1]=r(Uq)?69:70;return R}if(236===c){var Vq=h=a;Vq[2]=null;Vq[1]=237;return R}if(142===c){var we=a[111],kg=a[38],uf=a[2],Cy=10>=uf,Wq=1<=uf&&Cy;a[111]=uf;a[38]=Wq;h=a;h[1]=r(Wq)?152:153;return R}if(107===c){var ue=a[73],wc=a[74],Vc=a[75],vf=a[135],wf=a[136],Dy=a[2],Xq=qu(uu,wc,Vc),Yq=qu(uu,wc,Vc+1),xe=qu(uu,wc,.3+ue|0),Ey=B.a(Xq,cm),Fy=B.a(Xq,kk),Gy=B.a(Yq,
kk),Xd=Ey||Fy||Gy,xf=new vi(null,new Ja(null,2,[kk,null,cm,null],null),null),p=xf.b?xf.b(xe):xf.call(null,xe),Hy=B.a($k,xe);a[9]=p;a[135]=xe;a[137]=Xd;a[138]=Dy;a[136]=Yq;h=a;h[1]=Hy?108:109;return R}if(23===c){var Rb=a[39],Td=a[2],Iy=xu(Rb,kv),Xc=du(kd([rj,Iy,ks,0,Dl,0,Wj,4,il,!0],0));a[100]=Xc;a[101]=Td;var Zq=h=a;Zq[2]=null;Zq[1]=29;return R}if(230===c){var Jy=a[2];h=a;h[2]=Jy;dt(h);return R}if(47===c){Qd=a[58];Tc=a[59];ct(a,null,null,46,45);var Ky=Qd.addChild(Tc),Ly=ql instanceof J;a[139]=Ky;
h=a;h[1]=r(Ly)?48:49;return R}if(180===c){var My=a[2];h=a;h[2]=My;dt(h);return R}if(158===c){var $q=h=a;$q[2]=.1;$q[1]=160;return R}if(35===c){var Ny=a[2],ar=h=a;ar[2]=Ny;ar[1]=32;return R}if(127===c){var Oy=a[2],br=h=a;br[2]=Oy;br[1]=126;return R}if(82===c){var Py=a[2],cr=h=a;cr[2]=Py;cr[1]=79;return R}if(76===c){var Qy=a[2];h=a;h[2]=Qy;dt(h);return R}if(215===c){var dr=h=a;dr[2]=null;dr[1]=216;return R}if(97===c){var Ry=a[2],er=h=a;er[2]=Ry;er[1]=94;return R}if(277===c){var Gb=a[52],Sy=Gb.scale=
Wt(-4,4),fr=h=a;fr[2]=Sy;fr[1]=276;return R}if(19===c){var Od=a[40],fc=a[41],Ty=a[2],Uy=Od.removeChild(fc);a[140]=Ty;a[141]=Uy;h=a;dt(h);return R}if(57===c){var sg=a[44],Vy=pl.b(rv),gr=ql.b(Vy);a[44]=gr;h=a;h[1]=r(gr)?60:61;return R}if(202===c)return h=a,h[1]=204,R;if(68===c){P=a[2];ba=du(kd([Wj,4,il,!1],0));a[15]=ba;a[16]=P;var hr=h=a;hr[2]=null;hr[1]=74;return R}if(200===c){gc=a[47];ct(a,196,Error,null,195);var Wy=1===gc;h=a;h[1]=r(Wy)?201:202;return R}if(11===c){var Yd=a[142],va=a[14];ct(a,null,
null,10,9);var Xy=Yd.addChild(va),Yy=ql instanceof J;a[143]=Xy;h=a;h[1]=r(Yy)?12:13;return R}if(115===c){var ir=h=a;ir[2]=null;ir[1]=116;return R}if(255===c){var jr=h=a;jr[2]=nv;jr[1]=256;return R}if(9===c){var Zy=a[2];h=a;return at(h,Zy)}if(145===c){var $y=a[2];h=a;h[1]=r($y)?146:147;return R}if(5===c){var Yd=a[2],az=hu(),bz=St(az,new L(null,2,5,N,[0,48],null),new L(null,2,5,N,[32,32],null)),va=new PIXI.TilingSprite(bz,1E3,1E3);a[142]=Yd;a[14]=va;var kr=h=a;kr[2]=null;kr[1]=11;return R}if(244===
c){var cz=a[2],lr=h=a;lr[2]=cz;lr[1]=241;return R}if(112===c){var mr=h=a;mr[2]=null;mr[1]=113;return R}if(179===c){var nr=a[144];throw nr;}if(245===c)throw Y;if(266===c){var or=a[145],Ka=a[21],pr=Ra(Ka);a[145]=pr;h=a;h[1]=pr?269:270;return R}if(254===c){var qr=h=a;qr[2]=qv;qr[1]=256;return R}if(83===c){var rr=h=a;rr[2]=1;rr[1]=85;return R}if(138===c){var oo=a[108],sr=h=a;sr[2]=oo;sr[1]=139;return R}if(14===c){var Rb=a[39],Od=a[2],dz=xu(Rb,uu),fc=du(kd([rj,dz,ks,0,Dl,0,Wj,4,il,!0],0));a[40]=Od;a[41]=
fc;var tr=h=a;tr[2]=null;tr[1]=20;return R}if(265===c){var d=a[7],Qg=a[66],Vd=a[2],ur=0<d;a[125]=Vd;a[66]=ur;h=a;h[1]=r(ur)?266:267;return R}if(45===c){var ez=a[2];h=a;h[2]=ez;dt(h);return R}if(53===c){var fz=a[2],vr=h=a;vr[2]=fz;vr[1]=50;return R}if(78===c){var gz=At(ds);h=a;h[1]=r(gz)?80:81;return R}if(132===c){var nf=a[92],M=a[23],hz=Mt(M,nf),wr=h=a;wr[2]=hz;wr[1]=128;return R}if(26===c){var iz=a[2],xr=h=a;xr[2]=iz;xr[1]=23;return R}if(123===c){var d=a[7],q=a[10],yr=a[2],jz=!B.a(q,yr);a[7]=yr;
h=a;h[1]=jz?124:125;return R}if(203===c){var kz=a[2];h=a;h[2]=kz;dt(h);return R}if(140===c){var V=a[25],lz=V+1,zr=h=a;zr[2]=lz;zr[1]=142;return R}if(268===c){var mz=a[2];h=a;h[1]=r(mz)?272:273;return R}if(16===c){var nz=[t("canvas layer "),t(ql),t(" not found.")].join("");throw Error(nz);}if(133===c){var M=a[23],Ar=h=a;Ar[2]=M;Ar[1]=128;return R}if(163===c){var Xd=a[137],hd=a[45],Ud=a[2],oz=sv(hd,.2),hc=Ot(oz,.01)[0];a[83]=hc;a[121]=Ud;h=a;h[1]=r(Xd)?170:171;return R}if(81===c){var pz=At(Tl);h=a;
h[1]=r(pz)?83:84;return R}if(120===c){var rf=a[2],qz=At(uj);a[126]=rf;h=a;h[1]=r(qz)?121:122;return R}if(79===c){var Yn=a[99],ve=a[2],Br=zu(1);a[99]=Br;a[88]=ve;h=a;h[1]=r(Br)?89:90;return R}if(211===c)throw Y;if(38===c){Sd=a[81];Wc=a[82];ct(a,null,null,37,36);var rz=Sd.addChild(Wc),sz=ql instanceof J;a[146]=rz;h=a;h[1]=r(sz)?39:40;return R}if(173===c){var hc=a[83],Ud=a[121],Cr=.1*Ud,tz=W.a?W.a(hc,Cr):W.call(null,hc,Cr),Dr=h=a;Dr[2]=tz;Dr[1]=175;return R}if(126===c){var ed=a[30],fd=a[31],gd=a[32],
vf=a[135],M=a[23],wf=a[136],uz=a[2],yf=new vi(null,new Ja(null,2,[kk,null,cm,null],null),null),Rd=yf.b?yf.b(vf):yf.call(null,vf),zf=new vi(null,new Ja(null,2,[kk,null,cm,null],null),null),of=zf.b?zf.b(wf):zf.call(null,wf),id=wv(M,fd,gd,ed);a[98]=of;a[62]=Rd;a[147]=uz;h=a;if(B.a(0,id))h[1]=129;else if(B.a(1,id))h[1]=130;else if(B.a(2,id))h[1]=131;else if(B.a(3,id))h[1]=132;else if(B.a(null,id))h[1]=133;else throw Error([t("No matching clause: "),t(id)].join(""));return R}if(98===c){var Er=h=a;Er[2]=
0;Er[1]=100;return R}if(124===c)return d=a[7],Wd=a[132],h=a,$s(h,127,Wd,d);if(171===c){var Xd=a[137],Fr=h=a;Fr[2]=Xd;Fr[1]=172;return R}if(87===c){var Gr=h=a;Gr[2]=null;Gr[1]=88;return R}if(169===c){var vz=a[2],Hr=h=a;Hr[2]=vz;Hr[1]=166;return R}if(160===c){var Ir=-a[2],wz=W.a?W.a(0,Ir):W.call(null,0,Ir),Jr=h=a;Jr[2]=wz;Jr[1]=157;return R}if(30===c){var Dn=a[96],xz=pl.b(rv),Kr=ql.b(xz);a[96]=Kr;h=a;h[1]=r(Kr)?33:34;return R}if(207===c){gc=a[47];ct(a,191,Error,null,190);var yz=0===gc;h=a;h[1]=r(yz)?
208:209;return R}if(194===c){var zz=a[2];h=a;h[2]=zz;dt(h);return R}if(73===c){var ba=a[15],P=a[16],Az=a[2],Bz=P.removeChild(ba);a[148]=Az;a[149]=Bz;h=a;dt(h);return R}if(96===c)return h=a,h[1]=98,R;if(10===c){var Yd=a[142],va=a[14],Cz=a[2],Dz=Yd.removeChild(va);a[150]=Dz;a[151]=Cz;h=a;dt(h);return R}if(272===c){var Vd=a[125],d=a[7],ba=a[15],M=a[23],Wd=a[132],T=a[26],Ez=Dv(ba,M,Vd,T),Fz=d-1;a[152]=Ez;h=a;return $s(h,275,Wd,Fz)}if(270===c){var or=a[145],Lr=h=a;Lr[2]=or;Lr[1]=271;return R}if(271===
c){var Gz=a[2],Mr=h=a;Mr[2]=Gz;Mr[1]=268;return R}if(18===c){var Hz=a[2];h=a;h[2]=Hz;dt(h);return R}if(105===c){var sf=a[128],Nr=h=a;Nr[2]=sf;Nr[1]=106;return R}if(185===c){var Iz=a[2];h=a;h[2]=Iz;dt(h);return R}if(52===c){var Jz=[t("canvas layer "),t(ql),t(" not found.")].join("");throw Error(Jz);}if(114===c){var ua=a[17],tf=a[127],lo=a[105],Kz=lo.alpha=0,Lz=ua+1;a[153]=Kz;h=a;return $s(h,117,tf,Lz)}if(253===c){var Mz=a[2],Or=h=a;Or[2]=Mz;Or[1]=250;return R}if(209===c)return h=a,h[1]=211,R;if(147===
c)return h=a,h[1]=149,R;if(67===c){var Pr=h=a;Pr[2]=ql;Pr[1]=68;return R}if(161===c){var Qr=h=a;Qr[2]=0;Qr[1]=163;return R}if(71===c){var Nz=a[2],Rr=h=a;Rr[2]=Nz;Rr[1]=68;return R}if(42===c){var Eg=a[56],Sr=h=a;Sr[2]=Eg;Sr[1]=44;return R}if(80===c){var Tr=h=a;Tr[2]=-1;Tr[1]=82;return R}if(199===c){var Oz=a[2];h=a;h[2]=Oz;dt(h);return R}if(37===c){var Sd=a[81],Wc=a[82],Pz=a[2],Qz=Sd.removeChild(Wc);a[154]=Qz;a[155]=Pz;h=a;dt(h);return R}if(183===c){var Rz=Kt.j?Kt.j():Kt.call(null),Ur=h=a;Ur[2]=Rz;
Ur[1]=185;return R}if(63===c){var Sz=a[2];h=a;h[2]=Sz;dt(h);return R}if(212===c){var Vr=h=a;Vr[2]=null;Vr[1]=213;return R}if(94===c){var Tz=a[2],Wr=h=a;Wr[2]=Tz;Wr[1]=91;return R}if(8===c){var Uz=a[2],Xr=h=a;Xr[2]=Uz;Xr[1]=5;return R}if(246===c){var Yr=h=a;Yr[2]=null;Yr[1]=247;return R}if(190===c){var Vz=a[2],Zr=h=a;Zr[2]=Vz;Zr[1]=189;return R}if(177===c){var nr=a[144],$r=a[2],Wz=$r===Y;a[144]=$r;h=a;h[1]=r(Wz)?178:179;return R}if(49===c){var as=h=a;as[2]=ql;as[1]=50;return R}return 84===c?(h=a,h[1]=
86,R):null}}(b),b)}(),d=function(){var d=a.j?a.j():a.call(null);d[6]=b;return d}();return Ys(d)}}(a));return a}();
})();
